{"version":3,"sources":["Group.tsx"],"names":["React","PropTypes","cn","isIE11","isEdge","Corners","isButton","jsStyles","Group","render","style","width","props","first","last","Children","forEach","children","child","isValidElement","root","map","isWidthInPercent","Boolean","toString","includes","itemCss","item","itemFirst","corners","TOP_LEFT","BOTTOM_LEFT","TOP_RIGHT","BOTTOM_RIGHT","cloneElement","fixed","stretch","stretchFallback","Component","__KONTUR_REACT_UI__","propTypes","oneOfType","number","string"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\nimport { isIE11, isEdge } from '../../lib/utils';\r\nimport { Corners } from '../Button/Corners';\r\nimport { Nullable } from '../../typings/utility-types';\r\nimport { isButton } from '../Button';\r\n\r\nimport { jsStyles } from './Group.styles';\r\n\r\nexport interface GroupProps {\r\n  width?: React.CSSProperties['width'];\r\n}\r\n\r\ninterface GroupChildProps {\r\n  width?: React.CSSProperties['width'];\r\n  corners?: number;\r\n}\r\n\r\nexport class Group extends React.Component<GroupProps> {\r\n  public static __KONTUR_REACT_UI__ = 'Group';\r\n\r\n  public static propTypes = {\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  };\r\n\r\n  public render() {\r\n    const style: React.CSSProperties = {\r\n      width: this.props.width,\r\n    };\r\n\r\n    let first: Nullable<React.ReactElement<any>> = null;\r\n    let last: Nullable<React.ReactElement<any>> = null;\r\n\r\n    React.Children.forEach(this.props.children, child => {\r\n      if (child && React.isValidElement(child)) {\r\n        first = first || child;\r\n        last = child;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <span className={jsStyles.root()} style={style}>\r\n        {React.Children.map(this.props.children, child => {\r\n          if (!child || !React.isValidElement<GroupChildProps>(child)) {\r\n            return null;\r\n          }\r\n\r\n          const isWidthInPercent = Boolean(child.props.width && child.props.width.toString().includes('%'));\r\n          const itemCss = cn({\r\n            [jsStyles.item()]: true,\r\n            [jsStyles.itemFirst()]: child === first,\r\n          });\r\n\r\n          let corners = 0;\r\n          if (child !== first) {\r\n            corners |= Corners.TOP_LEFT | Corners.BOTTOM_LEFT;\r\n          }\r\n          if (child !== last) {\r\n            corners |= Corners.TOP_RIGHT | Corners.BOTTOM_RIGHT;\r\n          }\r\n\r\n          if (isButton(child)) {\r\n            child = React.cloneElement(child, { corners });\r\n          }\r\n\r\n          return (\r\n            <div\r\n              className={cn({\r\n                [jsStyles.fixed()]: !isWidthInPercent,\r\n                [jsStyles.stretch()]: isWidthInPercent,\r\n                [jsStyles.stretchFallback()]: Boolean(isWidthInPercent && this.props.width && (isIE11 || isEdge)),\r\n              })}\r\n            >\r\n              <div className={itemCss}>{child}</div>\r\n            </div>\r\n          );\r\n        })}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n"]}