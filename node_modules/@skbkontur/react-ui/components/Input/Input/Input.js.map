{"version":3,"sources":["Input.tsx"],"names":["invariant","React","raf","cn","isIE11","isEdge","isKeyBackspace","isKeyDelete","someKeys","polyfillPlaceholder","MaskedInput","ThemeContext","jsStyles","Input","state","blinking","focused","selectAllId","theme","blinkTimeout","input","selectAll","setSelectionRange","value","length","delaySelectAll","cancelDelayedSelectAll","cancel","cancelBlink","callback","clearTimeout","setState","refInput","element","handleChange","event","fieldIsEmpty","target","props","onValueChange","onChange","handleFocus","selectAllOnFocus","onFocus","handleKeyDown","e","onKeyDown","isDeleteKey","currentTarget","repeat","handleUnexpectedInput","handleKeyPress","onKeyPress","maxLength","handleMaskedValueChange","onUnexpectedInput","blink","handleBlur","onBlur","renderPrefix","prefix","renderSuffix","suffix","componentDidMount","componentWillUnmount","UNSAFE_componentWillReceiveProps","nextProps","focus","blur","offsetWidth","window","setTimeout","start","end","Error","document","activeElement","render","renderMain","onMouseEnter","onMouseLeave","onMouseOver","width","error","warning","leftIcon","rightIcon","borderless","align","type","mask","maskChar","alwaysShowMask","style","className","size","placeholder","disabled","formatChars","rest","labelProps","root","getSizeClassName","focusFallback","warningFallback","errorFallback","inputProps","textAlign","ref","isMaskVisible","undefined","renderMaskedInput","createElement","sideContainer","renderLeftIcon","wrapper","renderPlaceholder","rightContainer","renderRightIcon","renderIcon","icon","Function","useDefaultColor","sizeLarge","sizeLargeFallback","sizeMedium","sizeMediumFallback","sizeSmall","sizeSmallFallback","Boolean","Component","__KONTUR_REACT_UI__","defaultProps"],"mappings":"sSAAA,OAAOA,SAAP,MAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,EAAP,MAAe,YAAf;;AAEA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,iBAA/B;AACA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,QAAtC,QAAsD,uCAAtD;AACA,SAASC,mBAAT,QAAoC,+BAApC;;AAEA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,YAAT,QAA6B,gCAA7B;;;AAGA,SAASC,QAAT,QAAyB,gBAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;;;AAIA,WAAaC,KAAb;;;;;;;;;AASSC,IAAAA,KATT,GAS6B;AACzBL,MAAAA,mBAAmB,EAAE,KADI;AAEzBM,MAAAA,QAAQ,EAAE,KAFe;AAGzBC,MAAAA,OAAO,EAAE,KAHgB,EAT7B;;;AAeUC,IAAAA,WAfV,GAeuC,IAfvC;AAgBUC,IAAAA,KAhBV;AAiBUC,IAAAA,YAjBV,GAiByB,CAjBzB;AAkBUC,IAAAA,KAlBV,GAkB2C,IAlB3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GSC,IAAAA,SA5GT,GA4GqB,YAAY;AAC7B,UAAI,MAAKD,KAAT,EAAgB;AACd,cAAKE,iBAAL,CAAuB,CAAvB,EAA0B,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAA3C;AACD;AACF,KAhHH;;AAkHUC,IAAAA,cAlHV,GAkH2B,oBAAe,MAAKR,WAAL,GAAmBf,GAAG,CAAC,MAAKmB,SAAN,CAArC,EAlH3B;;AAoHUK,IAAAA,sBApHV,GAoHmC,YAAY;AAC3C,UAAI,MAAKT,WAAT,EAAsB;AACpBf,QAAAA,GAAG,CAACyB,MAAJ,CAAW,MAAKV,WAAhB;AACA,cAAKA,WAAL,GAAmB,IAAnB;AACD;AACF,KAzHH;;AA2HUW,IAAAA,WA3HV,GA2HwB,UAACC,QAAD,EAAiC;AACrD,UAAI,MAAKV,YAAT,EAAuB;AACrBW,QAAAA,YAAY,CAAC,MAAKX,YAAN,CAAZ;AACA,cAAKA,YAAL,GAAoB,CAApB;AACA,YAAI,MAAKL,KAAL,CAAWC,QAAf,EAAyB;AACvB,gBAAKgB,QAAL,CAAc,EAAEhB,QAAQ,EAAE,KAAZ,EAAd,EAAmCc,QAAnC;AACA;AACD;AACF;AACD,UAAIA,QAAJ,EAAc;AACZA,QAAAA,QAAQ;AACT;AACF,KAvIH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+SUG,IAAAA,QA/SV,GA+SqB,UAACC,OAAD,EAAoD;AACrE,UAAIA,OAAO,YAAYvB,WAAvB,EAAoC;AAClC,cAAKU,KAAL,GAAaa,OAAO,CAACb,KAArB;AACD,OAFD,MAEO;AACL,cAAKA,KAAL,GAAaa,OAAb;AACD;AACF,KArTH;;AAuTUC,IAAAA,YAvTV,GAuTyB,UAACC,KAAD,EAAgD;AACrE,UAAI1B,mBAAJ,EAAyB;AACvB,YAAM2B,YAAY,GAAGD,KAAK,CAACE,MAAN,CAAad,KAAb,KAAuB,EAA5C;AACA,YAAI,MAAKT,KAAL,CAAWL,mBAAX,KAAmC2B,YAAvC,EAAqD;AACnD,gBAAKL,QAAL,CAAc,EAAEtB,mBAAmB,EAAE2B,YAAvB,EAAd;AACD;AACF;;AAED,UAAI,MAAKE,KAAL,CAAWC,aAAf,EAA8B;AAC5B,cAAKD,KAAL,CAAWC,aAAX,CAAyBJ,KAAK,CAACE,MAAN,CAAad,KAAtC;AACD;;AAED,UAAI,MAAKe,KAAL,CAAWE,QAAf,EAAyB;AACvB,cAAKF,KAAL,CAAWE,QAAX,CAAoBL,KAApB;AACD;AACF,KAtUH;;AAwUUM,IAAAA,WAxUV,GAwUwB,UAACN,KAAD,EAA+C;AACnE,YAAKJ,QAAL,CAAc;AACZf,QAAAA,OAAO,EAAE,IADG,EAAd;;;AAIA,UAAI,MAAKsB,KAAL,CAAWI,gBAAf,EAAiC;AAC/B;AACA,cAAKtB,KAAL,GAAa,MAAKC,SAAL,EAAb,GAAgC,MAAKI,cAAL,EAAhC;AACD;;AAED,UAAI,MAAKa,KAAL,CAAWK,OAAf,EAAwB;AACtB,cAAKL,KAAL,CAAWK,OAAX,CAAmBR,KAAnB;AACD;AACF,KArVH;;AAuVUS,IAAAA,aAvVV,GAuV0B,UAACC,CAAD,EAA8C;AACpE,UAAI,MAAKP,KAAL,CAAWQ,SAAf,EAA0B;AACxB,cAAKR,KAAL,CAAWQ,SAAX,CAAqBD,CAArB;AACD;;AAED,UAAME,WAAW,GAAGvC,QAAQ,CAACF,cAAD,EAAiBC,WAAjB,CAAR,CAAsCsC,CAAtC,CAApB;;AAEA,UAAI,CAACA,CAAC,CAACG,aAAF,CAAgBzB,KAAjB,IAA0BwB,WAA1B,IAAyC,CAACF,CAAC,CAACI,MAAhD,EAAwD;AACtD,cAAKC,qBAAL;AACD;AACF,KAjWH;;AAmWUC,IAAAA,cAnWV,GAmW2B,UAAChB,KAAD,EAAkD;AACzE,UAAI,MAAKG,KAAL,CAAWc,UAAf,EAA2B;AACzB,cAAKd,KAAL,CAAWc,UAAX,CAAsBjB,KAAtB;AACD;;AAED,UAAI,MAAKG,KAAL,CAAWe,SAAX,KAAyBlB,KAAK,CAACa,aAAN,CAAoBzB,KAApB,CAA0BC,MAAvD,EAA+D;AAC7D,cAAK0B,qBAAL,CAA2Bf,KAAK,CAACa,aAAN,CAAoBzB,KAA/C;AACD;AACF,KA3WH;;AA6WU+B,IAAAA,uBA7WV,GA6WoC,UAAC/B,KAAD,EAAmB;AACnD,UAAI,MAAKe,KAAL,CAAWC,aAAf,EAA8B;AAC5B,cAAKD,KAAL,CAAWC,aAAX,CAAyBhB,KAAzB;AACD;AACF,KAjXH;;AAmXU2B,IAAAA,qBAnXV,GAmXkC,UAAC3B,KAAD,EAA4C,KAA3CA,KAA2C,cAA3CA,KAA2C,GAA3B,MAAKe,KAAL,CAAWf,KAAX,IAAoB,EAAO;AAC1E,UAAI,MAAKe,KAAL,CAAWiB,iBAAf,EAAkC;AAChC,cAAKjB,KAAL,CAAWiB,iBAAX,CAA6BhC,KAA7B;AACD,OAFD,MAEO;AACL,cAAKiC,KAAL;AACD;AACF,KAzXH;;AA2XUC,IAAAA,UA3XV,GA2XuB,UAACtB,KAAD,EAA+C;AAClE,YAAKJ,QAAL,CAAc,EAAEf,OAAO,EAAE,KAAX,EAAd;;AAEA,UAAI,MAAKsB,KAAL,CAAWoB,MAAf,EAAuB;AACrB,cAAKpB,KAAL,CAAWoB,MAAX,CAAkBvB,KAAlB;AACD;AACF,KAjYH;;AAmYUwB,IAAAA,YAnYV,GAmYyB,YAAM;AACnBC,MAAAA,MADmB,GACR,MAAKtB,KADG,CACnBsB,MADmB;;AAG3B,UAAI,CAACA,MAAL,EAAa;AACX,eAAO,IAAP;AACD;;AAED,aAAO,8BAAM,SAAS,EAAEhD,QAAQ,CAACgD,MAAT,CAAgB,MAAK1C,KAArB,CAAjB,IAA+C0C,MAA/C,CAAP;AACD,KA3YH;;AA6YUC,IAAAA,YA7YV,GA6YyB,YAAM;AACnBC,MAAAA,MADmB,GACR,MAAKxB,KADG,CACnBwB,MADmB;;AAG3B,UAAI,CAACA,MAAL,EAAa;AACX,eAAO,IAAP;AACD;;AAED,aAAO,8BAAM,SAAS,EAAElD,QAAQ,CAACkD,MAAT,CAAgB,MAAK5C,KAArB,CAAjB,IAA+C4C,MAA/C,CAAP;AACD,KArZH,mDAoBSC,iBApBT,GAoBE,6BAA2B,CACzB,IAAItD,mBAAJ,EAAyB,CACvB,KAAKsB,QAAL,CAAc,EAAEtB,mBAAmB,EAAE,IAAvB,EAAd,EACD,CACF,CAxBH,QA0BSuD,oBA1BT,GA0BE,gCAA8B,CAC5B,IAAI,KAAK7C,YAAT,EAAuB,CACrBW,YAAY,CAAC,KAAKX,YAAN,CAAZ,CACD,CACD,KAAKO,sBAAL,GACD,CA/BH,QAiCSuC,gCAjCT,GAiCE,0CAAwCC,SAAxC,EAA+D,CAC7D,IAAIzD,mBAAmB,IAAI,CAACyD,SAAS,CAAC3C,KAAtC,EAA6C,CAC3C,KAAKQ,QAAL,CAAc,EAAEtB,mBAAmB,EAAE,IAAvB,EAAd,EACD,CACF,CArCH,CAuCE;;6gBAvCF,QA0CS0D,KA1CT,GA0CE,iBAAe,CACbnE,SAAS,CAAC,KAAKoB,KAAN,EAAa,kDAAb,CAAT,CACA,KAAKA,KAAL,CAAY+C,KAAZ,GACD,CA7CH,CA+CE;;ipBA/CF,QAkDSC,IAlDT,GAkDE,gBAAc,CACZpE,SAAS,CAAC,KAAKoB,KAAN,EAAa,iDAAb,CAAT,CACA,KAAKA,KAAL,CAAYgD,IAAZ,GACD,CArDH,CAuDE;;ixBAvDF,QA0DSZ,KA1DT,GA0DE,iBAAe,mBACb,IAAI,KAAKrC,YAAT,EAAuB,CACrB,KAAKS,WAAL,CAAiB,YAAM,CACrB;AACA;AACA,cAAM,MAAI,CAACR,KAAL,IAAc,MAAI,CAACA,KAAL,CAAWiD,WAA/B,EACA,MAAI,CAACb,KAAL,GACD,CALD,EAMA,OACD,CACD,KAAKzB,QAAL,CAAc,EAAEhB,QAAQ,EAAE,IAAZ,EAAd,EAAkC,YAAM,CACtC,MAAI,CAACI,YAAL,GAAoBmD,MAAM,CAACC,UAAP,CAAkB,MAAI,CAAC3C,WAAvB,EAAoC,GAApC,CAApB,CACD,CAFD,EAGD,CAvEH,CAyEE;;0MAzEF,QA4ESN,iBA5ET,GA4EE,2BAAyBkD,KAAzB,EAAwCC,GAAxC,EAAqD,CACnD,IAAI,CAAC,KAAKrD,KAAV,EAAiB,CACf,MAAM,IAAIsD,KAAJ,CAAU,oDAAV,CAAN,CACD,CAED,IAAIC,QAAQ,CAACC,aAAT,KAA2B,KAAKxD,KAApC,EAA2C,CACzC,KAAK+C,KAAL,GACD,CAED,KAAK/C,KAAL,CAAWE,iBAAX,CAA6BkD,KAA7B,EAAoCC,GAApC,EACD,CAtFH,QA8FSI,MA9FT,GA8FE,kBAA6B,mBAC3B,OACE,oBAAC,YAAD,CAAc,QAAd,QACG,UAAA3D,KAAK,EAAI,CACR,MAAI,CAACA,KAAL,GAAaA,KAAb,CACA,OAAO,MAAI,CAAC4D,UAAL,EAAP,CACD,CAJH,CADF,CAQD,CAvGH,CAyGE;;moBAzGF,QAyIUA,UAzIV,GAyIE,sBAAqB,2BA+Bf,KAAKxC,KA/BU,CAEjByC,YAFiB,eAEjBA,YAFiB,CAGjBC,YAHiB,eAGjBA,YAHiB,CAIjBC,WAJiB,eAIjBA,WAJiB,CAKjBnC,SALiB,eAKjBA,SALiB,CAMjBM,UANiB,eAMjBA,UANiB,CAOjBb,aAPiB,eAOjBA,aAPiB,CAQjB2C,KARiB,eAQjBA,KARiB,CASjBC,KATiB,eASjBA,KATiB,CAUjBC,OAViB,eAUjBA,OAViB,CAWjBC,QAXiB,eAWjBA,QAXiB,CAYjBC,SAZiB,eAYjBA,SAZiB,CAajBC,UAbiB,eAajBA,UAbiB,CAcjBhE,KAdiB,eAcjBA,KAdiB,CAejBiE,KAfiB,eAejBA,KAfiB,CAgBjBC,IAhBiB,eAgBjBA,IAhBiB,CAiBjBC,IAjBiB,eAiBjBA,IAjBiB,CAkBjBC,QAlBiB,eAkBjBA,QAlBiB,CAmBjBC,cAnBiB,eAmBjBA,cAnBiB,CAoBjBC,KApBiB,eAoBjBA,KApBiB,CAqBjBC,SArBiB,eAqBjBA,SArBiB,CAsBjBC,IAtBiB,eAsBjBA,IAtBiB,CAuBjBC,WAvBiB,eAuBjBA,WAvBiB,CAwBjBtD,gBAxBiB,eAwBjBA,gBAxBiB,CAyBjBuD,QAzBiB,eAyBjBA,QAzBiB,CA0BjB1C,iBA1BiB,eA0BjBA,iBA1BiB,CA2BjBK,MA3BiB,eA2BjBA,MA3BiB,CA4BjBE,MA5BiB,eA4BjBA,MA5BiB,CA6BjBoC,WA7BiB,eA6BjBA,WA7BiB,CA8BdC,IA9Bc,saAiCW,KAAKrF,KAjChB,CAiCXC,QAjCW,eAiCXA,QAjCW,CAiCDC,OAjCC,eAiCDA,OAjCC,CAmCnB,IAAMoF,UAAU,GAAG,EACjBN,SAAS,EAAE3F,EAAE,CAACS,QAAQ,CAACyF,IAAT,CAAc,KAAKnF,KAAnB,CAAD,EAA4B,KAAKoF,gBAAL,EAA5B,iBACV1F,QAAQ,CAAC2E,UAAT,EADU,IACc,CAAC,CAACA,UADhB,MAEV3E,QAAQ,CAACuD,KAAT,CAAe,KAAKjD,KAApB,CAFU,IAEmBF,OAFnB,MAGVJ,QAAQ,CAAC4C,KAAT,CAAe,KAAKtC,KAApB,CAHU,IAGmB,CAAC,CAACH,QAHrB,MAIVH,QAAQ,CAACwE,OAAT,CAAiB,KAAKlE,KAAtB,CAJU,IAIqB,CAAC,CAACkE,OAJvB,MAKVxE,QAAQ,CAACuE,KAAT,CAAe,KAAKjE,KAApB,CALU,IAKmB,CAAC,CAACiE,KALrB,MAMVvE,QAAQ,CAACqF,QAAT,CAAkB,KAAK/E,KAAvB,CANU,IAMsB,CAAC,CAAC+E,QANxB,MAOVrF,QAAQ,CAAC2F,aAAT,CAAuB,KAAKrF,KAA5B,CAPU,IAO2BF,OAAO,KAAKZ,MAAM,IAAIC,MAAf,CAPlC,MAQVO,QAAQ,CAAC4F,eAAT,CAAyB,KAAKtF,KAA9B,CARU,IAQ6B,CAAC,CAACkE,OAAF,KAAchF,MAAM,IAAIC,MAAxB,CAR7B,MASVO,QAAQ,CAAC6F,aAAT,CAAuB,KAAKvF,KAA5B,CATU,IAS2B,CAAC,CAACiE,KAAF,KAAY/E,MAAM,IAAIC,MAAtB,CAT3B,OADI,EAYjBwF,KAAK,EAAE,EAAEX,KAAK,EAALA,KAAF,EAZU,EAajBH,YAAY,EAAZA,YAbiB,EAcjBC,YAAY,EAAZA,YAdiB,EAejBC,WAAW,EAAXA,WAfiB,EAAnB,CAkBA,IAAMyB,UAAU,gBACXP,IADW,IAEdL,SAAS,EAAElF,QAAQ,CAACQ,KAAT,CAAe,KAAKF,KAApB,CAFG,EAGdK,KAAK,EAALA,KAHc,EAIdiB,QAAQ,EAAE,KAAKN,YAJD,EAKdS,OAAO,EAAE,KAAKF,WALA,EAMdK,SAAS,EAAE,KAAKF,aANF,EAOdQ,UAAU,EAAE,KAAKD,cAPH,EAQdO,MAAM,EAAE,KAAKD,UARC,EASdoC,KAAK,EAAE,EAAEc,SAAS,EAAEnB,KAAb,EATO,EAUdoB,GAAG,EAAE,KAAK5E,QAVI,EAWdyD,IAAI,EAAE,MAXQ,EAYdO,WAAW,EAAE,CAAC,KAAKa,aAAN,IAAuB,CAACpG,mBAAxB,GAA8CuF,WAA9C,GAA4Dc,SAZ3D,EAadb,QAAQ,EAARA,QAbc,GAAhB,CAgBA,IAAIR,IAAI,KAAK,UAAb,EAAyB,CACvBiB,UAAU,CAACjB,IAAX,GAAkBA,IAAlB,CACD,CAED,IAAMrE,KAAK,GAAGsE,IAAI,GAAG,KAAKqB,iBAAL,CAAuBL,UAAvB,EAAmChB,IAAnC,CAAH,GAA8CzF,KAAK,CAAC+G,aAAN,CAAoB,OAApB,EAA6BN,UAA7B,CAAhE,CAEA,OACE,6BAAWN,UAAX,EACE,8BAAM,SAAS,EAAExF,QAAQ,CAACqG,aAAT,EAAjB,IACG,KAAKC,cAAL,EADH,EAEG,KAAKvD,YAAL,EAFH,CADF,EAKE,8BAAM,SAAS,EAAE/C,QAAQ,CAACuG,OAAT,EAAjB,IACG/F,KADH,EAEG,KAAKgG,iBAAL,EAFH,CALF,EASE,8BAAM,SAAS,EAAEjH,EAAE,CAACS,QAAQ,CAACqG,aAAT,EAAD,EAA2BrG,QAAQ,CAACyG,cAAT,EAA3B,CAAnB,IACG,KAAKxD,YAAL,EADH,EAEG,KAAKyD,eAAL,EAFH,CATF,CADF,CAgBD,CApOH,QAsOUP,iBAtOV,GAsOE,2BACEL,UADF,EAIEhB,IAJF,EAKE,CACA,OACE,oBAAC,WAAD,eACMgB,UADN,IAEE,IAAI,EAAEhB,IAFR,EAGE,QAAQ,EAAE,KAAKpD,KAAL,CAAWqD,QAAX,KAAwBmB,SAAxB,GAAoC,GAApC,GAA0C,KAAKxE,KAAL,CAAWqD,QAHjE,EAIE,cAAc,EAAE,KAAKrD,KAAL,CAAWsD,cAJ7B,EAKE,WAAW,EAAE,KAAKtD,KAAL,CAAW4D,WAL1B,EAME,QAAQ,EAAE,KAAK5D,KAAL,CAAWE,QANvB,EAOE,aAAa,EAAE,KAAKc,uBAPtB,EAQE,iBAAiB,EAAE,KAAKJ,qBAR1B,IADF,CAYD,CAxPH,QA0PUgE,cA1PV,GA0PE,0BAAyB,CACvB,OAAO,KAAKK,UAAL,CAAgB,KAAKjF,KAAL,CAAW+C,QAA3B,EAAqCzE,QAAQ,CAACyE,QAAT,EAArC,CAAP,CACD,CA5PH,QA8PUiC,eA9PV,GA8PE,2BAA0B,CACxB,OAAO,KAAKC,UAAL,CAAgB,KAAKjF,KAAL,CAAWgD,SAA3B,EAAsC1E,QAAQ,CAAC0E,SAAT,EAAtC,CAAP,CACD,CAhQH,QAkQUiC,UAlQV,GAkQE,oBAAmBC,IAAnB,EAAwC1B,SAAxC,EAA2D,CACzD,IAAI,CAAC0B,IAAL,EAAW,CACT,OAAO,IAAP,CACD,CAED,IAAIA,IAAI,YAAYC,QAApB,EAA8B,CAC5B,OAAO,8BAAM,SAAS,EAAE3B,SAAjB,IAA6B0B,IAAI,EAAjC,CAAP,CACD,CAED,OACE,8BAAM,SAAS,EAAErH,EAAE,CAAC2F,SAAD,EAAYlF,QAAQ,CAAC8G,eAAT,CAAyB,KAAKxG,KAA9B,CAAZ,EAAkDN,QAAQ,CAAC8G,eAAT,CAAyB,KAAKxG,KAA9B,CAAlD,CAAnB,IACGsG,IADH,CADF,CAKD,CAhRH,QAkRUJ,iBAlRV,GAkRE,6BAA4B,CAC1B,IAAIpB,WAAW,GAAG,IAAlB,CAEA,IAAI,KAAKlF,KAAL,CAAWL,mBAAX,IAAkC,KAAK6B,KAAL,CAAW0D,WAA7C,IAA4D,CAAC,KAAKa,aAAlE,IAAmF,CAAC,KAAKvE,KAAL,CAAWf,KAAnG,EAA0G,CACxGyE,WAAW,GACT,6BACE,SAAS,EAAE7F,EAAE,CAACS,QAAQ,CAACoF,WAAT,CAAqB,KAAK9E,KAA1B,CAAD,EAAmCN,QAAQ,CAACoF,WAAT,CAAqB,KAAK9E,KAA1B,CAAnC,CADf,EAEE,KAAK,EAAE,EAAEyF,SAAS,EAAE,KAAKrE,KAAL,CAAWkD,KAAX,IAAoB,SAAjC,EAFT,IAIG,KAAKlD,KAAL,CAAW0D,WAJd,CADF,CAQD,CAED,OAAOA,WAAP,CACD,CAjSH,QAmSUM,gBAnSV,GAmSE,4BAA2B,wBACzB,QAAQ,KAAKhE,KAAL,CAAWyD,IAAnB,GACE,KAAK,OAAL,CACE,uBAAUnF,QAAQ,CAAC+G,SAAT,CAAmB,KAAKzG,KAAxB,CAAV,IAA2C,IAA3C,OAAkDN,QAAQ,CAACgH,iBAAT,CAA2B,KAAK1G,KAAhC,CAAlD,IAA2Fd,MAAM,IAAIC,MAArG,OACF,KAAK,QAAL,CACE,yBAAUO,QAAQ,CAACiH,UAAT,CAAoB,KAAK3G,KAAzB,CAAV,IAA4C,IAA5C,QAAmDN,QAAQ,CAACkH,kBAAT,CAA4B,KAAK5G,KAAjC,CAAnD,IAA6Fd,MAAM,IAAIC,MAAvG,QACF,KAAK,OAAL,CACA,QACE,yBAAUO,QAAQ,CAACmH,SAAT,CAAmB,KAAK7G,KAAxB,CAAV,IAA2C,IAA3C,QAAkDN,QAAQ,CAACoH,iBAAT,CAA2B,KAAK9G,KAAhC,CAAlD,IAA2Fd,MAAM,IAAIC,MAArG,QAPJ,CASD,CA7SH,kEAwFsC,oBACD,KAAKiC,KADJ,CAC1BoD,IAD0B,gBAC1BA,IAD0B,CACpBE,cADoB,gBACpBA,cADoB,KAE1B5E,OAF0B,GAEd,KAAKF,KAFS,CAE1BE,OAF0B,CAGlC,OAAOiH,OAAO,CAACvC,IAAI,KAAK1E,OAAO,IAAI4E,cAAhB,CAAL,CAAd,CACD,CA5FH,oBAA2B3F,KAAK,CAACiI,SAAjC,EAAarH,K,CACGsH,mB,GAAsB,O,CADzBtH,K,CAGGuH,Y,GAEV,EACFrC,IAAI,EAAE,OADJ,E","sourcesContent":["import invariant from 'invariant';\r\nimport React from 'react';\r\nimport raf from 'raf';\r\nimport cn from 'classnames';\r\n\r\nimport { isIE11, isEdge } from '../../lib/utils';\r\nimport { isKeyBackspace, isKeyDelete, someKeys } from '../../lib/events/keyboard/identifiers';\r\nimport { polyfillPlaceholder } from '../../lib/polyfillPlaceholder';\r\nimport { Nullable, Override } from '../../typings/utility-types';\r\nimport { MaskedInput } from '../../internal/MaskedInput';\r\nimport { ThemeContext } from '../../lib/theming/ThemeContext';\r\nimport { Theme } from '../../lib/theming/Theme';\r\n\r\nimport { jsStyles } from './Input.styles';\r\n\r\nexport type InputSize = 'small' | 'medium' | 'large';\r\nexport type InputAlign = 'left' | 'center' | 'right';\r\nexport type InputType = 'password' | 'text';\r\nexport type InputIconType = React.ReactNode | (() => React.ReactNode);\r\n\r\nexport type InputProps = Override<\r\n  React.InputHTMLAttributes<HTMLInputElement>,\r\n  {\r\n    /**\r\n     * Иконка слева\r\n     * Если `ReactNode` применяются дефолтные стили для иконки\r\n     * Если `() => ReactNode` применяются только стили для позиционирование\r\n     */\r\n    leftIcon?: InputIconType;\r\n    /**\r\n     * Иконка справа\r\n     * Если `ReactNode` применяются дефолтные стили для иконки\r\n     * Если `() => ReactNode` применяются только стили для позиционирование\r\n     */\r\n    rightIcon?: InputIconType;\r\n    /** Состояние ошибки */\r\n    error?: boolean;\r\n    /** Состояние предупреждения */\r\n    warning?: boolean;\r\n    /** Режим прозрачной рамки */\r\n    borderless?: boolean;\r\n    /** Выравнивание текста */\r\n    align?: InputAlign;\r\n    /** Паттерн маски */\r\n    mask?: Nullable<string>;\r\n    /** Символ маски */\r\n    maskChar?: Nullable<string>;\r\n    /**\r\n     * Словарь символов-регулярок для задания маски\r\n     * @default { '9': '[0-9]', 'a': '[A-Za-z]', '*': '[A-Za-z0-9]' }\r\n     */\r\n    formatChars?: Record<string, string>;\r\n    /** Показывать символы маски */\r\n    alwaysShowMask?: boolean;\r\n    /** Размер */\r\n    size?: InputSize;\r\n    /** onValueChange */\r\n    onValueChange?: (value: string) => void;\r\n    /** Вызывается на label */\r\n    onMouseEnter?: React.MouseEventHandler<HTMLLabelElement>;\r\n    /** Вызывается на label */\r\n    onMouseLeave?: React.MouseEventHandler<HTMLLabelElement>;\r\n    /** Вызывается на label */\r\n    onMouseOver?: React.MouseEventHandler<HTMLLabelElement>;\r\n    /** Тип */\r\n    type?: InputType;\r\n    /** Значение */\r\n    value?: string;\r\n    capture?: boolean;\r\n\r\n    /**\r\n     * Префикс\r\n     * `ReactNode` перед значением, но после иконки\r\n     */\r\n    prefix?: React.ReactNode;\r\n    /**\r\n     * Суффикс\r\n     * `ReactNode` после значения, но перед правой иконкой\r\n     */\r\n    suffix?: React.ReactNode;\r\n    /** Выделять введенное значение при фокусе */\r\n    selectAllOnFocus?: boolean;\r\n    /**\r\n     * Обработчик неправильного ввода.\r\n     * По-умолчанию, инпут вспыхивает синим.\r\n     * Если передан - вызывается переданный обработчик,\r\n     * в таком случае вспыхивание можно вызвать\r\n     * публичным методом инстанса `blink()`.\r\n     *\r\n     * @param value значение инпута.\r\n     */\r\n    onUnexpectedInput?: (value: string) => void;\r\n  }\r\n>;\r\n\r\nexport interface InputState {\r\n  blinking: boolean;\r\n  focused: boolean;\r\n  polyfillPlaceholder: boolean;\r\n}\r\n\r\n/**\r\n * Интерфес пропсов наследуется от `React.InputHTMLAttributes<HTMLInputElement>`.\r\n *  Все пропсы кроме перечисленных, `className` и `style` передаются в `<input>`\r\n */\r\nexport class Input extends React.Component<InputProps, InputState> {\r\n  public static __KONTUR_REACT_UI__ = 'Input';\r\n\r\n  public static defaultProps: {\r\n    size: InputSize;\r\n  } = {\r\n    size: 'small',\r\n  };\r\n\r\n  public state: InputState = {\r\n    polyfillPlaceholder: false,\r\n    blinking: false,\r\n    focused: false,\r\n  };\r\n\r\n  private selectAllId: number | null = null;\r\n  private theme!: Theme;\r\n  private blinkTimeout = 0;\r\n  private input: HTMLInputElement | null = null;\r\n\r\n  public componentDidMount() {\r\n    if (polyfillPlaceholder) {\r\n      this.setState({ polyfillPlaceholder: true });\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    if (this.blinkTimeout) {\r\n      clearTimeout(this.blinkTimeout);\r\n    }\r\n    this.cancelDelayedSelectAll();\r\n  }\r\n\r\n  public UNSAFE_componentWillReceiveProps(nextProps: InputProps) {\r\n    if (polyfillPlaceholder && !nextProps.value) {\r\n      this.setState({ polyfillPlaceholder: true });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public focus() {\r\n    invariant(this.input, 'Cannot call \"focus\" because Input is not mounted');\r\n    this.input!.focus();\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public blur() {\r\n    invariant(this.input, 'Cannot call \"blur\" because Input is not mounted');\r\n    this.input!.blur();\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public blink() {\r\n    if (this.blinkTimeout) {\r\n      this.cancelBlink(() => {\r\n        // trigger reflow to restart animation\r\n        // @see https://css-tricks.com/restart-css-animation/#article-header-id-0\r\n        void (this.input && this.input.offsetWidth);\r\n        this.blink();\r\n      });\r\n      return;\r\n    }\r\n    this.setState({ blinking: true }, () => {\r\n      this.blinkTimeout = window.setTimeout(this.cancelBlink, 150);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public setSelectionRange(start: number, end: number) {\r\n    if (!this.input) {\r\n      throw new Error('Cannot call \"setSelectionRange\" on unmounted Input');\r\n    }\r\n\r\n    if (document.activeElement !== this.input) {\r\n      this.focus();\r\n    }\r\n\r\n    this.input.setSelectionRange(start, end);\r\n  }\r\n\r\n  public get isMaskVisible(): boolean {\r\n    const { mask, alwaysShowMask } = this.props;\r\n    const { focused } = this.state;\r\n    return Boolean(mask && (focused || alwaysShowMask));\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    return (\r\n      <ThemeContext.Consumer>\r\n        {theme => {\r\n          this.theme = theme;\r\n          return this.renderMain();\r\n        }}\r\n      </ThemeContext.Consumer>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public selectAll = (): void => {\r\n    if (this.input) {\r\n      this.setSelectionRange(0, this.input.value.length);\r\n    }\r\n  };\r\n\r\n  private delaySelectAll = (): number => (this.selectAllId = raf(this.selectAll));\r\n\r\n  private cancelDelayedSelectAll = (): void => {\r\n    if (this.selectAllId) {\r\n      raf.cancel(this.selectAllId);\r\n      this.selectAllId = null;\r\n    }\r\n  };\r\n\r\n  private cancelBlink = (callback?: () => void): void => {\r\n    if (this.blinkTimeout) {\r\n      clearTimeout(this.blinkTimeout);\r\n      this.blinkTimeout = 0;\r\n      if (this.state.blinking) {\r\n        this.setState({ blinking: false }, callback);\r\n        return;\r\n      }\r\n    }\r\n    if (callback) {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  private renderMain() {\r\n    const {\r\n      onMouseEnter,\r\n      onMouseLeave,\r\n      onMouseOver,\r\n      onKeyDown,\r\n      onKeyPress,\r\n      onValueChange,\r\n      width,\r\n      error,\r\n      warning,\r\n      leftIcon,\r\n      rightIcon,\r\n      borderless,\r\n      value,\r\n      align,\r\n      type,\r\n      mask,\r\n      maskChar,\r\n      alwaysShowMask,\r\n      style,\r\n      className,\r\n      size,\r\n      placeholder,\r\n      selectAllOnFocus,\r\n      disabled,\r\n      onUnexpectedInput,\r\n      prefix,\r\n      suffix,\r\n      formatChars,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    const { blinking, focused } = this.state;\r\n\r\n    const labelProps = {\r\n      className: cn(jsStyles.root(this.theme), this.getSizeClassName(), {\r\n        [jsStyles.borderless()]: !!borderless,\r\n        [jsStyles.focus(this.theme)]: focused,\r\n        [jsStyles.blink(this.theme)]: !!blinking,\r\n        [jsStyles.warning(this.theme)]: !!warning,\r\n        [jsStyles.error(this.theme)]: !!error,\r\n        [jsStyles.disabled(this.theme)]: !!disabled,\r\n        [jsStyles.focusFallback(this.theme)]: focused && (isIE11 || isEdge),\r\n        [jsStyles.warningFallback(this.theme)]: !!warning && (isIE11 || isEdge),\r\n        [jsStyles.errorFallback(this.theme)]: !!error && (isIE11 || isEdge),\r\n      }),\r\n      style: { width },\r\n      onMouseEnter,\r\n      onMouseLeave,\r\n      onMouseOver,\r\n    };\r\n\r\n    const inputProps = {\r\n      ...rest,\r\n      className: jsStyles.input(this.theme),\r\n      value,\r\n      onChange: this.handleChange,\r\n      onFocus: this.handleFocus,\r\n      onKeyDown: this.handleKeyDown,\r\n      onKeyPress: this.handleKeyPress,\r\n      onBlur: this.handleBlur,\r\n      style: { textAlign: align },\r\n      ref: this.refInput,\r\n      type: 'text',\r\n      placeholder: !this.isMaskVisible && !polyfillPlaceholder ? placeholder : undefined,\r\n      disabled,\r\n    };\r\n\r\n    if (type === 'password') {\r\n      inputProps.type = type;\r\n    }\r\n\r\n    const input = mask ? this.renderMaskedInput(inputProps, mask) : React.createElement('input', inputProps);\r\n\r\n    return (\r\n      <label {...labelProps}>\r\n        <span className={jsStyles.sideContainer()}>\r\n          {this.renderLeftIcon()}\r\n          {this.renderPrefix()}\r\n        </span>\r\n        <span className={jsStyles.wrapper()}>\r\n          {input}\r\n          {this.renderPlaceholder()}\r\n        </span>\r\n        <span className={cn(jsStyles.sideContainer(), jsStyles.rightContainer())}>\r\n          {this.renderSuffix()}\r\n          {this.renderRightIcon()}\r\n        </span>\r\n      </label>\r\n    );\r\n  }\r\n\r\n  private renderMaskedInput(\r\n    inputProps: React.InputHTMLAttributes<HTMLInputElement> & {\r\n      capture?: boolean;\r\n    },\r\n    mask: string,\r\n  ) {\r\n    return (\r\n      <MaskedInput\r\n        {...inputProps}\r\n        mask={mask}\r\n        maskChar={this.props.maskChar === undefined ? '_' : this.props.maskChar}\r\n        alwaysShowMask={this.props.alwaysShowMask}\r\n        formatChars={this.props.formatChars}\r\n        onChange={this.props.onChange}\r\n        onValueChange={this.handleMaskedValueChange}\r\n        onUnexpectedInput={this.handleUnexpectedInput}\r\n      />\r\n    );\r\n  }\r\n\r\n  private renderLeftIcon() {\r\n    return this.renderIcon(this.props.leftIcon, jsStyles.leftIcon());\r\n  }\r\n\r\n  private renderRightIcon() {\r\n    return this.renderIcon(this.props.rightIcon, jsStyles.rightIcon());\r\n  }\r\n\r\n  private renderIcon(icon: InputIconType, className: string) {\r\n    if (!icon) {\r\n      return null;\r\n    }\r\n\r\n    if (icon instanceof Function) {\r\n      return <span className={className}>{icon()}</span>;\r\n    }\r\n\r\n    return (\r\n      <span className={cn(className, jsStyles.useDefaultColor(this.theme), jsStyles.useDefaultColor(this.theme))}>\r\n        {icon}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private renderPlaceholder() {\r\n    let placeholder = null;\r\n\r\n    if (this.state.polyfillPlaceholder && this.props.placeholder && !this.isMaskVisible && !this.props.value) {\r\n      placeholder = (\r\n        <div\r\n          className={cn(jsStyles.placeholder(this.theme), jsStyles.placeholder(this.theme))}\r\n          style={{ textAlign: this.props.align || 'inherit' }}\r\n        >\r\n          {this.props.placeholder}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return placeholder;\r\n  }\r\n\r\n  private getSizeClassName() {\r\n    switch (this.props.size) {\r\n      case 'large':\r\n        return { [jsStyles.sizeLarge(this.theme)]: true, [jsStyles.sizeLargeFallback(this.theme)]: isIE11 || isEdge };\r\n      case 'medium':\r\n        return { [jsStyles.sizeMedium(this.theme)]: true, [jsStyles.sizeMediumFallback(this.theme)]: isIE11 || isEdge };\r\n      case 'small':\r\n      default:\r\n        return { [jsStyles.sizeSmall(this.theme)]: true, [jsStyles.sizeSmallFallback(this.theme)]: isIE11 || isEdge };\r\n    }\r\n  }\r\n\r\n  private refInput = (element: HTMLInputElement | MaskedInput | null) => {\r\n    if (element instanceof MaskedInput) {\r\n      this.input = element.input;\r\n    } else {\r\n      this.input = element;\r\n    }\r\n  };\r\n\r\n  private handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (polyfillPlaceholder) {\r\n      const fieldIsEmpty = event.target.value === '';\r\n      if (this.state.polyfillPlaceholder !== fieldIsEmpty) {\r\n        this.setState({ polyfillPlaceholder: fieldIsEmpty });\r\n      }\r\n    }\r\n\r\n    if (this.props.onValueChange) {\r\n      this.props.onValueChange(event.target.value);\r\n    }\r\n\r\n    if (this.props.onChange) {\r\n      this.props.onChange(event);\r\n    }\r\n  };\r\n\r\n  private handleFocus = (event: React.FocusEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      focused: true,\r\n    });\r\n\r\n    if (this.props.selectAllOnFocus) {\r\n      // https://github.com/facebook/react/issues/7769\r\n      this.input ? this.selectAll() : this.delaySelectAll();\r\n    }\r\n\r\n    if (this.props.onFocus) {\r\n      this.props.onFocus(event);\r\n    }\r\n  };\r\n\r\n  private handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (this.props.onKeyDown) {\r\n      this.props.onKeyDown(e);\r\n    }\r\n\r\n    const isDeleteKey = someKeys(isKeyBackspace, isKeyDelete)(e);\r\n\r\n    if (!e.currentTarget.value && isDeleteKey && !e.repeat) {\r\n      this.handleUnexpectedInput();\r\n    }\r\n  };\r\n\r\n  private handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (this.props.onKeyPress) {\r\n      this.props.onKeyPress(event);\r\n    }\r\n\r\n    if (this.props.maxLength === event.currentTarget.value.length) {\r\n      this.handleUnexpectedInput(event.currentTarget.value);\r\n    }\r\n  };\r\n\r\n  private handleMaskedValueChange = (value: string) => {\r\n    if (this.props.onValueChange) {\r\n      this.props.onValueChange(value);\r\n    }\r\n  };\r\n\r\n  private handleUnexpectedInput = (value: string = this.props.value || '') => {\r\n    if (this.props.onUnexpectedInput) {\r\n      this.props.onUnexpectedInput(value);\r\n    } else {\r\n      this.blink();\r\n    }\r\n  };\r\n\r\n  private handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\r\n    this.setState({ focused: false });\r\n\r\n    if (this.props.onBlur) {\r\n      this.props.onBlur(event);\r\n    }\r\n  };\r\n\r\n  private renderPrefix = () => {\r\n    const { prefix } = this.props;\r\n\r\n    if (!prefix) {\r\n      return null;\r\n    }\r\n\r\n    return <span className={jsStyles.prefix(this.theme)}>{prefix}</span>;\r\n  };\r\n\r\n  private renderSuffix = () => {\r\n    const { suffix } = this.props;\r\n\r\n    if (!suffix) {\r\n      return null;\r\n    }\r\n\r\n    return <span className={jsStyles.suffix(this.theme)}>{suffix}</span>;\r\n  };\r\n}\r\n"]}