{"version":3,"sources":["SelectionHelpers.tsx"],"names":["selectNodeContents","node","start","end","document","createRange","selection","window","getSelection","range","undefined","setStart","setEnd","removeAllRanges","addRange","e","body","createTextRange","moveToElementText","select","removeAllSelections"],"mappings":"AAAA,OAAO,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD,EAA2BC,KAA3B,EAA2CC,GAA3C,EAA4D;AAC5F,MAAI,CAACF,IAAL,EAAW;AACT;AACD;AACD,MAAIG,QAAQ,CAACC,WAAb,EAA0B;AACxB,QAAI;AACF,UAAMC,SAAS,GAAGC,MAAM,CAACC,YAAP,EAAlB;AACA,UAAMC,KAAK,GAAGF,MAAM,CAACH,QAAP,CAAgBC,WAAhB,EAAd;AACA,UAAIH,KAAK,KAAKQ,SAAV,IAAuBP,GAAG,KAAKO,SAAnC,EAA8C;AAC5CD,QAAAA,KAAK,CAACE,QAAN,CAAeV,IAAf,EAAqBC,KAArB;AACAO,QAAAA,KAAK,CAACG,MAAN,CAAaX,IAAb,EAAmBE,GAAnB;AACD,OAHD,MAGO;AACLM,QAAAA,KAAK,CAACT,kBAAN,CAAyBC,IAAzB;AACD;AACD,UAAIK,SAAS,KAAK,IAAlB,EAAwB;AACtB;AACAA,QAAAA,SAAS,CAACO,eAAV;AACAP,QAAAA,SAAS,CAACQ,QAAV,CAAmBL,KAAnB;AACA;AACD;AACF,KAfD,CAeE,OAAOM,CAAP,EAAU;AACV;AACD;AACF;;AAED;AACA,MAAI,OAAOX,QAAQ,CAACY,IAAT,CAAcC,eAArB,KAAyC,UAA7C,EAAyD;AACvD;AACA,QAAMR,MAAK,GAAGL,QAAQ,CAACY,IAAT,CAAcC,eAAd,EAAd;AACAR,IAAAA,MAAK,CAACS,iBAAN,CAAwBjB,IAAxB;AACA,QAAI,OAAOQ,MAAK,CAACU,MAAb,KAAwB,UAA5B,EAAwC;AACtCV,MAAAA,MAAK,CAACU,MAAN;AACD;AACD;AACD;AACF,CAnCM;;AAqCP,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACvC,MAAMd,SAAS,GAAGC,MAAM,CAACC,YAAP,EAAlB;AACA,MAAIF,SAAS,KAAK,IAAlB,EAAwB;AACtB,QAAI;AACF;AACAA,MAAAA,SAAS,CAACO,eAAV;AACD,KAHD,CAGE,OAAOE,CAAP,EAAU;AACV;AACD;AACF;AACF,CAVM","sourcesContent":["export const selectNodeContents = (node: HTMLElement | null, start?: number, end?: number) => {\r\n  if (!node) {\r\n    return;\r\n  }\r\n  if (document.createRange) {\r\n    try {\r\n      const selection = window.getSelection();\r\n      const range = window.document.createRange();\r\n      if (start !== undefined && end !== undefined) {\r\n        range.setStart(node, start);\r\n        range.setEnd(node, end);\r\n      } else {\r\n        range.selectNodeContents(node);\r\n      }\r\n      if (selection !== null) {\r\n        // Fix IE from issue not working (https://github.com/skbkontur/retail-ui/issues/1205)\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n        return;\r\n      }\r\n    } catch (e) {\r\n      // empty block\r\n    }\r\n  }\r\n\r\n  // @ts-ignore (IE specific api)\r\n  if (typeof document.body.createTextRange === 'function') {\r\n    // @ts-ignore\r\n    const range = document.body.createTextRange();\r\n    range.moveToElementText(node);\r\n    if (typeof range.select === 'function') {\r\n      range.select();\r\n    }\r\n    return;\r\n  }\r\n};\r\n\r\nexport const removeAllSelections = () => {\r\n  const selection = window.getSelection();\r\n  if (selection !== null) {\r\n    try {\r\n      // Fix IE from issue not working (https://github.com/skbkontur/retail-ui/issues/1205)\r\n      selection.removeAllRanges();\r\n    } catch (e) {\r\n      // empty block\r\n    }\r\n  }\r\n};\r\n"]}