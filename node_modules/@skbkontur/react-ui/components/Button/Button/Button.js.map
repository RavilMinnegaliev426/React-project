{"version":3,"sources":["Button.tsx"],"names":["React","cn","isIE11","isEdge","tabListener","ThemeContext","jsStyles","Corners","Button","state","focusedByTab","theme","node","handleFocus","e","props","disabled","disableFocus","process","nextTick","isTabPressed","setState","onFocus","handleBlur","onBlur","_ref","componentDidMount","autoFocus","focus","blur","render","renderMain","corners","sizeClass","getSizeClassName","isError","error","isWarning","warning","rootProps","type","className","root","use","active","validationRoot","narrow","noPadding","_noPadding","noRightPadding","_noRightPadding","buttonWithIcon","icon","borderless","visuallyFocused","checked","loading","fallback","style","borderTopLeftRadius","TOP_LEFT","undefined","borderTopRightRadius","TOP_RIGHT","borderBottomRightRadius","BOTTOM_RIGHT","borderBottomLeftRadius","BOTTOM_LEFT","textAlign","align","onClick","onKeyDown","onMouseEnter","onMouseLeave","onMouseOver","tabIndex","wrapProps","wrap","wrapArrow","arrow","wrapArrowLeft","width","arrowWarning","arrowError","arrowLeft","link","Object","assign","wrapLink","caption","children","size","sizeLarge","sizeLargeLoading","sizeMedium","sizeMediumLoading","sizeSmall","sizeSmallLoading","Component","__KONTUR_REACT_UI__","__BUTTON__","defaultProps","isButton","child","isValidElement","prototype","hasOwnProperty","call"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport { isIE11, isEdge } from '../../lib/utils';\r\nimport { tabListener } from '../../lib/events/tabListener';\r\nimport { Theme } from '../../lib/theming/Theme';\r\nimport { ThemeContext } from '../../lib/theming/ThemeContext';\r\n\r\nimport { jsStyles } from './Button.styles';\r\nimport { Corners } from './Corners';\r\n\r\nexport type ButtonSize = 'small' | 'medium' | 'large';\r\nexport type ButtonType = 'button' | 'submit' | 'reset';\r\nexport type ButtonUse = 'default' | 'primary' | 'success' | 'danger' | 'pay' | 'link';\r\n\r\nexport interface ButtonProps {\r\n  /** @ignore */\r\n  _noPadding?: boolean;\r\n\r\n  /** @ignore */\r\n  _noRightPadding?: boolean;\r\n\r\n  /**\r\n   * Визуально нажатое состояние.\r\n   */\r\n  active?: boolean;\r\n\r\n  /** `type TextAlignProperty = \"inherit\" | \"initial\" | \"unset\" | \"center\" | \"end\" | \"justify\" | \"left\" | \"match-parent\" | \"right\" | \"start\"` */\r\n  align?: React.CSSProperties['textAlign'];\r\n\r\n  /**\r\n   * Кнопка со стрелкой.\r\n   *\r\n   * `type ButtonArrow = boolean | \"left\"`\r\n   */\r\n  arrow?: boolean | 'left';\r\n\r\n  autoFocus?: boolean;\r\n\r\n  borderless?: boolean;\r\n\r\n  checked?: boolean;\r\n\r\n  children?: React.ReactNode;\r\n\r\n  /** @ignore */\r\n  corners?: number;\r\n\r\n  disabled?: boolean;\r\n\r\n  /** @ignore */\r\n  disableFocus?: boolean;\r\n\r\n  error?: boolean;\r\n\r\n  focused?: boolean;\r\n\r\n  /**\r\n   * Иконка слева от текста кнопки.\r\n   */\r\n  icon?: React.ReactElement<any>;\r\n\r\n  loading?: boolean;\r\n\r\n  narrow?: boolean;\r\n\r\n  onBlur?: React.FocusEventHandler<HTMLButtonElement>;\r\n\r\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  onFocus?: React.FocusEventHandler<HTMLButtonElement>;\r\n\r\n  onKeyDown?: React.KeyboardEventHandler<HTMLButtonElement>;\r\n\r\n  onMouseEnter?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  onMouseLeave?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  onMouseOver?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  /** `type ButtonSize = \"small\" | \"medium\" | \"large\"` */\r\n  size?: ButtonSize;\r\n\r\n  /** `type ButtonType = \"button\" | \"submit\" | \"reset\"` */\r\n  type?: ButtonType;\r\n\r\n  /**\r\n   * Вариант использования. Влияет на цвет кнопки.\r\n   *\r\n   * `type ButtonUse = \"default\" | \"primary\" | \"success\" | \"danger\" | \"pay\" | \"link\"`\r\n   */\r\n  use?: ButtonUse;\r\n\r\n  /** @ignore */\r\n  visuallyFocused?: boolean;\r\n\r\n  warning?: boolean;\r\n\r\n  width?: number | string;\r\n}\r\n\r\nexport interface ButtonState {\r\n  focusedByTab: boolean;\r\n}\r\n\r\nexport class Button extends React.Component<ButtonProps, ButtonState> {\r\n  public static __KONTUR_REACT_UI__ = 'Button';\r\n  public static __BUTTON__ = true;\r\n  public static TOP_LEFT = Corners.TOP_LEFT;\r\n  public static TOP_RIGHT = Corners.TOP_RIGHT;\r\n  public static BOTTOM_RIGHT = Corners.BOTTOM_RIGHT;\r\n  public static BOTTOM_LEFT = Corners.BOTTOM_LEFT;\r\n\r\n  public static defaultProps = {\r\n    use: 'default',\r\n    size: 'small',\r\n    type: 'button',\r\n  };\r\n\r\n  public state = {\r\n    focusedByTab: false,\r\n  };\r\n\r\n  private theme!: Theme;\r\n  private node: HTMLButtonElement | null = null;\r\n\r\n  public componentDidMount() {\r\n    if (this.props.autoFocus) {\r\n      tabListener.isTabPressed = true;\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public focus() {\r\n    this.node?.focus();\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public blur() {\r\n    this.node?.blur();\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    return (\r\n      <ThemeContext.Consumer>\r\n        {theme => {\r\n          this.theme = theme;\r\n          return this.renderMain();\r\n        }}\r\n      </ThemeContext.Consumer>\r\n    );\r\n  }\r\n\r\n  private renderMain() {\r\n    const { corners = 0 } = this.props;\r\n    const sizeClass = this.getSizeClassName();\r\n\r\n    const isError = !!this.props.error;\r\n    const isWarning = !!this.props.warning;\r\n    const rootProps = {\r\n      // By default the type attribute is 'submit'. IE8 will fire a click event\r\n      // on this button if somewhere on the page user presses Enter while some\r\n      // input is focused. So we set type to 'button' by default.\r\n      type: this.props.type,\r\n      className: cn({\r\n        [jsStyles.root(this.theme)]: true,\r\n        [(jsStyles[this.props.use!] && jsStyles[this.props.use!](this.theme)) || jsStyles.default(this.theme)]: true,\r\n        [jsStyles.active(this.theme)]: !!this.props.active,\r\n        [jsStyles.validationRoot(this.theme)]: isError || isWarning,\r\n        [jsStyles.error(this.theme)]: isError,\r\n        [jsStyles.warning(this.theme)]: isWarning,\r\n        [jsStyles.narrow()]: !!this.props.narrow,\r\n        [jsStyles.noPadding()]: !!this.props._noPadding,\r\n        [jsStyles.noRightPadding()]: !!this.props._noRightPadding,\r\n        [jsStyles.buttonWithIcon()]: !!this.props.icon,\r\n        [sizeClass]: true,\r\n        [jsStyles.borderless(this.theme)]: !!this.props.borderless,\r\n        [jsStyles.focus(this.theme)]: this.state.focusedByTab || !!this.props.visuallyFocused,\r\n        [jsStyles.checked(this.theme)]: !!this.props.checked && !this.props.disabled,\r\n        [jsStyles.disabled(this.theme)]: !!this.props.disabled || !!this.props.loading,\r\n        [jsStyles.fallback(this.theme)]: isIE11 || isEdge,\r\n      }),\r\n      style: {\r\n        borderTopLeftRadius: corners & Corners.TOP_LEFT ? 0 : undefined,\r\n        borderTopRightRadius: corners & Corners.TOP_RIGHT ? 0 : undefined,\r\n        borderBottomRightRadius: corners & Corners.BOTTOM_RIGHT ? 0 : undefined,\r\n        borderBottomLeftRadius: corners & Corners.BOTTOM_LEFT ? 0 : undefined,\r\n        textAlign: this.props.align,\r\n      },\r\n      disabled: this.props.disabled || this.props.loading,\r\n      onClick: this.props.onClick,\r\n      onFocus: this.handleFocus,\r\n      onBlur: this.handleBlur,\r\n      onKeyDown: this.props.onKeyDown,\r\n      onMouseEnter: this.props.onMouseEnter,\r\n      onMouseLeave: this.props.onMouseLeave,\r\n      onMouseOver: this.props.onMouseOver,\r\n      tabIndex: this.props.disableFocus ? -1 : 0,\r\n    };\r\n\r\n    const wrapProps = {\r\n      className: cn({\r\n        [jsStyles.wrap(this.theme)]: true,\r\n        [jsStyles.wrapArrow()]: this.props.arrow === true,\r\n        [jsStyles.wrapArrowLeft()]: this.props.arrow === 'left',\r\n      }),\r\n      style: {\r\n        width: this.props.width,\r\n      },\r\n    };\r\n\r\n    let error = null;\r\n    if (this.props.error) {\r\n      error = <div className={jsStyles.error(this.theme)} />;\r\n    } else if (this.props.warning) {\r\n      error = <div className={jsStyles.warning(this.theme)} />;\r\n    }\r\n\r\n    let loading = null;\r\n    if (this.props.loading) {\r\n      loading = <div className={jsStyles.loading()} />;\r\n    }\r\n\r\n    let icon = this.props.icon;\r\n    if (this.props.icon) {\r\n      icon = <span className={jsStyles.icon()}>{this.props.icon}</span>;\r\n    }\r\n\r\n    let arrow = null;\r\n    if (this.props.arrow) {\r\n      arrow = (\r\n        <div\r\n          className={cn({\r\n            [jsStyles.arrowWarning(this.theme)]: isWarning,\r\n            [jsStyles.arrowError(this.theme)]: isError,\r\n            [jsStyles.arrow()]: true,\r\n            [jsStyles.arrowLeft(this.theme)]: this.props.arrow === 'left',\r\n          })}\r\n        />\r\n      );\r\n    }\r\n\r\n    // Force disable all props and features, that cannot be use with Link\r\n    if (this.props.use === 'link') {\r\n      rootProps.className = cn({\r\n        [jsStyles.root(this.theme)]: true,\r\n        [jsStyles.buttonWithIcon()]: !!this.props.icon,\r\n        [sizeClass]: true,\r\n        [jsStyles.focus(this.theme)]: this.state.focusedByTab || !!this.props.visuallyFocused,\r\n        [jsStyles.link(this.theme)]: true,\r\n        [jsStyles.disabled(this.theme)]: !!this.props.disabled,\r\n      });\r\n      Object.assign(wrapProps, {\r\n        className: cn(jsStyles.wrap(this.theme), {\r\n          [jsStyles.wrapLink(this.theme)]: this.props.use === 'link',\r\n        }),\r\n        style: { width: wrapProps.style.width },\r\n      });\r\n      rootProps.style.textAlign = undefined;\r\n      loading = null;\r\n      arrow = null;\r\n    }\r\n\r\n    return (\r\n      <span {...wrapProps}>\r\n        <button ref={this._ref} {...rootProps}>\r\n          {error}\r\n          {loading}\r\n          {arrow}\r\n          <div className={jsStyles.caption()}>\r\n            {icon}\r\n            {this.props.children}\r\n          </div>\r\n        </button>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private getSizeClassName() {\r\n    switch (this.props.size) {\r\n      case 'large':\r\n        return cn(jsStyles.sizeLarge(this.theme), {\r\n          [jsStyles.sizeLargeLoading(this.theme)]: this.props.loading,\r\n        });\r\n      case 'medium':\r\n        return cn(jsStyles.sizeMedium(this.theme), {\r\n          [jsStyles.sizeMediumLoading(this.theme)]: this.props.loading,\r\n        });\r\n      case 'small':\r\n      default:\r\n        return cn(jsStyles.sizeSmall(this.theme), {\r\n          [jsStyles.sizeSmallLoading(this.theme)]: this.props.loading,\r\n        });\r\n    }\r\n  }\r\n\r\n  private handleFocus = (e: React.FocusEvent<HTMLButtonElement>) => {\r\n    if (!this.props.disabled && !this.props.disableFocus) {\r\n      // focus event fires before keyDown eventlistener\r\n      // so we should check tabPressed in async way\r\n      process.nextTick(() => {\r\n        if (tabListener.isTabPressed) {\r\n          this.setState({ focusedByTab: true });\r\n        }\r\n      });\r\n      this.props.onFocus?.(e);\r\n    }\r\n  };\r\n\r\n  private handleBlur = (e: React.FocusEvent<HTMLButtonElement>) => {\r\n    this.setState({ focusedByTab: false });\r\n    if (!this.props.disabled && !this.props.disableFocus) {\r\n      this.props.onBlur?.(e);\r\n    }\r\n  };\r\n\r\n  private _ref = (node: HTMLButtonElement | null) => {\r\n    this.node = node;\r\n  };\r\n}\r\n\r\nexport const isButton = (child: React.ReactChild): child is React.ReactElement<ButtonProps> => {\r\n  return React.isValidElement<ButtonProps>(child)\r\n    ? Object.prototype.hasOwnProperty.call(child.type, '__BUTTON__')\r\n    : false;\r\n};\r\n"]}