"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");exports.__esModule = true;exports.SpinnerOld = void 0;var _inheritsLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _react = _interopRequireDefault(require("react"));
var PropTypes = _interopRequireWildcard(require("prop-types"));
var _classnames = _interopRequireDefault(require("classnames"));

var _decorators = require("../../lib/locale/decorators");

var _ThemeContext = require("../../lib/theming/ThemeContext");
var _utils = require("../../lib/utils");
var _SpinnerOldIcon = require("../icons/SpinnerOldIcon");

var _SpinnerOld = require("./SpinnerOld.styles");
var _SpinnerOldFallback = require("./SpinnerOldFallback");
var _locale = require("./locale");var _dec, _class, _class2, _temp;













/**
                                                                     * @deprecated Контур-специфичный компонент, будет удален в 3.0.0, перенесен в `@skbkontur/react-ui-addons` смотри [миграцию](https://github.com/skbkontur/retail-ui/blob/master/packages/react-ui/MIGRATION.md)
                                                                     */var

SpinnerOld = (_dec = (0, _decorators.locale)('Spinner', _locale.SpinnerLocaleHelper), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_React$Component) {(0, _inheritsLoose2.default)(SpinnerOld, _React$Component);






























  function SpinnerOld(props) {var _this;
    _this = _React$Component.call(this, props) || this;_this.theme = void 0;_this.locale = void 0;_this.



























    renderCloud = function (type) {
      var cloudClassName = _this.props.dimmed ? _SpinnerOld.jsStyles.cloudDimmed(_this.theme) : _SpinnerOld.jsStyles.cloud(_this.theme);

      return (
        _react.default.createElement("span", { className: _SpinnerOld.jsStyles.cloudWrapper() },
        _react.default.createElement(_SpinnerOldIcon.SpinnerOldIcon, { size: type, className: cloudClassName, strokeClassName: _SpinnerOld.jsStyles.cloudStroke(_this.theme) })));


    };_this.

    renderCircle = function () {
      var theme = _this.theme;
      var circleClassName = _this.props.dimmed ? _SpinnerOld.jsStyles.circleDimmed(theme) : _SpinnerOld.jsStyles.circle(theme);

      return _react.default.createElement(_SpinnerOldIcon.SpinnerOldIcon, { size: "mini", className: circleClassName });
    };_this.

    renderSpinnerOld = function (type) {
      return type === 'mini' ? _this.renderCircle() : _this.renderCloud(type);
    };_this.

    renderCaption = function (type, caption) {
      var captionClassName = (0, _classnames.default)(
      _SpinnerOld.jsStyles.caption(_this.theme),
      type === 'mini' ? _SpinnerOld.jsStyles.captionRight() : _SpinnerOld.jsStyles.captionBottom());

      return _react.default.createElement("span", { className: captionClassName }, caption);
    };return _this;}var _proto = SpinnerOld.prototype;_proto.render = function render() {var _this2 = this;return _react.default.createElement(_ThemeContext.ThemeContext.Consumer, null, function (theme) {_this2.theme = theme;return _this2.renderMain();});};_proto.renderMain = function renderMain() {var _this$props = this.props,type = _this$props.type,_this$props$caption = _this$props.caption,caption = _this$props$caption === void 0 ? this.locale.loading : _this$props$caption,dimmed = _this$props.dimmed;return _react.default.createElement("div", { className: _SpinnerOld.jsStyles.spinner() }, _react.default.createElement("span", { className: _SpinnerOld.jsStyles.inner() }, _utils.hasSvgAnimationSupport && this.renderSpinnerOld(type), !_utils.hasSvgAnimationSupport && _react.default.createElement(_SpinnerOldFallback.SpinnerOldFallback, { type: type, dimmed: dimmed })), caption && this.renderCaption(type, caption));};return SpinnerOld;}(_react.default.Component), _class2.__KONTUR_REACT_UI__ = 'SpinnerOld', _class2.propTypes = { /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * Текст рядом с мини-лоадером.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * 'Загрузка' - значение по-умолчанию
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 */caption: PropTypes.node, dimmed: PropTypes.bool, /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Тип спиннера: mini, normal, big
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Значение по-умолчанию - normal
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * SpinnerOld.types - все доступные типы
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */type: PropTypes.oneOf(Object.keys(_SpinnerOldFallback.types)) }, _class2.defaultProps = { type: 'normal' }, _class2.Types = _SpinnerOldFallback.types, _temp)) || _class);exports.SpinnerOld = SpinnerOld;