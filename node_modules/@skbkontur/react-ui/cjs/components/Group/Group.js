"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule = true;exports.Group = void 0;var _inheritsLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _classnames = _interopRequireDefault(require("classnames"));

var _utils = require("../../lib/utils");
var _Corners = require("../Button/Corners");

var _Button = require("../Button");

var _Group = require("./Group.styles");var










Group = /*#__PURE__*/function (_React$Component) {(0, _inheritsLoose2.default)(Group, _React$Component);function Group() {return _React$Component.apply(this, arguments) || this;}var _proto = Group.prototype;_proto.






  render = function render() {var _this = this;
    var style = {
      width: this.props.width };


    var first = null;
    var last = null;

    _react.default.Children.forEach(this.props.children, function (child) {
      if (child && _react.default.isValidElement(child)) {
        first = first || child;
        last = child;
      }
    });

    return (
      _react.default.createElement("span", { className: _Group.jsStyles.root(), style: style },
      _react.default.Children.map(this.props.children, function (child) {var _cn, _cn2;
        if (!child || !_react.default.isValidElement(child)) {
          return null;
        }

        var isWidthInPercent = Boolean(child.props.width && child.props.width.toString().includes('%'));
        var itemCss = (0, _classnames.default)((_cn = {}, _cn[
        _Group.jsStyles.item()] = true, _cn[
        _Group.jsStyles.itemFirst()] = child === first, _cn));


        var corners = 0;
        if (child !== first) {
          corners |= _Corners.Corners.TOP_LEFT | _Corners.Corners.BOTTOM_LEFT;
        }
        if (child !== last) {
          corners |= _Corners.Corners.TOP_RIGHT | _Corners.Corners.BOTTOM_RIGHT;
        }

        if ((0, _Button.isButton)(child)) {
          child = _react.default.cloneElement(child, { corners: corners });
        }

        return (
          _react.default.createElement("div", {
            className: (0, _classnames.default)((_cn2 = {}, _cn2[
            _Group.jsStyles.fixed()] = !isWidthInPercent, _cn2[
            _Group.jsStyles.stretch()] = isWidthInPercent, _cn2[
            _Group.jsStyles.stretchFallback()] = Boolean(isWidthInPercent && _this.props.width && (_utils.isIE11 || _utils.isEdge)), _cn2)) },


          _react.default.createElement("div", { className: itemCss }, child)));


      })));


  };return Group;}(_react.default.Component);exports.Group = Group;Group.__KONTUR_REACT_UI__ = 'Group';Group.propTypes = { width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]) };