"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule = true;exports.Spinner = void 0;var _inheritsLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _warning = _interopRequireDefault(require("warning"));
var _classnames = _interopRequireDefault(require("classnames"));

var _decorators = require("../../lib/locale/decorators");

var _ThemeContext = require("../../lib/theming/ThemeContext");
var _utils = require("../../lib/utils");
var _SpinnerIcon = require("../../internal/icons/SpinnerIcon");
var _SpinnerOld = require("../../internal/SpinnerOld");

var _Spinner = require("./Spinner.styles");
var _SpinnerFallback = require("./SpinnerFallback");
var _locale = require("./locale");var _dec, _class, _class2, _temp;



















/**
                                                                     * DRAFT - инлайн-лоадер
                                                                     */var


Spinner = (_dec = (0, _decorators.locale)('Spinner', _locale.SpinnerLocaleHelper), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_React$Component) {(0, _inheritsLoose2.default)(Spinner, _React$Component);




































  function Spinner(props) {var _this;
    _this = _React$Component.call(this, props) || this;_this.theme = void 0;_this.locale = void 0;_this.
































    renderSpinner = function (type, dimmed) {
      var circleClassName = dimmed ? _Spinner.jsStyles.circleDimmed(_this.theme) : _Spinner.jsStyles.circle(_this.theme);

      return _react.default.createElement(_SpinnerIcon.SpinnerIcon, { size: type, className: circleClassName });
    };_this.

    renderCaption = function (type, caption) {return (
        _react.default.createElement("span", { className: (0, _classnames.default)(_Spinner.jsStyles[type](), _Spinner.jsStyles.captionColor(_this.theme)) }, caption));};(0, _warning.default)(!_this.props.cloud, 'cloud is deprecated, will removed in 3.0. ');return _this;}var _proto = Spinner.prototype;_proto.render = function render() {var _this2 = this;return _react.default.createElement(_ThemeContext.ThemeContext.Consumer, null, function (theme) {_this2.theme = theme;return !_this2.props.cloud ? _this2.renderMain() : _this2.renderSpinnerOld();});};_proto.renderSpinnerOld = function renderSpinnerOld() {return _react.default.createElement(_SpinnerOld.SpinnerOld, this.props);};_proto.renderMain = function renderMain() {var _this$props = this.props,type = _this$props.type,_this$props$caption = _this$props.caption,caption = _this$props$caption === void 0 ? this.locale.loading : _this$props$caption,dimmed = _this$props.dimmed;return _react.default.createElement("div", { className: _Spinner.jsStyles.spinner() }, _react.default.createElement("span", { className: _Spinner.jsStyles.inner() }, _utils.hasSvgAnimationSupport && this.renderSpinner(type, dimmed), !_utils.hasSvgAnimationSupport && _react.default.createElement(_SpinnerFallback.SpinnerFallback, { type: type, dimmed: dimmed })), caption && this.renderCaption(type, caption));};return Spinner;}(_react.default.Component), _class2.__KONTUR_REACT_UI__ = 'Spinner', _class2.propTypes = { /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Текст рядом с мини-лоадером.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 'Загрузка' - значение по-умолчанию
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */caption: _propTypes.default.node, dimmed: _propTypes.default.bool, /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Тип спиннера: mini, normal, big
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Значение по-умолчанию - normal
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Spinner.types - все доступные типы
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */type: _propTypes.default.oneOf(Object.keys(_SpinnerFallback.types)), /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              * @deprecated Старое поведение спиннера - облачко при среднем и большом размере
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              * @default false - исчезнет в 3.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              */cloud: _propTypes.default.bool }, _class2.defaultProps = { type: 'normal' }, _class2.Types = _SpinnerFallback.types, _temp)) || _class);exports.Spinner = Spinner;