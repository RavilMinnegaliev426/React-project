{"version":3,"sources":["CurrencyLabel.tsx"],"names":["defaultProps","fractionDigits","CurrencyLabel","value","currencySymbol","CurrencyHelper","format","String","fromCharCode","__KONTUR_REACT_UI__","propTypes","props","MAX_SAFE_DIGITS","Error","destructString","fraction","length","Number","isInteger"],"mappings":"kLAAA;;AAEA;AACA;;;;;;;;;;;;AAYO,IAAMA,YAAY,GAAG;AAC1BC,EAAAA,cAAc,EAAE,CADU,EAArB,C;;;AAIA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,YAAGC,KAAH,QAAGA,KAAH,CAAUF,cAAV,QAAUA,cAAV,CAA0BG,cAA1B,QAA0BA,cAA1B;AAC3B;AACGC,mCAAeC,MAAf,CAAsBH,KAAtB,EAA6B,EAAEF,cAAc,EAAdA,cAAF,EAA7B,CADH;AAEGG,IAAAA,cAAc,IAAIG,MAAM,CAACC,YAAP,CAAoB,IAApB,CAFrB,CAE+C,YAF/C;AAGGJ,IAAAA,cAHH,CAD2B,GAAtB,C;;;;AAQPF,aAAa,CAACO,mBAAd,GAAoC,eAApC;;AAEAP,aAAa,CAACF,YAAd,GAA6BA,YAA7B;;AAEAE,aAAa,CAACQ,SAAd,GAA0B;AACxBT,EAAAA,cAAc,EAAE,wBAACU,KAAD,EAA+B;AAC7C,QAAIA,KAAK,CAACV,cAAN,GAAuBW,0BAA3B,EAA4C;AAC1C,aAAO,IAAIC,KAAJ;AACL,0DAAkDD,0BAAlD,4EADK,CAAP;;;AAID,KAN4C;;AAQxBP,mCAAeS,cAAf,CAA8BP,MAAM,CAACI,KAAK,CAACR,KAAP,CAApC,KAAsD,EAAEY,QAAQ,EAAE,EAAZ,EAR9B,CAQrCA,QARqC,SAQrCA,QARqC;AAS7C,QAAIA,QAAQ,CAACC,MAAT,GAAkBL,KAAK,CAACV,cAA5B,EAA4C;AAC1C,aAAO,IAAIY,KAAJ;AACL,gIADK,CAAP;;;AAID;;AAED,QAAI,CAACI,MAAM,CAACC,SAAP,CAAiBP,KAAK,CAACV,cAAvB,CAAL,EAA6C;AAC3C,aAAO,IAAIY,KAAJ,2GAAP;;;AAGD;;AAED,WAAO,IAAP;AACD,GAxBuB,EAA1B","sourcesContent":["import React from 'react';\r\n\r\nimport { MAX_SAFE_DIGITS } from '../CurrencyInput/constants';\r\nimport { CurrencyHelper } from '../CurrencyInput/CurrencyHelper';\r\n\r\nexport type CurrencyLabelProps = {\r\n  /**\r\n   * Количество отображаемых знаков после запятой\r\n   * @default 2\r\n   */\r\n  fractionDigits: number;\r\n  value: number;\r\n  currencySymbol?: React.ReactNode;\r\n} & typeof defaultProps;\r\n\r\nexport const defaultProps = {\r\n  fractionDigits: 2,\r\n};\r\n\r\nexport const CurrencyLabel = ({ value, fractionDigits, currencySymbol }: CurrencyLabelProps): JSX.Element => (\r\n  <span>\r\n    {CurrencyHelper.format(value, { fractionDigits })}\r\n    {currencySymbol && String.fromCharCode(0xa0) /* &nbsp; */}\r\n    {currencySymbol}\r\n  </span>\r\n);\r\n\r\nCurrencyLabel.__KONTUR_REACT_UI__ = 'CurrencyLabel';\r\n\r\nCurrencyLabel.defaultProps = defaultProps;\r\n\r\nCurrencyLabel.propTypes = {\r\n  fractionDigits: (props: CurrencyLabelProps) => {\r\n    if (props.fractionDigits > MAX_SAFE_DIGITS) {\r\n      return new Error(\r\n        `[CurrencyLabel]: Prop 'fractionDigits' exceeds ${MAX_SAFE_DIGITS}.` +\r\n          `\\nSee https://tech.skbkontur.ru/react-ui/#/CurrencyInput?id=why15`,\r\n      );\r\n    }\r\n\r\n    const { fraction } = CurrencyHelper.destructString(String(props.value)) || { fraction: '' };\r\n    if (fraction.length > props.fractionDigits) {\r\n      return new Error(\r\n        `[CurrencyLabel]: Prop 'fractionDigits' less than fractional part of the 'value' property,` +\r\n          `'value' will not be cutted`,\r\n      );\r\n    }\r\n\r\n    if (!Number.isInteger(props.fractionDigits)) {\r\n      return new Error(\r\n        `[CurrencyLabel]: Prop 'fractionDigits' is not integer, fraction part of these property will not be used`,\r\n      );\r\n    }\r\n\r\n    return null;\r\n  },\r\n};\r\n"]}