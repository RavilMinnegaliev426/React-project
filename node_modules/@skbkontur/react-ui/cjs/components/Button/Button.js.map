{"version":3,"sources":["Button.tsx"],"names":["Button","state","focusedByTab","theme","node","handleFocus","e","props","disabled","disableFocus","process","nextTick","tabListener","isTabPressed","setState","onFocus","handleBlur","onBlur","_ref","componentDidMount","autoFocus","focus","blur","render","renderMain","corners","sizeClass","getSizeClassName","isError","error","isWarning","warning","rootProps","type","className","jsStyles","root","use","default","active","validationRoot","narrow","noPadding","_noPadding","noRightPadding","_noRightPadding","buttonWithIcon","icon","borderless","visuallyFocused","checked","loading","fallback","isIE11","isEdge","style","borderTopLeftRadius","Corners","TOP_LEFT","undefined","borderTopRightRadius","TOP_RIGHT","borderBottomRightRadius","BOTTOM_RIGHT","borderBottomLeftRadius","BOTTOM_LEFT","textAlign","align","onClick","onKeyDown","onMouseEnter","onMouseLeave","onMouseOver","tabIndex","wrapProps","wrap","wrapArrow","arrow","wrapArrowLeft","width","arrowWarning","arrowError","arrowLeft","link","Object","assign","wrapLink","caption","children","size","sizeLarge","sizeLargeLoading","sizeMedium","sizeMediumLoading","sizeSmall","sizeSmallLoading","React","Component","__KONTUR_REACT_UI__","__BUTTON__","defaultProps","isButton","child","isValidElement","prototype","hasOwnProperty","call"],"mappings":"uVAAA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,oC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGaA,M;;;;;;;;;;;;;;AAcJC,IAAAA,K,GAAQ;AACbC,MAAAA,YAAY,EAAE,KADD,E;;;AAIPC,IAAAA,K;AACAC,IAAAA,I,GAAiC,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLjCC,IAAAA,W,GAAc,UAACC,CAAD,EAA4C;AAChE,UAAI,CAAC,MAAKC,KAAL,CAAWC,QAAZ,IAAwB,CAAC,MAAKD,KAAL,CAAWE,YAAxC,EAAsD;AACpD;AACA;AACAC,QAAAA,OAAO,CAACC,QAAR,CAAiB,YAAM;AACrB,cAAIC,yBAAYC,YAAhB,EAA8B;AAC5B,kBAAKC,QAAL,CAAc,EAAEZ,YAAY,EAAE,IAAhB,EAAd;AACD;AACF,SAJD;AAKA,cAAKK,KAAL,CAAWQ,OAAX,0BAAKR,KAAL,CAAWQ,OAAX,CAAqBT,CAArB;AACD;AACF,K;;AAEOU,IAAAA,U,GAAa,UAACV,CAAD,EAA4C;AAC/D,YAAKQ,QAAL,CAAc,EAAEZ,YAAY,EAAE,KAAhB,EAAd;AACA,UAAI,CAAC,MAAKK,KAAL,CAAWC,QAAZ,IAAwB,CAAC,MAAKD,KAAL,CAAWE,YAAxC,EAAsD;AACpD,cAAKF,KAAL,CAAWU,MAAX,0BAAKV,KAAL,CAAWU,MAAX,CAAoBX,CAApB;AACD;AACF,K;;AAEOY,IAAAA,I,GAAO,UAACd,IAAD,EAAoC;AACjD,YAAKA,IAAL,GAAYA,IAAZ;AACD,K,oDArMMe,iB,GAAP,6BAA2B,CACzB,IAAI,KAAKZ,KAAL,CAAWa,SAAf,EAA0B,CACxBR,yBAAYC,YAAZ,GAA2B,IAA3B,CACA,KAAKQ,KAAL,GACD,CACF,C,CAED;;8MAGOA,K,GAAP,iBAAe,gBACb,mBAAKjB,IAAL,gCAAWiB,KAAX,GACD,C,CAED;;mUAGOC,I,GAAP,gBAAc,iBACZ,oBAAKlB,IAAL,iCAAWkB,IAAX,GACD,C,QAEMC,M,GAAP,kBAA6B,mBAC3B,OACE,6BAAC,0BAAD,CAAc,QAAd,QACG,UAAApB,KAAK,EAAI,CACR,MAAI,CAACA,KAAL,GAAaA,KAAb,CACA,OAAO,MAAI,CAACqB,UAAL,EAAP,CACD,CAJH,CADF,CAQD,C,QAEOA,U,GAAR,sBAAqB,yCACK,KAAKjB,KADV,CACXkB,OADW,CACXA,OADW,oCACD,CADC,uBAEnB,IAAMC,SAAS,GAAG,KAAKC,gBAAL,EAAlB,CAEA,IAAMC,OAAO,GAAG,CAAC,CAAC,KAAKrB,KAAL,CAAWsB,KAA7B,CACA,IAAMC,SAAS,GAAG,CAAC,CAAC,KAAKvB,KAAL,CAAWwB,OAA/B,CACA,IAAMC,SAAS,GAAG,EAChB;AACA;AACA;AACAC,MAAAA,IAAI,EAAE,KAAK1B,KAAL,CAAW0B,IAJD,EAKhBC,SAAS,EAAE,wCACRC,iBAASC,IAAT,CAAc,KAAKjC,KAAnB,CADQ,IACoB,IADpB,MAEPgC,iBAAS,KAAK5B,KAAL,CAAW8B,GAApB,KAA6BF,iBAAS,KAAK5B,KAAL,CAAW8B,GAApB,EAA0B,KAAKlC,KAA/B,CAA9B,IAAwEgC,iBAASG,OAAT,CAAiB,KAAKnC,KAAtB,CAFhE,IAE+F,IAF/F,MAGRgC,iBAASI,MAAT,CAAgB,KAAKpC,KAArB,CAHQ,IAGsB,CAAC,CAAC,KAAKI,KAAL,CAAWgC,MAHnC,MAIRJ,iBAASK,cAAT,CAAwB,KAAKrC,KAA7B,CAJQ,IAI8ByB,OAAO,IAAIE,SAJzC,MAKRK,iBAASN,KAAT,CAAe,KAAK1B,KAApB,CALQ,IAKqByB,OALrB,MAMRO,iBAASJ,OAAT,CAAiB,KAAK5B,KAAtB,CANQ,IAMuB2B,SANvB,MAORK,iBAASM,MAAT,EAPQ,IAOY,CAAC,CAAC,KAAKlC,KAAL,CAAWkC,MAPzB,MAQRN,iBAASO,SAAT,EARQ,IAQe,CAAC,CAAC,KAAKnC,KAAL,CAAWoC,UAR5B,MASRR,iBAASS,cAAT,EATQ,IASoB,CAAC,CAAC,KAAKrC,KAAL,CAAWsC,eATjC,MAURV,iBAASW,cAAT,EAVQ,IAUoB,CAAC,CAAC,KAAKvC,KAAL,CAAWwC,IAVjC,MAWRrB,SAXQ,IAWI,IAXJ,MAYRS,iBAASa,UAAT,CAAoB,KAAK7C,KAAzB,CAZQ,IAY0B,CAAC,CAAC,KAAKI,KAAL,CAAWyC,UAZvC,MAaRb,iBAASd,KAAT,CAAe,KAAKlB,KAApB,CAbQ,IAaqB,KAAKF,KAAL,CAAWC,YAAX,IAA2B,CAAC,CAAC,KAAKK,KAAL,CAAW0C,eAb7D,MAcRd,iBAASe,OAAT,CAAiB,KAAK/C,KAAtB,CAdQ,IAcuB,CAAC,CAAC,KAAKI,KAAL,CAAW2C,OAAb,IAAwB,CAAC,KAAK3C,KAAL,CAAWC,QAd3D,MAeR2B,iBAAS3B,QAAT,CAAkB,KAAKL,KAAvB,CAfQ,IAewB,CAAC,CAAC,KAAKI,KAAL,CAAWC,QAAb,IAAyB,CAAC,CAAC,KAAKD,KAAL,CAAW4C,OAf9D,MAgBRhB,iBAASiB,QAAT,CAAkB,KAAKjD,KAAvB,CAhBQ,IAgBwBkD,iBAAUC,aAhBlC,OALK,EAuBhBC,KAAK,EAAE,EACLC,mBAAmB,EAAE/B,OAAO,GAAGgC,iBAAQC,QAAlB,GAA6B,CAA7B,GAAiCC,SADjD,EAELC,oBAAoB,EAAEnC,OAAO,GAAGgC,iBAAQI,SAAlB,GAA8B,CAA9B,GAAkCF,SAFnD,EAGLG,uBAAuB,EAAErC,OAAO,GAAGgC,iBAAQM,YAAlB,GAAiC,CAAjC,GAAqCJ,SAHzD,EAILK,sBAAsB,EAAEvC,OAAO,GAAGgC,iBAAQQ,WAAlB,GAAgC,CAAhC,GAAoCN,SAJvD,EAKLO,SAAS,EAAE,KAAK3D,KAAL,CAAW4D,KALjB,EAvBS,EA8BhB3D,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAW4C,OA9B5B,EA+BhBiB,OAAO,EAAE,KAAK7D,KAAL,CAAW6D,OA/BJ,EAgChBrD,OAAO,EAAE,KAAKV,WAhCE,EAiChBY,MAAM,EAAE,KAAKD,UAjCG,EAkChBqD,SAAS,EAAE,KAAK9D,KAAL,CAAW8D,SAlCN,EAmChBC,YAAY,EAAE,KAAK/D,KAAL,CAAW+D,YAnCT,EAoChBC,YAAY,EAAE,KAAKhE,KAAL,CAAWgE,YApCT,EAqChBC,WAAW,EAAE,KAAKjE,KAAL,CAAWiE,WArCR,EAsChBC,QAAQ,EAAE,KAAKlE,KAAL,CAAWE,YAAX,GAA0B,CAAC,CAA3B,GAA+B,CAtCzB,EAAlB,CAyCA,IAAMiE,SAAS,GAAG,EAChBxC,SAAS,EAAE,0CACRC,iBAASwC,IAAT,CAAc,KAAKxE,KAAnB,CADQ,IACoB,IADpB,OAERgC,iBAASyC,SAAT,EAFQ,IAEe,KAAKrE,KAAL,CAAWsE,KAAX,KAAqB,IAFpC,OAGR1C,iBAAS2C,aAAT,EAHQ,IAGmB,KAAKvE,KAAL,CAAWsE,KAAX,KAAqB,MAHxC,QADK,EAMhBtB,KAAK,EAAE,EACLwB,KAAK,EAAE,KAAKxE,KAAL,CAAWwE,KADb,EANS,EAAlB,CAWA,IAAIlD,KAAK,GAAG,IAAZ,CACA,IAAI,KAAKtB,KAAL,CAAWsB,KAAf,EAAsB,CACpBA,KAAK,GAAG,sCAAK,SAAS,EAAEM,iBAASN,KAAT,CAAe,KAAK1B,KAApB,CAAhB,GAAR,CACD,CAFD,MAEO,IAAI,KAAKI,KAAL,CAAWwB,OAAf,EAAwB,CAC7BF,KAAK,GAAG,sCAAK,SAAS,EAAEM,iBAASJ,OAAT,CAAiB,KAAK5B,KAAtB,CAAhB,GAAR,CACD,CAED,IAAIgD,OAAO,GAAG,IAAd,CACA,IAAI,KAAK5C,KAAL,CAAW4C,OAAf,EAAwB,CACtBA,OAAO,GAAG,sCAAK,SAAS,EAAEhB,iBAASgB,OAAT,EAAhB,GAAV,CACD,CAED,IAAIJ,IAAI,GAAG,KAAKxC,KAAL,CAAWwC,IAAtB,CACA,IAAI,KAAKxC,KAAL,CAAWwC,IAAf,EAAqB,CACnBA,IAAI,GAAG,uCAAM,SAAS,EAAEZ,iBAASY,IAAT,EAAjB,IAAmC,KAAKxC,KAAL,CAAWwC,IAA9C,CAAP,CACD,CAED,IAAI8B,KAAK,GAAG,IAAZ,CACA,IAAI,KAAKtE,KAAL,CAAWsE,KAAf,EAAsB,UACpBA,KAAK,GACH,sCACE,SAAS,EAAE,0CACR1C,iBAAS6C,YAAT,CAAsB,KAAK7E,KAA3B,CADQ,IAC4B2B,SAD5B,OAERK,iBAAS8C,UAAT,CAAoB,KAAK9E,KAAzB,CAFQ,IAE0ByB,OAF1B,OAGRO,iBAAS0C,KAAT,EAHQ,IAGW,IAHX,OAIR1C,iBAAS+C,SAAT,CAAmB,KAAK/E,KAAxB,CAJQ,IAIyB,KAAKI,KAAL,CAAWsE,KAAX,KAAqB,MAJ9C,QADb,GADF,CAUD,CAvFkB,CAyFnB;AACA,QAAI,KAAKtE,KAAL,CAAW8B,GAAX,KAAmB,MAAvB,EAA+B,gBAC7BL,SAAS,CAACE,SAAV,GAAsB,0CACnBC,iBAASC,IAAT,CAAc,KAAKjC,KAAnB,CADmB,IACS,IADT,OAEnBgC,iBAASW,cAAT,EAFmB,IAES,CAAC,CAAC,KAAKvC,KAAL,CAAWwC,IAFtB,OAGnBrB,SAHmB,IAGP,IAHO,OAInBS,iBAASd,KAAT,CAAe,KAAKlB,KAApB,CAJmB,IAIU,KAAKF,KAAL,CAAWC,YAAX,IAA2B,CAAC,CAAC,KAAKK,KAAL,CAAW0C,eAJlD,OAKnBd,iBAASgD,IAAT,CAAc,KAAKhF,KAAnB,CALmB,IAKS,IALT,OAMnBgC,iBAAS3B,QAAT,CAAkB,KAAKL,KAAvB,CANmB,IAMa,CAAC,CAAC,KAAKI,KAAL,CAAWC,QAN1B,QAAtB,CAQA4E,MAAM,CAACC,MAAP,CAAcX,SAAd,EAAyB,EACvBxC,SAAS,EAAE,yBAAGC,iBAASwC,IAAT,CAAc,KAAKxE,KAAnB,CAAH,mBACRgC,iBAASmD,QAAT,CAAkB,KAAKnF,KAAvB,CADQ,IACwB,KAAKI,KAAL,CAAW8B,GAAX,KAAmB,MAD3C,QADY,EAIvBkB,KAAK,EAAE,EAAEwB,KAAK,EAAEL,SAAS,CAACnB,KAAV,CAAgBwB,KAAzB,EAJgB,EAAzB,EAMA/C,SAAS,CAACuB,KAAV,CAAgBW,SAAhB,GAA4BP,SAA5B,CACAR,OAAO,GAAG,IAAV,CACA0B,KAAK,GAAG,IAAR,CACD,CAED,OACE,qCAAUH,SAAV,EACE,gEAAQ,GAAG,EAAE,KAAKxD,IAAlB,IAA4Bc,SAA5B,GACGH,KADH,EAEGsB,OAFH,EAGG0B,KAHH,EAIE,sCAAK,SAAS,EAAE1C,iBAASoD,OAAT,EAAhB,IACGxC,IADH,EAEG,KAAKxC,KAAL,CAAWiF,QAFd,CAJF,CADF,CADF,CAaD,C,QAEO7D,gB,GAAR,4BAA2B,sBACzB,QAAQ,KAAKpB,KAAL,CAAWkF,IAAnB,GACE,KAAK,OAAL,CACE,OAAO,yBAAGtD,iBAASuD,SAAT,CAAmB,KAAKvF,KAAxB,CAAH,mBACJgC,iBAASwD,gBAAT,CAA0B,KAAKxF,KAA/B,CADI,IACoC,KAAKI,KAAL,CAAW4C,OAD/C,QAAP,CAGF,KAAK,QAAL,CACE,OAAO,yBAAGhB,iBAASyD,UAAT,CAAoB,KAAKzF,KAAzB,CAAH,mBACJgC,iBAAS0D,iBAAT,CAA2B,KAAK1F,KAAhC,CADI,IACqC,KAAKI,KAAL,CAAW4C,OADhD,QAAP,CAGF,KAAK,OAAL,CACA,QACE,OAAO,yBAAGhB,iBAAS2D,SAAT,CAAmB,KAAK3F,KAAxB,CAAH,mBACJgC,iBAAS4D,gBAAT,CAA0B,KAAK5F,KAA/B,CADI,IACoC,KAAKI,KAAL,CAAW4C,OAD/C,QAAP,CAXJ,CAeD,C,iBAlMyB6C,eAAMC,S,0BAArBjG,M,CACGkG,mB,GAAsB,Q,CADzBlG,M,CAEGmG,U,GAAa,I,CAFhBnG,M,CAGG0D,Q,GAAWD,iBAAQC,Q,CAHtB1D,M,CAIG6D,S,GAAYJ,iBAAQI,S,CAJvB7D,M,CAKG+D,Y,GAAeN,iBAAQM,Y,CAL1B/D,M,CAMGiE,W,GAAcR,iBAAQQ,W,CANzBjE,M,CAQGoG,Y,GAAe,EAC3B/D,GAAG,EAAE,SADsB,EAE3BoD,IAAI,EAAE,OAFqB,EAG3BxD,IAAI,EAAE,QAHqB,E,CAqNxB,IAAMoE,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAuE,CAC7F,OAAON,eAAMO,cAAN,CAAkCD,KAAlC,IACHlB,MAAM,CAACoB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,KAAK,CAACrE,IAA3C,EAAiD,YAAjD,CADG,GAEH,KAFJ,CAGD,CAJM,C","sourcesContent":["import React from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport { isIE11, isEdge } from '../../lib/utils';\r\nimport { tabListener } from '../../lib/events/tabListener';\r\nimport { Theme } from '../../lib/theming/Theme';\r\nimport { ThemeContext } from '../../lib/theming/ThemeContext';\r\n\r\nimport { jsStyles } from './Button.styles';\r\nimport { Corners } from './Corners';\r\n\r\nexport type ButtonSize = 'small' | 'medium' | 'large';\r\nexport type ButtonType = 'button' | 'submit' | 'reset';\r\nexport type ButtonUse = 'default' | 'primary' | 'success' | 'danger' | 'pay' | 'link';\r\n\r\nexport interface ButtonProps {\r\n  /** @ignore */\r\n  _noPadding?: boolean;\r\n\r\n  /** @ignore */\r\n  _noRightPadding?: boolean;\r\n\r\n  /**\r\n   * Визуально нажатое состояние.\r\n   */\r\n  active?: boolean;\r\n\r\n  /** `type TextAlignProperty = \"inherit\" | \"initial\" | \"unset\" | \"center\" | \"end\" | \"justify\" | \"left\" | \"match-parent\" | \"right\" | \"start\"` */\r\n  align?: React.CSSProperties['textAlign'];\r\n\r\n  /**\r\n   * Кнопка со стрелкой.\r\n   *\r\n   * `type ButtonArrow = boolean | \"left\"`\r\n   */\r\n  arrow?: boolean | 'left';\r\n\r\n  autoFocus?: boolean;\r\n\r\n  borderless?: boolean;\r\n\r\n  checked?: boolean;\r\n\r\n  children?: React.ReactNode;\r\n\r\n  /** @ignore */\r\n  corners?: number;\r\n\r\n  disabled?: boolean;\r\n\r\n  /** @ignore */\r\n  disableFocus?: boolean;\r\n\r\n  error?: boolean;\r\n\r\n  focused?: boolean;\r\n\r\n  /**\r\n   * Иконка слева от текста кнопки.\r\n   */\r\n  icon?: React.ReactElement<any>;\r\n\r\n  loading?: boolean;\r\n\r\n  narrow?: boolean;\r\n\r\n  onBlur?: React.FocusEventHandler<HTMLButtonElement>;\r\n\r\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  onFocus?: React.FocusEventHandler<HTMLButtonElement>;\r\n\r\n  onKeyDown?: React.KeyboardEventHandler<HTMLButtonElement>;\r\n\r\n  onMouseEnter?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  onMouseLeave?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  onMouseOver?: React.MouseEventHandler<HTMLButtonElement>;\r\n\r\n  /** `type ButtonSize = \"small\" | \"medium\" | \"large\"` */\r\n  size?: ButtonSize;\r\n\r\n  /** `type ButtonType = \"button\" | \"submit\" | \"reset\"` */\r\n  type?: ButtonType;\r\n\r\n  /**\r\n   * Вариант использования. Влияет на цвет кнопки.\r\n   *\r\n   * `type ButtonUse = \"default\" | \"primary\" | \"success\" | \"danger\" | \"pay\" | \"link\"`\r\n   */\r\n  use?: ButtonUse;\r\n\r\n  /** @ignore */\r\n  visuallyFocused?: boolean;\r\n\r\n  warning?: boolean;\r\n\r\n  width?: number | string;\r\n}\r\n\r\nexport interface ButtonState {\r\n  focusedByTab: boolean;\r\n}\r\n\r\nexport class Button extends React.Component<ButtonProps, ButtonState> {\r\n  public static __KONTUR_REACT_UI__ = 'Button';\r\n  public static __BUTTON__ = true;\r\n  public static TOP_LEFT = Corners.TOP_LEFT;\r\n  public static TOP_RIGHT = Corners.TOP_RIGHT;\r\n  public static BOTTOM_RIGHT = Corners.BOTTOM_RIGHT;\r\n  public static BOTTOM_LEFT = Corners.BOTTOM_LEFT;\r\n\r\n  public static defaultProps = {\r\n    use: 'default',\r\n    size: 'small',\r\n    type: 'button',\r\n  };\r\n\r\n  public state = {\r\n    focusedByTab: false,\r\n  };\r\n\r\n  private theme!: Theme;\r\n  private node: HTMLButtonElement | null = null;\r\n\r\n  public componentDidMount() {\r\n    if (this.props.autoFocus) {\r\n      tabListener.isTabPressed = true;\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public focus() {\r\n    this.node?.focus();\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public blur() {\r\n    this.node?.blur();\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    return (\r\n      <ThemeContext.Consumer>\r\n        {theme => {\r\n          this.theme = theme;\r\n          return this.renderMain();\r\n        }}\r\n      </ThemeContext.Consumer>\r\n    );\r\n  }\r\n\r\n  private renderMain() {\r\n    const { corners = 0 } = this.props;\r\n    const sizeClass = this.getSizeClassName();\r\n\r\n    const isError = !!this.props.error;\r\n    const isWarning = !!this.props.warning;\r\n    const rootProps = {\r\n      // By default the type attribute is 'submit'. IE8 will fire a click event\r\n      // on this button if somewhere on the page user presses Enter while some\r\n      // input is focused. So we set type to 'button' by default.\r\n      type: this.props.type,\r\n      className: cn({\r\n        [jsStyles.root(this.theme)]: true,\r\n        [(jsStyles[this.props.use!] && jsStyles[this.props.use!](this.theme)) || jsStyles.default(this.theme)]: true,\r\n        [jsStyles.active(this.theme)]: !!this.props.active,\r\n        [jsStyles.validationRoot(this.theme)]: isError || isWarning,\r\n        [jsStyles.error(this.theme)]: isError,\r\n        [jsStyles.warning(this.theme)]: isWarning,\r\n        [jsStyles.narrow()]: !!this.props.narrow,\r\n        [jsStyles.noPadding()]: !!this.props._noPadding,\r\n        [jsStyles.noRightPadding()]: !!this.props._noRightPadding,\r\n        [jsStyles.buttonWithIcon()]: !!this.props.icon,\r\n        [sizeClass]: true,\r\n        [jsStyles.borderless(this.theme)]: !!this.props.borderless,\r\n        [jsStyles.focus(this.theme)]: this.state.focusedByTab || !!this.props.visuallyFocused,\r\n        [jsStyles.checked(this.theme)]: !!this.props.checked && !this.props.disabled,\r\n        [jsStyles.disabled(this.theme)]: !!this.props.disabled || !!this.props.loading,\r\n        [jsStyles.fallback(this.theme)]: isIE11 || isEdge,\r\n      }),\r\n      style: {\r\n        borderTopLeftRadius: corners & Corners.TOP_LEFT ? 0 : undefined,\r\n        borderTopRightRadius: corners & Corners.TOP_RIGHT ? 0 : undefined,\r\n        borderBottomRightRadius: corners & Corners.BOTTOM_RIGHT ? 0 : undefined,\r\n        borderBottomLeftRadius: corners & Corners.BOTTOM_LEFT ? 0 : undefined,\r\n        textAlign: this.props.align,\r\n      },\r\n      disabled: this.props.disabled || this.props.loading,\r\n      onClick: this.props.onClick,\r\n      onFocus: this.handleFocus,\r\n      onBlur: this.handleBlur,\r\n      onKeyDown: this.props.onKeyDown,\r\n      onMouseEnter: this.props.onMouseEnter,\r\n      onMouseLeave: this.props.onMouseLeave,\r\n      onMouseOver: this.props.onMouseOver,\r\n      tabIndex: this.props.disableFocus ? -1 : 0,\r\n    };\r\n\r\n    const wrapProps = {\r\n      className: cn({\r\n        [jsStyles.wrap(this.theme)]: true,\r\n        [jsStyles.wrapArrow()]: this.props.arrow === true,\r\n        [jsStyles.wrapArrowLeft()]: this.props.arrow === 'left',\r\n      }),\r\n      style: {\r\n        width: this.props.width,\r\n      },\r\n    };\r\n\r\n    let error = null;\r\n    if (this.props.error) {\r\n      error = <div className={jsStyles.error(this.theme)} />;\r\n    } else if (this.props.warning) {\r\n      error = <div className={jsStyles.warning(this.theme)} />;\r\n    }\r\n\r\n    let loading = null;\r\n    if (this.props.loading) {\r\n      loading = <div className={jsStyles.loading()} />;\r\n    }\r\n\r\n    let icon = this.props.icon;\r\n    if (this.props.icon) {\r\n      icon = <span className={jsStyles.icon()}>{this.props.icon}</span>;\r\n    }\r\n\r\n    let arrow = null;\r\n    if (this.props.arrow) {\r\n      arrow = (\r\n        <div\r\n          className={cn({\r\n            [jsStyles.arrowWarning(this.theme)]: isWarning,\r\n            [jsStyles.arrowError(this.theme)]: isError,\r\n            [jsStyles.arrow()]: true,\r\n            [jsStyles.arrowLeft(this.theme)]: this.props.arrow === 'left',\r\n          })}\r\n        />\r\n      );\r\n    }\r\n\r\n    // Force disable all props and features, that cannot be use with Link\r\n    if (this.props.use === 'link') {\r\n      rootProps.className = cn({\r\n        [jsStyles.root(this.theme)]: true,\r\n        [jsStyles.buttonWithIcon()]: !!this.props.icon,\r\n        [sizeClass]: true,\r\n        [jsStyles.focus(this.theme)]: this.state.focusedByTab || !!this.props.visuallyFocused,\r\n        [jsStyles.link(this.theme)]: true,\r\n        [jsStyles.disabled(this.theme)]: !!this.props.disabled,\r\n      });\r\n      Object.assign(wrapProps, {\r\n        className: cn(jsStyles.wrap(this.theme), {\r\n          [jsStyles.wrapLink(this.theme)]: this.props.use === 'link',\r\n        }),\r\n        style: { width: wrapProps.style.width },\r\n      });\r\n      rootProps.style.textAlign = undefined;\r\n      loading = null;\r\n      arrow = null;\r\n    }\r\n\r\n    return (\r\n      <span {...wrapProps}>\r\n        <button ref={this._ref} {...rootProps}>\r\n          {error}\r\n          {loading}\r\n          {arrow}\r\n          <div className={jsStyles.caption()}>\r\n            {icon}\r\n            {this.props.children}\r\n          </div>\r\n        </button>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private getSizeClassName() {\r\n    switch (this.props.size) {\r\n      case 'large':\r\n        return cn(jsStyles.sizeLarge(this.theme), {\r\n          [jsStyles.sizeLargeLoading(this.theme)]: this.props.loading,\r\n        });\r\n      case 'medium':\r\n        return cn(jsStyles.sizeMedium(this.theme), {\r\n          [jsStyles.sizeMediumLoading(this.theme)]: this.props.loading,\r\n        });\r\n      case 'small':\r\n      default:\r\n        return cn(jsStyles.sizeSmall(this.theme), {\r\n          [jsStyles.sizeSmallLoading(this.theme)]: this.props.loading,\r\n        });\r\n    }\r\n  }\r\n\r\n  private handleFocus = (e: React.FocusEvent<HTMLButtonElement>) => {\r\n    if (!this.props.disabled && !this.props.disableFocus) {\r\n      // focus event fires before keyDown eventlistener\r\n      // so we should check tabPressed in async way\r\n      process.nextTick(() => {\r\n        if (tabListener.isTabPressed) {\r\n          this.setState({ focusedByTab: true });\r\n        }\r\n      });\r\n      this.props.onFocus?.(e);\r\n    }\r\n  };\r\n\r\n  private handleBlur = (e: React.FocusEvent<HTMLButtonElement>) => {\r\n    this.setState({ focusedByTab: false });\r\n    if (!this.props.disabled && !this.props.disableFocus) {\r\n      this.props.onBlur?.(e);\r\n    }\r\n  };\r\n\r\n  private _ref = (node: HTMLButtonElement | null) => {\r\n    this.node = node;\r\n  };\r\n}\r\n\r\nexport const isButton = (child: React.ReactChild): child is React.ReactElement<ButtonProps> => {\r\n  return React.isValidElement<ButtonProps>(child)\r\n    ? Object.prototype.hasOwnProperty.call(child.type, '__BUTTON__')\r\n    : false;\r\n};\r\n"]}