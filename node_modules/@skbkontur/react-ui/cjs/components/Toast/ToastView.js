"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule = true;exports.ToastView = void 0;var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));var _inheritsLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _react = _interopRequireDefault(require("react"));
var _propTypes = require("prop-types");

var _CrossIcon = require("../../internal/icons/CrossIcon");
var _ZIndex = require("../../internal/ZIndex");
var _ThemeContext = require("../../lib/theming/ThemeContext");


var _ToastView = require("./ToastView.styles");var


















ToastView = /*#__PURE__*/function (_React$Component) {(0, _inheritsLoose2.default)(ToastView, _React$Component);function ToastView() {var _this;for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}_this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;_this.















    theme = void 0;return _this;}var _proto = ToastView.prototype;_proto.

  render = function render() {var _this2 = this;
    return (
      _react.default.createElement(_ThemeContext.ThemeContext.Consumer, null,
      function (theme) {
        _this2.theme = theme;
        return _this2.renderMain();
      }));


  };_proto.

  renderMain = function renderMain() {var _this$props =
    this.props,children = _this$props.children,action = _this$props.action,onClose = _this$props.onClose,rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, ["children", "action", "onClose"]);

    var link = action ?
    _react.default.createElement("span", { className: _ToastView.jsStyles.link(this.theme), onClick: action.handler },
    action.label) :

    null;

    var close = action ?
    _react.default.createElement("span", { className: _ToastView.jsStyles.closeWrapper() },
    _react.default.createElement("span", { className: _ToastView.jsStyles.close(this.theme), onClick: onClose },
    _react.default.createElement(_CrossIcon.CrossIcon, null))) :


    null;

    return (
      _react.default.createElement(_ZIndex.ZIndex, { priority: "Toast", className: _ToastView.jsStyles.wrapper() },
      _react.default.createElement("div", (0, _extends2.default)({ "data-tid": "ToastView__root", className: _ToastView.jsStyles.root(this.theme) }, rest),
      _react.default.createElement("span", null, children),
      link,
      close)));



  };return ToastView;}(_react.default.Component);exports.ToastView = ToastView;ToastView.propTypes = { /**
                                                                                                        * Adds action handling and close icon for toast
                                                                                                        */action: (0, _propTypes.shape)({ label: _propTypes.string.isRequired, handler: _propTypes.func.isRequired }), /**
                                                                                                                                                                                                                        * Toast content
                                                                                                                                                                                                                        */children: _propTypes.string.isRequired, onClose: _propTypes.func };