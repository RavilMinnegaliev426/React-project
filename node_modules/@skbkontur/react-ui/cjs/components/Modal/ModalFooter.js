"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");exports.__esModule = true;exports.ModalFooter = ModalFooter;var _react = _interopRequireWildcard(require("react"));
var _classnames = _interopRequireDefault(require("classnames"));

var _getScrollWidth = require("../../lib/dom/getScrollWidth");
var _Sticky = require("../Sticky");
var _ThemeContext = require("../../lib/theming/ThemeContext");
var _ZIndex = require("../../internal/ZIndex");

var _Modal = require("./Modal.styles");
var _ModalContext = require("./ModalContext");










/**
                                                * Футер модального окна.
                                                *
                                                * @visibleName Modal.Footer
                                                */
function ModalFooter(props) {var _props$sticky =
  props.sticky,sticky = _props$sticky === void 0 ? true : _props$sticky,panel = props.panel,children = props.children;
  var theme = (0, _react.useContext)(_ThemeContext.ThemeContext);var _useState =
  (0, _react.useState)(0),scrollbarWidth = _useState[0],setScrollBarWidth = _useState[1];

  (0, _react.useEffect)(function () {
    setScrollBarWidth((0, _getScrollWidth.getScrollWidth)());
  }, []);

  var renderContent = function renderContent(fixed) {var _cn;if (fixed === void 0) {fixed = false;}return (
      _react.default.createElement("div", {
        className: (0, _classnames.default)((_cn = {}, _cn[
        _Modal.jsStyles.footer()] = true, _cn[
        _Modal.jsStyles.panel(theme)] = Boolean(panel), _cn[
        _Modal.jsStyles.fixedFooter(theme)] = fixed, _cn)) },


      children));};



  return (
    _react.default.createElement(_ZIndex.ZIndex, { style: { position: 'relative' }, priority: 'ModalFooter' },
    _react.default.createElement(_ModalContext.ModalContext.Consumer, null,
    function (_ref) {var horizontalScroll = _ref.horizontalScroll;
      if (sticky) {
        return (
          _react.default.createElement(_Sticky.Sticky, { side: "bottom", offset: horizontalScroll ? scrollbarWidth : 0 },
          renderContent));


      }

      return renderContent();
    })));



}

ModalFooter.__KONTUR_REACT_UI__ = 'ModalFooter';
ModalFooter.__MODAL_FOOTER__ = true;