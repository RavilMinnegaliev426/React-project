{"version":3,"sources":["ThemeFactory.ts"],"names":["DefaultThemeInternal","IS_THEME_KEY","Object","defineProperty","value","writable","enumerable","configurable","ThemeFactory","create","theme","baseTheme","freeze","setPrototypeOf","isFullTheme","overrideDefaultTheme","keys","forEach","variableName","descriptor","getOwnPropertyDescriptor","getKeys","key","includes","push","getPrototypeOf","sort"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,oCAArC;;;;AAIA,IAAMC,YAAY,GAAG,uBAArB;;AAEAC,MAAM,CAACC,cAAP,CAAsBH,oBAAtB,EAA4CC,YAA5C,EAA0D;AACxDG,EAAAA,KAAK,EAAE,IADiD;AAExDC,EAAAA,QAAQ,EAAE,KAF8C;AAGxDC,EAAAA,UAAU,EAAE,KAH4C;AAIxDC,EAAAA,YAAY,EAAE,KAJ0C,EAA1D;;;AAOA,WAAaC,YAAb;AACgBC,EAAAA,MADhB,GACE,gBAAmCC,KAAnC,EAAuDC,SAAvD,EAAqH,KAA9DA,SAA8D,cAA9DA,SAA8D,GAA3CX,oBAA2C;AACnH,WAAOE,MAAM,CAACU,MAAP,CAAcV,MAAM,CAACW,cAAP,CAAsBH,KAAtB,EAA6BC,SAA7B,CAAd,CAAP;AACD,GAHH;;AAKgBG,EAAAA,WALhB,GAKE,qBAA0BJ,KAA1B,EAAkE;AAChE;AACA,WAAOA,KAAK,CAACT,YAAD,CAAL,KAAwB,IAA/B;AACD,GARH;;AAUgBc,EAAAA,oBAVhB,GAUE,8BAAmCL,KAAnC,EAAmD;AACjDR,IAAAA,MAAM,CAACc,IAAP,CAAYN,KAAZ,EAAmBO,OAAnB,CAA2B,UAAAC,YAAY,EAAI;AACzC,UAAMC,UAAU,GAAGjB,MAAM,CAACkB,wBAAP,CAAgCV,KAAhC,EAAuCQ,YAAvC,CAAnB;AACAhB,MAAAA,MAAM,CAACC,cAAP,CAAsBH,oBAAtB,EAA4CkB,YAA5C,EAA0DC,UAA1D;AACD,KAHD;AAID,GAfH;;AAiBgBE,EAAAA,OAjBhB,GAiBE,iBAAuCX,KAAvC,EAAiD;AAC/C,QAAMM,IAAoB,GAAG,EAA7B;AACA,WAAON,KAAK,IAAI,IAAhB,EAAsB;AACnBR,MAAAA,MAAM,CAACc,IAAP,CAAYN,KAAZ,CAAD,CAAuCO,OAAvC,CAA+C,UAAAK,GAAG,EAAI;AACpD,YAAI,CAACN,IAAI,CAACO,QAAL,CAAcD,GAAd,CAAL,EAAyB;AACvBN,UAAAA,IAAI,CAACQ,IAAL,CAAUF,GAAV;AACD;AACF,OAJD;AAKAZ,MAAAA,KAAK,GAAGR,MAAM,CAACuB,cAAP,CAAsBf,KAAtB,CAAR;AACD;AACD,WAAOM,IAAI,CAACU,IAAL,EAAP;AACD,GA5BH","sourcesContent":["import { DefaultThemeInternal } from '../../internal/themes/DefaultTheme';\r\n\r\nimport { Theme, ThemeIn } from './Theme';\r\n\r\nconst IS_THEME_KEY = '__IS_REACT_UI_THEME__';\r\n\r\nObject.defineProperty(DefaultThemeInternal, IS_THEME_KEY, {\r\n  value: true,\r\n  writable: false,\r\n  enumerable: false,\r\n  configurable: false,\r\n});\r\n\r\nexport class ThemeFactory {\r\n  public static create<T extends {}>(theme: ThemeIn & T, baseTheme: Theme = DefaultThemeInternal): Readonly<Theme & T> {\r\n    return Object.freeze(Object.setPrototypeOf(theme, baseTheme));\r\n  }\r\n\r\n  public static isFullTheme(theme: ThemeIn | Theme): theme is Theme {\r\n    // @ts-ignore\r\n    return theme[IS_THEME_KEY] === true;\r\n  }\r\n\r\n  public static overrideDefaultTheme(theme: ThemeIn) {\r\n    Object.keys(theme).forEach(variableName => {\r\n      const descriptor = Object.getOwnPropertyDescriptor(theme, variableName)!;\r\n      Object.defineProperty(DefaultThemeInternal, variableName, descriptor);\r\n    });\r\n  }\r\n\r\n  public static getKeys<T extends Theme>(theme: T) {\r\n    const keys: Array<keyof T> = [];\r\n    while (theme != null) {\r\n      (Object.keys(theme) as Array<keyof T>).forEach(key => {\r\n        if (!keys.includes(key)) {\r\n          keys.push(key);\r\n        }\r\n      });\r\n      theme = Object.getPrototypeOf(theme);\r\n    }\r\n    return keys.sort();\r\n  }\r\n}\r\n"]}