{"version":3,"sources":["utils.ts"],"names":["platform","navigator","toLowerCase","userAgent","vendor","isMac","includes","isWindows","isSafari","test","isFirefox","isOpera","isChrome","isEdge","isIE11","delay","ms","Promise","resolve","setTimeout","emptyHandler","CancelationError","code","Error","taskWithDelay","task","cancelationToken","reject","then","isFunction","x","isFunctionalComponent","Component","prototype","isReactComponent","escapeRegExpSpecChars","s","replace","getRandomID","Math","random","toString","slice","hasSvgAnimationSupport","document","createElementNS","namespaceURI","element","isExternalLink","link","RegExp","window","location","host"],"mappings":"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","sourcesContent":["import { ReactComponentLike } from 'prop-types';\r\n\r\n// NOTE: Copy-paste from @types/react\r\nexport type Defaultize<P, D> = P extends any\r\n  ? string extends keyof P\r\n    ? P\r\n    : Pick<P, Exclude<keyof P, keyof D>> &\r\n        Partial<Pick<P, Extract<keyof P, keyof D>>> &\r\n        Partial<Pick<D, Exclude<keyof D, keyof P>>>\r\n  : never;\r\n\r\nexport type DefaultizeProps<C, P> = C extends { defaultProps: infer D } ? Defaultize<P, D> : P;\r\n\r\n// NOTE Some checks are used from https://github.com/arasatasaygin/is.js\r\nconst platform = ((navigator && navigator.platform) || '').toLowerCase();\r\nconst userAgent = ((navigator && navigator.userAgent) || '').toLowerCase();\r\nconst vendor = ((navigator && navigator.vendor) || '').toLowerCase();\r\n\r\nexport const isMac = platform.includes(\"mac\");\r\nexport const isWindows = platform.includes(\"win\");\r\n\r\nexport const isSafari = /version\\/(\\d+).+?safari/.test(userAgent);\r\nexport const isFirefox = /(?:firefox|fxios)\\/(\\d+)/.test(userAgent);\r\nexport const isOpera = /(?:^opera.+?version|opr)\\/(\\d+)/.test(userAgent);\r\nexport const isChrome = vendor.includes(\"google inc\") && /(?:chrome|crios)\\/(\\d+)/.test(userAgent) && !isOpera;\r\nexport const isEdge = userAgent.includes(\"edge/\");\r\nexport const isIE11 = userAgent.includes(\"trident/\");\r\n\r\nexport const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\nexport const emptyHandler = () => {\r\n  /* noop */\r\n};\r\n\r\nexport class CancelationError extends Error {\r\n  public code = 'CancelationError';\r\n}\r\n\r\nexport function taskWithDelay(task: () => void, ms: number) {\r\n  let cancelationToken: () => void = () => null;\r\n\r\n  new Promise((resolve, reject) => {\r\n    cancelationToken = reject;\r\n    setTimeout(resolve, ms);\r\n  })\r\n    .then(task)\r\n    .catch(() => null);\r\n\r\n  return cancelationToken;\r\n}\r\n\r\nexport function isFunction<T>(x: T | Function): x is Function {\r\n  return typeof x === 'function';\r\n}\r\n\r\nexport function isFunctionalComponent(Component: ReactComponentLike) {\r\n  return typeof Component === 'function' && !(Component.prototype && Component.prototype.isReactComponent);\r\n}\r\n\r\nexport function escapeRegExpSpecChars(s: string): string {\r\n  return s.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n}\r\n\r\nexport const getRandomID = (): string =>\r\n  Math.random()\r\n    .toString(16)\r\n    .slice(2);\r\n\r\nexport const hasSvgAnimationSupport = (() => {\r\n  if (document.createElementNS) {\r\n    const namespaceURI = 'http://www.w3.org/2000/svg';\r\n    const element = document.createElementNS(namespaceURI, 'animate');\r\n\r\n    if (element) {\r\n      return element.toString().includes(\"SVGAnimate\");\r\n    }\r\n  }\r\n\r\n  return false;\r\n})();\r\n\r\nexport const isExternalLink = (link: string): boolean => {\r\n  return (new RegExp(`^(https?:)?//(?!${window.location.host})\\\\S+`, 'gi')).test(link)\r\n}\r\n"]}