{"version":3,"sources":["Menu.tsx"],"names":["React","ReactDOM","cn","ScrollContainer","isMenuItem","isMenuHeader","ThemeContext","jsStyles","isActiveElement","Menu","state","highlightedIndex","theme","scrollContainer","highlighted","unmounted","refScrollContainer","scrollToSelected","scrollTo","findDOMNode","scrollToTop","scrollToBottom","highlight","index","setState","unhighlight","componentWillUnmount","render","renderMain","up","move","down","enter","event","select","reset","hasHighlightedItem","highlightItem","enableIconPadding","Children","toArray","props","children","some","x","isValidElement","icon","isEmpty","root","shadow","hasShadow","width","maxHeight","preventWindowScroll","map","child","cloneElement","_enableIconPadding","ref","refHighlighted","bind","onClick","onMouseEnter","onMouseLeave","originalRef","menuItem","shouldHandleHref","item","childrenToArray","href","target","window","open","location","onItemClick","step","activeElements","filter","length","indexOf","isExist","Component","__KONTUR_REACT_UI__","defaultProps","value","undefined","ret","forEach","push"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport cn from 'classnames';\r\n\r\nimport { ScrollContainer } from '../../components/ScrollContainer';\r\nimport { isMenuItem, MenuItem, MenuItemProps } from '../../components/MenuItem';\r\nimport { isMenuHeader } from '../../components/MenuHeader';\r\nimport { Nullable } from '../../typings/utility-types';\r\nimport { ThemeContext } from '../../lib/theming/ThemeContext';\r\nimport { Theme } from '../../lib/theming/Theme';\r\n\r\nimport { jsStyles } from './Menu.styles';\r\nimport { isActiveElement } from './isActiveElement';\r\n\r\nexport interface MenuProps {\r\n  children: React.ReactNode;\r\n  hasShadow?: boolean;\r\n  maxHeight?: number | string;\r\n  onItemClick?: () => void;\r\n  width?: number | string;\r\n  preventWindowScroll?: boolean;\r\n}\r\n\r\nexport interface MenuState {\r\n  highlightedIndex: number;\r\n}\r\n\r\nexport class Menu extends React.Component<MenuProps, MenuState> {\r\n  public static __KONTUR_REACT_UI__ = 'Menu';\r\n\r\n  public static defaultProps = {\r\n    width: 'auto',\r\n    maxHeight: 300,\r\n    hasShadow: true,\r\n    preventWindowScroll: true,\r\n  };\r\n\r\n  public state = {\r\n    highlightedIndex: -1,\r\n  };\r\n\r\n  private theme!: Theme;\r\n  private scrollContainer: Nullable<ScrollContainer>;\r\n  private highlighted: Nullable<MenuItem>;\r\n  private unmounted = false;\r\n\r\n  public componentWillUnmount() {\r\n    this.unmounted = true;\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <ThemeContext.Consumer>\r\n        {theme => {\r\n          this.theme = theme;\r\n          return this.renderMain();\r\n        }}\r\n      </ThemeContext.Consumer>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public up() {\r\n    this.move(-1);\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public down() {\r\n    this.move(1);\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public enter(event: React.SyntheticEvent<HTMLElement>) {\r\n    return this.select(this.state.highlightedIndex, true, event);\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public reset() {\r\n    this.setState({ highlightedIndex: -1 });\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n  public hasHighlightedItem() {\r\n    return this.state.highlightedIndex !== -1;\r\n  }\r\n\r\n  public highlightItem(index: number) {\r\n    this.highlight(index);\r\n  }\r\n\r\n  private renderMain() {\r\n    const enableIconPadding = React.Children.toArray(this.props.children).some(\r\n      x => React.isValidElement(x) && x.props.icon,\r\n    );\r\n\r\n    if (this.isEmpty()) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={cn({\r\n          [jsStyles.root(this.theme)]: true,\r\n          [jsStyles.shadow(this.theme)]: this.props.hasShadow,\r\n        })}\r\n        style={{ width: this.props.width, maxHeight: this.props.maxHeight }}\r\n      >\r\n        <ScrollContainer\r\n          ref={this.refScrollContainer}\r\n          maxHeight={this.props.maxHeight}\r\n          preventWindowScroll={this.props.preventWindowScroll}\r\n        >\r\n          {React.Children.map(this.props.children, (child, index) => {\r\n            if (!child) {\r\n              return child;\r\n            }\r\n            if (typeof child === 'string' || typeof child === 'number') {\r\n              return child;\r\n            }\r\n\r\n            if (enableIconPadding && (isMenuItem(child) || isMenuHeader(child))) {\r\n              child = React.cloneElement(child, {\r\n                _enableIconPadding: true,\r\n              });\r\n            }\r\n            if (isActiveElement(child)) {\r\n              const highlight = this.state.highlightedIndex === index;\r\n\r\n              let ref = child.ref;\r\n              if (highlight && typeof child.ref !== 'string') {\r\n                ref = this.refHighlighted.bind(this, child.ref);\r\n              }\r\n\r\n              return React.cloneElement<MenuItemProps, MenuItem>(child, {\r\n                ref,\r\n                state: highlight ? 'hover' : child.props.state,\r\n                onClick: this.select.bind(this, index, false),\r\n                onMouseEnter: this.highlight.bind(this, index),\r\n                onMouseLeave: this.unhighlight,\r\n              });\r\n            }\r\n            return child;\r\n          })}\r\n        </ScrollContainer>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private refScrollContainer = (scrollContainer: Nullable<ScrollContainer>) => {\r\n    this.scrollContainer = scrollContainer;\r\n  };\r\n\r\n  private refHighlighted(\r\n    originalRef: ((menuItem: MenuItem | null) => any) | React.RefObject<MenuItem> | null | undefined,\r\n    menuItem: MenuItem | null,\r\n  ) {\r\n    this.highlighted = menuItem;\r\n\r\n    if (typeof originalRef === 'function') {\r\n      originalRef(menuItem);\r\n    }\r\n  }\r\n\r\n  private scrollToSelected = () => {\r\n    if (this.scrollContainer && this.highlighted) {\r\n      this.scrollContainer.scrollTo(ReactDOM.findDOMNode(this.highlighted) as HTMLElement);\r\n    }\r\n  };\r\n\r\n  private scrollToTop = () => {\r\n    if (this.scrollContainer) {\r\n      this.scrollContainer.scrollToTop();\r\n    }\r\n  };\r\n\r\n  private scrollToBottom = () => {\r\n    if (this.scrollContainer) {\r\n      this.scrollContainer.scrollToBottom();\r\n    }\r\n  };\r\n\r\n  private select(index: number, shouldHandleHref: boolean, event: React.SyntheticEvent<HTMLElement>): boolean {\r\n    const item = childrenToArray(this.props.children)[index];\r\n    if (isActiveElement(item)) {\r\n      if (shouldHandleHref && item.props.href) {\r\n        if (item.props.target) {\r\n          window.open(item.props.href, item.props.target);\r\n        } else {\r\n          location.href = item.props.href;\r\n        }\r\n      }\r\n      if (item.props.onClick) {\r\n        item.props.onClick(event);\r\n      }\r\n      if (this.props.onItemClick) {\r\n        this.props.onItemClick();\r\n      }\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private highlight = (index: number) => {\r\n    this.setState({ highlightedIndex: index });\r\n  };\r\n\r\n  private unhighlight = () => {\r\n    this.setState({ highlightedIndex: -1 });\r\n  };\r\n\r\n  private move(step: number) {\r\n    if (this.unmounted) {\r\n      // NOTE workaround, because `ComboBox` call `process.nextTick` in reducer\r\n      return;\r\n    }\r\n\r\n    const children = childrenToArray(this.props.children);\r\n    const activeElements = children.filter(isActiveElement);\r\n    if (!activeElements.length) {\r\n      return;\r\n    }\r\n    let index = this.state.highlightedIndex;\r\n    do {\r\n      index += step;\r\n      if (index < 0) {\r\n        index = children.length - 1;\r\n      } else if (index > children.length) {\r\n        index = 0;\r\n      }\r\n\r\n      const child = children[index];\r\n      if (isActiveElement(child)) {\r\n        this.setState({ highlightedIndex: index }, () => {\r\n          switch (activeElements.indexOf(child)) {\r\n            case 0:\r\n              this.scrollToTop();\r\n              break;\r\n            case activeElements.length - 1:\r\n              this.scrollToBottom();\r\n              break;\r\n            default:\r\n              this.scrollToSelected();\r\n          }\r\n        });\r\n        return;\r\n      }\r\n    } while (index !== this.state.highlightedIndex);\r\n  }\r\n\r\n  private isEmpty() {\r\n    const { children } = this.props;\r\n    return !children || !childrenToArray(children).filter(isExist).length;\r\n  }\r\n}\r\n\r\nfunction isExist(value: any): value is any {\r\n  return value !== null && value !== undefined;\r\n}\r\n\r\nfunction childrenToArray(children: React.ReactNode): React.ReactNode[] {\r\n  const ret: React.ReactNode[] = [];\r\n  // Use forEach instead of map to avoid cloning for key unifying.\r\n  React.Children.forEach(children, child => {\r\n    ret.push(child);\r\n  });\r\n  return ret;\r\n}\r\n"]}