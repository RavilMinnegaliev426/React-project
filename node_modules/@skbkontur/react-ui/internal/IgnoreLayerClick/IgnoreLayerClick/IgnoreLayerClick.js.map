{"version":3,"sources":["IgnoreLayerClick.tsx"],"names":["React","findDOMNode","IgnoreLayerClick","render","child","Children","only","props","children","active","Component","IgnoreLayerClickWrapper","element","handleMouseDown","event","stopPropagation","componentDidMount","Element","addEventListener","componentWillUnmount","removeEventListener","__KONTUR_REACT_UI__"],"mappings":"sEAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;;;;;;;AAOA,WAAaC,gBAAb;AACSC,EAAAA,MADT,GACE,kBAAgB;AACd,QAAMC,KAAK,GAAGJ,KAAK,CAACK,QAAN,CAAeC,IAAf,CAAoB,KAAKC,KAAL,CAAWC,QAA/B,CAAd;AACA,WAAO,KAAKD,KAAL,CAAWE,MAAX,GAAoB,oBAAC,uBAAD,QAA0BL,KAA1B,CAApB,GAAiFA,KAAxF;AACD,GAJH,2BAAsCJ,KAAK,CAACU,SAA5C;;;;;;;AAWA;IACMC,uB;;;AAGIC,IAAAA,O,GAA0B,I;;;;;;;;;;;;;;;;;;;;;AAqB1BC,IAAAA,e,GAAkB,UAACC,KAAD,EAAkB;AAC1CA,MAAAA,KAAK,CAACC,eAAN;AACD,K,uEArBMC,iB,GAAP,6BAA2B,CACzB,IAAMJ,OAAO,GAAGX,WAAW,CAAC,IAAD,CAA3B,CACA,IAAIW,OAAO,IAAIA,OAAO,YAAYK,OAAlC,EAA2C,CACzCL,OAAO,CAACM,gBAAR,CAAyB,WAAzB,EAAsC,KAAKL,eAA3C,EACA,KAAKD,OAAL,GAAeA,OAAf,CACD,CACF,C,SAEMO,oB,GAAP,gCAA8B,CAC5B,IAAI,KAAKP,OAAT,EAAkB,CAChB,KAAKA,OAAL,CAAaQ,mBAAb,CAAiC,WAAjC,EAA8C,KAAKP,eAAnD,EACA,KAAKD,OAAL,GAAe,IAAf,CACD,CACF,C,SAEMT,M,GAAP,kBAAgB,CACd,OAAOH,KAAK,CAACK,QAAN,CAAeC,IAAf,CAAoB,KAAKC,KAAL,CAAWC,QAA/B,CAAP,CACD,C,kCAtBmCR,KAAK,CAACU,S,EAAtCC,uB,CACUU,mB,GAAsB,kB","sourcesContent":["import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\n\r\nexport interface IgnoreLayerClickProps {\r\n  children: React.ReactNode;\r\n  active: boolean;\r\n}\r\n\r\nexport class IgnoreLayerClick extends React.Component<IgnoreLayerClickProps> {\r\n  public render() {\r\n    const child = React.Children.only(this.props.children);\r\n    return this.props.active ? <IgnoreLayerClickWrapper>{child}</IgnoreLayerClickWrapper> : child;\r\n  }\r\n}\r\n\r\ninterface WrapperProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\n// NOTE Используется только в команде Контур.Бухгалтерия\r\nclass IgnoreLayerClickWrapper extends React.Component<WrapperProps> {\r\n  public static __KONTUR_REACT_UI__ = 'IgnoreLayerClick';\r\n\r\n  private element: Element | null = null;\r\n\r\n  public componentDidMount() {\r\n    const element = findDOMNode(this);\r\n    if (element && element instanceof Element) {\r\n      element.addEventListener('mousedown', this.handleMouseDown);\r\n      this.element = element;\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    if (this.element) {\r\n      this.element.removeEventListener('mousedown', this.handleMouseDown);\r\n      this.element = null;\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    return React.Children.only(this.props.children);\r\n  }\r\n\r\n  private handleMouseDown = (event: Event) => {\r\n    event.stopPropagation();\r\n  };\r\n}\r\n"]}