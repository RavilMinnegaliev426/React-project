{"version":3,"sources":["ComponentCombinator.tsx"],"names":["React","ComponentTable","ComponentCombinator","state","page","prevPage","setState","nextPage","render","props","combinations","Component","presetProps","presetState","pages","row","sizes","map","c","length","flatCombinations","concat","j","push","offsetX","offsetY","pageOffsets","slice","defaultProps","states"],"mappings":"sEAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;AAIA,SAASC,cAAT,QAAkE,kBAAlE;;;;;;;;;AASA,WAAaC,mBAAb;;;;;;;;;;;;;;;AAeSC,IAAAA,KAfT,GAeiB;AACbC,MAAAA,IAAI,EAAE,CADO,EAfjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DUC,IAAAA,QA9DV,GA8DqB,YAAM;AACvB,YAAKC,QAAL,CAAc,qBAAGF,IAAH,QAAGA,IAAH,QAAe;AAC3BA,UAAAA,IAAI,EAAEA,IAAI,GAAG,CADc,EAAf,EAAd;;AAGD,KAlEH;;AAoEUG,IAAAA,QApEV,GAoEqB,YAAM;AACvB,YAAKD,QAAL,CAAc,sBAAGF,IAAH,SAAGA,IAAH,QAAe;AAC3BA,UAAAA,IAAI,EAAEA,IAAI,GAAG,CADc,EAAf,EAAd;;AAGD,KAxEH,iEAmBSI,MAnBT,GAmBE,kBAAgB,eACNJ,IADM,GACG,KAAKD,KADR,CACNC,IADM,mBAEgD,KAAKK,KAFrD,CAENC,YAFM,eAENA,YAFM,CAEQC,SAFR,eAEQA,SAFR,CAEmBC,WAFnB,eAEmBA,WAFnB,CAEgCC,WAFhC,eAEgCA,WAFhC,CAGd,IAAMC,KAAK,GAAG,EAAd,CACA,IAAIC,GAAG,GAAG,CAAV,CACA,IAAMC,KAAK,GAAGN,YAAY,CAACO,GAAb,CAAiB,UAAAC,CAAC,UAAIA,CAAC,CAACC,MAAN,EAAlB,CAAd,CACA,IAAMC,gBAAgB,GAAG,SAAC,EAAD,EAA+BC,MAA/B,cAAyCX,YAAzC,CAAzB,CAEA,KAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACG,MAAN,GAAe,CAAnC,EAAsCG,CAAC,EAAvC,EAA2C,CACzCR,KAAK,CAACS,IAAN,CAAW,EACTC,OAAO,EAAET,GADA,EAETU,OAAO,EAAGV,GAAG,IAAIC,KAAK,CAACM,CAAD,CAFb,EAAX,EAID,CAED,IAAMI,WAAW,GAAGZ,KAAK,CAACV,IAAD,CAAzB,CACA,OACE,iCACE,6BAAK,EAAE,EAAC,WAAR,IACE,gCAAQ,QAAQ,EAAEA,IAAI,KAAK,CAA3B,EAA8B,EAAE,EAAC,WAAjC,EAA6C,OAAO,EAAE,KAAKC,QAA3D,WADF,EAGY,GAHZ,EAIE,mCAAWD,IAAI,GAAG,CAAlB,WAAyBU,KAAK,CAACK,MAA/B,CAJF,EAImD,GAJnD,EAKE,gCAAQ,QAAQ,EAAEf,IAAI,GAAG,CAAP,IAAYU,KAAK,CAACK,MAApC,EAA4C,EAAE,EAAC,WAA/C,EAA2D,OAAO,EAAE,KAAKZ,QAAzE,WALF,CADF,EAUE,iCACGmB,WAAW,IACV,oBAAC,cAAD,IACE,GAAG,EAAEtB,IADP,EAEE,SAAS,EAAEO,SAFb,EAGE,WAAW,EAAEC,WAHf,EAIE,WAAW,EAAEC,WAJf,EAKE,IAAI,EAAEO,gBAAgB,CAACO,KAAjB,CAAuBD,WAAW,CAACD,OAAnC,EAA4CL,gBAAgB,CAACD,MAA7D,CALR,EAME,IAAI,EAAEC,gBAAgB,CAACO,KAAjB,CAAuBD,WAAW,CAACF,OAAnC,EAA4CE,WAAW,CAACD,OAAxD,CANR,GAFJ,CAVF,CADF,CAyBD,CA5DH,8BAIUzB,KAAK,CAACW,SAJhB,EAAaT,mB,CAQG0B,Y,GAAe,EAC3BnB,KAAK,EAAE,EADoB,EAE3BoB,MAAM,EAAE,EAFmB,EAG3BjB,WAAW,EAAE,EAHc,EAI3BC,WAAW,EAAE,EAJc,E","sourcesContent":["import React from 'react';\r\n\r\nimport { DefaultizeProps } from '../lib/utils';\r\n\r\nimport { ComponentTable, StatePropsCombinations, StateType } from './ComponentTable';\r\n\r\nexport interface ComponentCombinatorProps<C, P, S> {\r\n  combinations: Array<StatePropsCombinations<P, S>>;\r\n  Component: C;\r\n  presetProps: DefaultizeProps<C, P>;\r\n  presetState: Partial<S>;\r\n}\r\n\r\nexport class ComponentCombinator<\r\n  T extends React.Component<any, any, any>,\r\n  C extends React.ComponentType<any>,\r\n  P extends React.ComponentProps<C>\r\n> extends React.Component<\r\n  ComponentCombinatorProps<C extends React.ComponentClass<P, any> ? React.ClassType<P, T, C> : C, P, StateType<C>>,\r\n  { page: number }\r\n> {\r\n  public static defaultProps = {\r\n    props: [],\r\n    states: [],\r\n    presetProps: {},\r\n    presetState: {},\r\n  };\r\n\r\n  public state = {\r\n    page: 0,\r\n  };\r\n\r\n  public render() {\r\n    const { page } = this.state;\r\n    const { combinations, Component, presetProps, presetState } = this.props;\r\n    const pages = [];\r\n    let row = 0;\r\n    const sizes = combinations.map(c => c.length);\r\n    const flatCombinations = ([] as typeof combinations[0]).concat(...combinations);\r\n\r\n    for (let j = 0; j < sizes.length - 1; j++) {\r\n      pages.push({\r\n        offsetX: row,\r\n        offsetY: (row += sizes[j]),\r\n      });\r\n    }\r\n\r\n    const pageOffsets = pages[page];\r\n    return (\r\n      <div>\r\n        <div id=\"paginator\">\r\n          <button disabled={page === 0} id=\"prev-page\" onClick={this.prevPage}>\r\n            Prev\r\n          </button>{' '}\r\n          <small>{`${page + 1} / ${pages.length}`}</small>{' '}\r\n          <button disabled={page + 1 >= pages.length} id=\"next-page\" onClick={this.nextPage}>\r\n            Next\r\n          </button>\r\n        </div>\r\n        <div>\r\n          {pageOffsets && (\r\n            <ComponentTable\r\n              key={page}\r\n              Component={Component}\r\n              presetProps={presetProps}\r\n              presetState={presetState}\r\n              rows={flatCombinations.slice(pageOffsets.offsetY, flatCombinations.length)}\r\n              cols={flatCombinations.slice(pageOffsets.offsetX, pageOffsets.offsetY)}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private prevPage = () => {\r\n    this.setState(({ page }) => ({\r\n      page: page - 1,\r\n    }));\r\n  };\r\n\r\n  private nextPage = () => {\r\n    this.setState(({ page }) => ({\r\n      page: page + 1,\r\n    }));\r\n  };\r\n}\r\n"]}