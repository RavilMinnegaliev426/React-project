{"version":3,"sources":["ThemeShowcase.tsx"],"names":["React","cn","DEFAULT_THEME","defaultVariables","FLAT_THEME","flatVariables","ComboBox","Gapped","Link","Sticky","ColorFunctions","Tooltip","IS_PROXY_SUPPORTED","ALL_USED_VARIABLES","CALLS_COUNT","COMPONENT_DESCRIPTIONS","COMPONENT_DESCRIPTIONS_BY_VARIABLE","EXECUTION_TIME","jsStyles","EMPTY_ARRAY","ALL_VARIABLES","Object","keys","ThemeShowcase","state","isUnmounting","variablesDiff","getItems","query","Promise","resolve","getValues","handleVariableChange","item","setState","selectedVariable","handleUnexpectedVariableInput","values","length","resetVariable","undefined","UNSAFE_componentWillMount","props","isDebugMode","forEach","variable","found","includes","push","render","descriptionsToRender","value","callsCount","executionTime","toFixed","searchBar","sort","map","componentName","componentWillUnmount","lowerCaseQuery","toLowerCase","trim","allItems","filter","usedVariable","startsWith","usedVariableName","label","Component","ComponentShowcase","name","description","onVariableSelect","elements","isSticky","heading","headingSticky","table","width","el","ComponentShowcaseRow","element","row","rowSpan","variables","invisibleRow","elementName","invisibleCell","varName","dependencies","variableDefault","variableFlat","hasNoVariables","suspiciousRow","VariableName","handleVariableSelect","variableName","renderDependencies","dependency","DependencyName","dependencyName","dependencyDefault","dependencyFlat","handleDependencySelect","onDependencySelect","VariableValue","valueIsColor","isColor","valueIsGradient","isGradient","hasExample","borderColor","contrast","colorExample","background","ShowUnusedVariables","diff","unusedVariablesWarning","v","input"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport cn from 'classnames';\r\nimport { Theme } from 'react-ui/lib/theming/Theme';\r\n\r\nimport { DEFAULT_THEME as defaultVariables } from '../../lib/theming/themes/DefaultTheme';\r\nimport { FLAT_THEME as flatVariables } from '../../lib/theming/themes/FlatTheme';\r\nimport { ComboBox, ComboBoxItem } from '../../components/ComboBox';\r\nimport { Gapped } from '../../components/Gapped';\r\nimport { Link } from '../../components/Link';\r\nimport { Sticky } from '../../components/Sticky';\r\nimport * as ColorFunctions from '../../lib/styles/ColorFunctions';\r\nimport { Tooltip } from '../../components/Tooltip';\r\nimport { IS_PROXY_SUPPORTED } from '../../lib/Supports';\r\n\r\nimport {\r\n  ALL_USED_VARIABLES,\r\n  CALLS_COUNT,\r\n  COMPONENT_DESCRIPTIONS,\r\n  COMPONENT_DESCRIPTIONS_BY_VARIABLE,\r\n  ComponentDescriptionType,\r\n  ComponentRowDescriptionType,\r\n  EXECUTION_TIME,\r\n} from './VariablesCollector';\r\nimport { jsStyles } from './ThemeShowcase.styles';\r\n\r\nconst EMPTY_ARRAY: string[] = [];\r\n\r\nconst ALL_VARIABLES = Object.keys(defaultVariables) as Array<keyof Theme>;\r\n\r\ninterface ShowcaseProps {\r\n  isDebugMode?: boolean;\r\n}\r\ninterface ShowcaseState {\r\n  selectedVariable?: ComboBoxItem;\r\n}\r\n\r\nexport class ThemeShowcase extends React.Component<ShowcaseProps, ShowcaseState> {\r\n  public state: ShowcaseState = {};\r\n\r\n  private isUnmounting = false;\r\n  private variablesDiff: string[] = [];\r\n\r\n  public UNSAFE_componentWillMount(): void {\r\n    if (this.props.isDebugMode) {\r\n      ALL_VARIABLES.forEach(variable => {\r\n        const found = ALL_USED_VARIABLES.includes(variable);\r\n        if (!found) {\r\n          this.variablesDiff.push(variable);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    if (!IS_PROXY_SUPPORTED) {\r\n      return (\r\n        <div>\r\n          Таблица использования переменных доступна только в{' '}\r\n          <Link href={'https://caniuse.com/#feat=proxy'} target={'_blank'}>\r\n            браузерах с поддержкой Proxy\r\n          </Link>\r\n          .\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const selectedVariable = this.state.selectedVariable;\r\n    const descriptionsToRender = selectedVariable\r\n      ? COMPONENT_DESCRIPTIONS_BY_VARIABLE[selectedVariable.value] || {}\r\n      : COMPONENT_DESCRIPTIONS;\r\n\r\n    const isDebugMode = this.props.isDebugMode;\r\n    const callsCount = isDebugMode ? `(${CALLS_COUNT} вызовов)` : '';\r\n    const executionTime = isDebugMode ? `Сгенерировано за ${EXECUTION_TIME.toFixed(3)}ms` : '';\r\n\r\n    return (\r\n      <Gapped wrap gap={30} verticalAlign={'top'}>\r\n        <div>\r\n          <Sticky side={'top'}>\r\n            <div className={jsStyles.searchBar()} data-perf-info={`${executionTime} ${callsCount}`}>\r\n              <Gapped gap={15}>\r\n                <ComboBox\r\n                  getItems={this.getItems}\r\n                  value={selectedVariable}\r\n                  onValueChange={this.handleVariableChange}\r\n                  onUnexpectedInput={this.handleUnexpectedVariableInput}\r\n                  placeholder={'поиск по названию переменной'}\r\n                />\r\n                {!!selectedVariable && <Link onClick={this.resetVariable}>сбросить</Link>}\r\n              </Gapped>\r\n            </div>\r\n          </Sticky>\r\n          {Object.keys(descriptionsToRender)\r\n            .sort()\r\n            .map(componentName => (\r\n              <ComponentShowcase\r\n                key={componentName}\r\n                name={componentName}\r\n                description={descriptionsToRender[componentName]}\r\n                isDebugMode={isDebugMode}\r\n                onVariableSelect={this.handleVariableChange}\r\n              />\r\n            ))}\r\n        </div>\r\n        <ShowUnusedVariables diff={this.variablesDiff} />\r\n      </Gapped>\r\n    );\r\n  }\r\n  public componentWillUnmount(): void {\r\n    this.isUnmounting = true;\r\n  }\r\n\r\n  private getValues(query: string) {\r\n    const lowerCaseQuery = query && query.toLowerCase().trim();\r\n    let allItems = ALL_USED_VARIABLES;\r\n    if (lowerCaseQuery) {\r\n      allItems = ALL_USED_VARIABLES.filter(usedVariable => usedVariable.toLowerCase().startsWith(lowerCaseQuery));\r\n    }\r\n    return allItems.map(usedVariableName => ({\r\n      value: usedVariableName,\r\n      label: usedVariableName,\r\n    }));\r\n  }\r\n  private getItems = (query: string) => {\r\n    return Promise.resolve(this.getValues(query));\r\n  };\r\n  private handleVariableChange = (item: ComboBoxItem) => {\r\n    if (!this.isUnmounting) {\r\n      this.setState({ selectedVariable: item });\r\n    }\r\n  };\r\n  private handleUnexpectedVariableInput = (query: string) => {\r\n    const values = this.getValues(query);\r\n    if (values.length > 0) {\r\n      return values[0];\r\n    } else {\r\n      return this.resetVariable();\r\n    }\r\n  };\r\n  private resetVariable = () => {\r\n    if (!this.isUnmounting) {\r\n      this.setState({ selectedVariable: undefined });\r\n    }\r\n  };\r\n}\r\n\r\ninterface ComponentShowcaseProps {\r\n  name: string;\r\n  description: ComponentDescriptionType;\r\n  isDebugMode?: boolean;\r\n  onVariableSelect: (item: ComboBoxItem) => void;\r\n}\r\nclass ComponentShowcase extends React.Component<ComponentShowcaseProps, {}> {\r\n  public render() {\r\n    const { name, description, onVariableSelect, isDebugMode } = this.props;\r\n    const elements = Object.keys(description);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Sticky side={'top'} offset={40}>\r\n          {isSticky => (\r\n            <h2\r\n              className={cn({\r\n                [jsStyles.heading()]: true,\r\n                [jsStyles.headingSticky()]: isSticky,\r\n              })}\r\n            >\r\n              {this.props.name}\r\n            </h2>\r\n          )}\r\n        </Sticky>\r\n        <table className={jsStyles.table()}>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ width: 170 }}>ClassName</th>\r\n              <th style={{ width: 210 }}>Variable Name</th>\r\n              <th style={{ width: 250 }}>Default Value</th>\r\n              <th style={{ width: 250 }}>Flat Value</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {elements.map(el => (\r\n              <ComponentShowcaseRow\r\n                key={`${name}_${el}`}\r\n                element={el}\r\n                row={description[el]}\r\n                onVariableSelect={onVariableSelect}\r\n                isDebugMode={isDebugMode}\r\n              />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\ninterface ComponentShowcaseRowProps {\r\n  element: string;\r\n  row: ComponentRowDescriptionType;\r\n  isDebugMode?: boolean;\r\n  onVariableSelect: (item: ComboBoxItem) => void;\r\n}\r\n\r\nclass ComponentShowcaseRow extends React.Component<ComponentShowcaseRowProps> {\r\n  public render() {\r\n    const { element: el, row, isDebugMode } = this.props;\r\n    const rowSpan = row.variables.length + 1;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <tr className={jsStyles.invisibleRow()}>\r\n          <td rowSpan={rowSpan}>\r\n            <span className={jsStyles.elementName()}>.{el}</span>\r\n          </td>\r\n          <td className={jsStyles.invisibleCell()} />\r\n          <td className={jsStyles.invisibleCell()} />\r\n          <td className={jsStyles.invisibleCell()} />\r\n        </tr>\r\n        {row.variables.map(varName => {\r\n          const dependencies = row.dependencies[varName] || EMPTY_ARRAY;\r\n          const variableDefault = defaultVariables[varName] as string;\r\n          const variableFlat = flatVariables[varName] as string;\r\n          const hasNoVariables = isDebugMode && !variableDefault && !variableFlat;\r\n\r\n          return (\r\n            <tr key={`${el}_${varName}`} className={cn({ [jsStyles.suspiciousRow()]: hasNoVariables })}>\r\n              <td>\r\n                <VariableName\r\n                  variableName={varName as string}\r\n                  dependencies={dependencies}\r\n                  onVariableSelect={this.props.onVariableSelect}\r\n                />\r\n              </td>\r\n              <td>\r\n                <VariableValue value={variableDefault} />\r\n              </td>\r\n              <td>\r\n                <VariableValue value={variableFlat} />\r\n              </td>\r\n            </tr>\r\n          );\r\n        })}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\ninterface VariableNameProps {\r\n  variableName: string;\r\n  dependencies: Array<keyof Theme>;\r\n  onVariableSelect: (item: ComboBoxItem) => void;\r\n}\r\n\r\nclass VariableName extends React.Component<VariableNameProps> {\r\n  public render() {\r\n    return (\r\n      <span>\r\n        <span className={jsStyles.variableName()} onClick={this.handleVariableSelect}>\r\n          {this.props.variableName}\r\n        </span>\r\n        {this.props.dependencies.length > 0 && this.renderDependencies()}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private renderDependencies() {\r\n    const { dependencies, onVariableSelect } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <br />\r\n        <br />\r\n        зависит от:\r\n        {dependencies.map(dependency => (\r\n          <DependencyName\r\n            key={`dependency_${dependency}`}\r\n            dependencyName={dependency}\r\n            onDependencySelect={onVariableSelect}\r\n          />\r\n        ))}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  private handleVariableSelect = () => {\r\n    const { variableName, onVariableSelect } = this.props;\r\n    if (onVariableSelect) {\r\n      onVariableSelect({ value: variableName, label: variableName });\r\n    }\r\n  };\r\n}\r\n\r\ninterface DependencyNameProps {\r\n  dependencyName: keyof Theme;\r\n  onDependencySelect: (item: ComboBoxItem) => void;\r\n}\r\nclass DependencyName extends React.Component<DependencyNameProps> {\r\n  public render() {\r\n    return (\r\n      <React.Fragment>\r\n        <br />\r\n        &ndash;{' '}\r\n        <Tooltip trigger={'hover'} render={this.getValues} pos={'right middle'}>\r\n          <span className={jsStyles.variableName()} onClick={this.handleDependencySelect}>\r\n            {this.props.dependencyName}\r\n          </span>\r\n        </Tooltip>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  private getValues = () => {\r\n    const dependencyName = this.props.dependencyName;\r\n    const dependencyDefault = defaultVariables[dependencyName] as string;\r\n    const dependencyFlat = flatVariables[dependencyName] as string;\r\n    return (\r\n      <React.Fragment>\r\n        <span>Default value: {<VariableValue value={dependencyDefault} />}</span>\r\n        <br />\r\n        <span>Flat value: {<VariableValue value={dependencyFlat} />}</span>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  private handleDependencySelect = () => {\r\n    const { dependencyName, onDependencySelect } = this.props;\r\n    if (onDependencySelect) {\r\n      onDependencySelect({ value: dependencyName, label: dependencyName });\r\n    }\r\n  };\r\n}\r\n\r\nconst VariableValue = (props: { value: string }) => {\r\n  const value = props.value;\r\n  const valueIsColor = isColor(value);\r\n  const valueIsGradient = isGradient(value);\r\n  const hasExample = valueIsColor || valueIsGradient;\r\n  let borderColor = 'transparent';\r\n  if (hasExample) {\r\n    borderColor = valueIsColor ? ColorFunctions.contrast(value) : '#000';\r\n  }\r\n\r\n  return (\r\n    <span className={cn({ [jsStyles.undefined()]: !value })}>\r\n      {hasExample && <span className={jsStyles.colorExample()} style={{ background: value, borderColor }} />}\r\n      {value || 'undefined'}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst ShowUnusedVariables = (props: { diff: string[] }) => {\r\n  if (props.diff.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={jsStyles.unusedVariablesWarning()}>\r\n      Неиспользованные переменные ({props.diff.length}\r\n      ):\r\n      <ul>\r\n        {props.diff.sort().map(v => (\r\n          <li key={v}>{v}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction isColor(input: string) {\r\n  return !!input && (input.startsWith('#') || input.startsWith('rgb') || input.startsWith('hsl'));\r\n}\r\n\r\nfunction isGradient(input: string) {\r\n  return !!input && input.startsWith('linear-gradient');\r\n}\r\n"]}