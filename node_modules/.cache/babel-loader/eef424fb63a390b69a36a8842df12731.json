{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { listen as listenFocusOutside, containsTargetOrRenderContainer } from \"../../../lib/listenFocusOutside\";\nexport var RenderLayer = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(RenderLayer, _React$Component);\n\n  function RenderLayer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.focusOutsideListenerToken = null;\n\n    _this.handleFocusOutside = function (event) {\n      if (_this.props.onFocusOutside) {\n        _this.props.onFocusOutside(event);\n      }\n    };\n\n    _this.handleNativeDocClick = function (event) {\n      var target = event.target || event.srcElement;\n\n      var node = _this.getDomNode();\n\n      if (target instanceof Element && containsTargetOrRenderContainer(target)(node)) {\n        return;\n      }\n\n      if (_this.props.onClickOutside) {\n        _this.props.onClickOutside(event);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = RenderLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.active) {\n      this.attachListeners();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (!prevProps.active && this.props.active) {\n      this.attachListeners();\n    }\n\n    if (prevProps.active && !this.props.active) {\n      this.detachListeners();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.active) {\n      this.detachListeners();\n    }\n  };\n\n  _proto.render = function render() {\n    return React.Children.only(this.props.children);\n  };\n\n  _proto.attachListeners = function attachListeners() {\n    var _this2 = this;\n\n    this.focusOutsideListenerToken = listenFocusOutside(function () {\n      return [_this2.getDomNode()];\n    }, this.handleFocusOutside);\n    window.addEventListener('blur', this.handleFocusOutside);\n    document.addEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n\n  _proto.detachListeners = function detachListeners() {\n    if (this.focusOutsideListenerToken) {\n      this.focusOutsideListenerToken.remove();\n      this.focusOutsideListenerToken = null;\n    }\n\n    window.removeEventListener('blur', this.handleFocusOutside);\n    document.removeEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n\n  _proto.getDomNode = function getDomNode() {\n    return findDOMNode(this);\n  };\n\n  return RenderLayer;\n}(React.Component);\nRenderLayer.__KONTUR_REACT_UI__ = 'RenderLayer';\nRenderLayer.propTypes = {\n  active: function active(props, propName, componentName) {\n    var active = props.active,\n        onClickOutside = props.onClickOutside,\n        onFocusOutside = props.onFocusOutside;\n\n    if (active && !(onClickOutside || onFocusOutside)) {\n      return new Error(\"[\" + componentName + \"]: using the component without either 'onClickOutside' or 'onFocusOutside' callback is pointless.\");\n    }\n  }\n};\nRenderLayer.defaultProps = {\n  active: true\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/internal/RenderLayer/RenderLayer/RenderLayer.js"],"names":["_inheritsLoose","React","findDOMNode","listen","listenFocusOutside","containsTargetOrRenderContainer","RenderLayer","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","focusOutsideListenerToken","handleFocusOutside","event","props","onFocusOutside","handleNativeDocClick","target","srcElement","node","getDomNode","Element","onClickOutside","_proto","prototype","componentDidMount","active","attachListeners","componentDidUpdate","prevProps","detachListeners","componentWillUnmount","render","Children","only","children","_this2","window","addEventListener","document","documentElement","remove","removeEventListener","Component","__KONTUR_REACT_UI__","propTypes","propName","componentName","Error","defaultProps"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { listen as listenFocusOutside, containsTargetOrRenderContainer } from \"../../../lib/listenFocusOutside\";\nexport var RenderLayer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(RenderLayer, _React$Component);\n\n  function RenderLayer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.focusOutsideListenerToken = null;\n\n    _this.handleFocusOutside = function (event) {\n      if (_this.props.onFocusOutside) {\n        _this.props.onFocusOutside(event);\n      }\n    };\n\n    _this.handleNativeDocClick = function (event) {\n      var target = event.target || event.srcElement;\n\n      var node = _this.getDomNode();\n\n      if (target instanceof Element && containsTargetOrRenderContainer(target)(node)) {\n        return;\n      }\n\n      if (_this.props.onClickOutside) {\n        _this.props.onClickOutside(event);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = RenderLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.active) {\n      this.attachListeners();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (!prevProps.active && this.props.active) {\n      this.attachListeners();\n    }\n\n    if (prevProps.active && !this.props.active) {\n      this.detachListeners();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.active) {\n      this.detachListeners();\n    }\n  };\n\n  _proto.render = function render() {\n    return React.Children.only(this.props.children);\n  };\n\n  _proto.attachListeners = function attachListeners() {\n    var _this2 = this;\n\n    this.focusOutsideListenerToken = listenFocusOutside(function () {\n      return [_this2.getDomNode()];\n    }, this.handleFocusOutside);\n    window.addEventListener('blur', this.handleFocusOutside);\n    document.addEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n\n  _proto.detachListeners = function detachListeners() {\n    if (this.focusOutsideListenerToken) {\n      this.focusOutsideListenerToken.remove();\n      this.focusOutsideListenerToken = null;\n    }\n\n    window.removeEventListener('blur', this.handleFocusOutside);\n    document.removeEventListener('ontouchstart' in document.documentElement ? 'touchstart' : 'mousedown', this.handleNativeDocClick);\n  };\n\n  _proto.getDomNode = function getDomNode() {\n    return findDOMNode(this);\n  };\n\n  return RenderLayer;\n}(React.Component);\nRenderLayer.__KONTUR_REACT_UI__ = 'RenderLayer';\nRenderLayer.propTypes = {\n  active: function active(props, propName, componentName) {\n    var active = props.active,\n        onClickOutside = props.onClickOutside,\n        onFocusOutside = props.onFocusOutside;\n\n    if (active && !(onClickOutside || onFocusOutside)) {\n      return new Error(\"[\" + componentName + \"]: using the component without either 'onClickOutside' or 'onFocusOutside' callback is pointless.\");\n    }\n  }\n};\nRenderLayer.defaultProps = {\n  active: true\n};"]},"metadata":{},"sourceType":"module"}