{"ast":null,"code":"import { CurrencyHelper } from \"../CurrencyHelper\";\nimport { CursorHelper } from \"../CursorHelper\";\nexport var CurrencyInputHelper = /*#__PURE__*/function () {\n  function CurrencyInputHelper() {}\n\n  CurrencyInputHelper.moveCursor = function moveCursor(value, selection, step) {\n    return selection.start === selection.end ? CursorHelper.calculatePosition(CurrencyHelper.getInfo(value).cursorMap, selection.start, step) : step < 0 ? selection.start : selection.end;\n  };\n\n  CurrencyInputHelper.extendSelection = function extendSelection(value, selection, step) {\n    var info = CurrencyHelper.getInfo(value);\n    return CursorHelper.extendSelection(info.cursorMap, selection, step);\n  };\n\n  CurrencyInputHelper.normalizeSelection = function normalizeSelection(value, selection) {\n    var info = CurrencyHelper.getInfo(value);\n    return CursorHelper.normalizeSelection(info.cursorMap, selection);\n  };\n\n  CurrencyInputHelper.safeInsert = function safeInsert(value, start, end, input, options) {\n    if (input && start === 0 && end === value.length) {\n      var extracted = CurrencyHelper.extractValid(input, options);\n\n      if (!extracted) {\n        return null;\n      }\n\n      return CurrencyInputHelper.insert(value, start, end, extracted);\n    }\n\n    var prefix = value.substring(0, start);\n    var suffix = value.substring(end);\n    var combined = prefix + input + suffix;\n\n    if (CurrencyHelper.isValidString(combined, options)) {\n      return CurrencyInputHelper.insert(value, start, end, input);\n    }\n\n    return null;\n  };\n\n  CurrencyInputHelper.insert = function insert(value, start, end, input) {\n    var prefix = value.substring(0, start);\n    var suffix = value.substring(end);\n    var info = CurrencyHelper.getInfo(value);\n    var raw = CursorHelper.toRawPosition(info.cursorMap, start);\n    var info2 = CurrencyHelper.getInfo(prefix + input + suffix);\n    var formattedPosition = CursorHelper.toFormattedPosition(info2.cursorMap, raw + input.length);\n    return {\n      value: info2.formatted,\n      position: formattedPosition\n    };\n  };\n\n  return CurrencyInputHelper;\n}();","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/CurrencyInput/CurrencyInputHelper/CurrencyInputHelper.js"],"names":["CurrencyHelper","CursorHelper","CurrencyInputHelper","moveCursor","value","selection","step","start","end","calculatePosition","getInfo","cursorMap","extendSelection","info","normalizeSelection","safeInsert","input","options","length","extracted","extractValid","insert","prefix","substring","suffix","combined","isValidString","raw","toRawPosition","info2","formattedPosition","toFormattedPosition","formatted","position"],"mappings":"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","sourcesContent":["import { CurrencyHelper } from \"../CurrencyHelper\";\nimport { CursorHelper } from \"../CursorHelper\";\nexport var CurrencyInputHelper =\n/*#__PURE__*/\nfunction () {\n  function CurrencyInputHelper() {}\n\n  CurrencyInputHelper.moveCursor = function moveCursor(value, selection, step) {\n    return selection.start === selection.end ? CursorHelper.calculatePosition(CurrencyHelper.getInfo(value).cursorMap, selection.start, step) : step < 0 ? selection.start : selection.end;\n  };\n\n  CurrencyInputHelper.extendSelection = function extendSelection(value, selection, step) {\n    var info = CurrencyHelper.getInfo(value);\n    return CursorHelper.extendSelection(info.cursorMap, selection, step);\n  };\n\n  CurrencyInputHelper.normalizeSelection = function normalizeSelection(value, selection) {\n    var info = CurrencyHelper.getInfo(value);\n    return CursorHelper.normalizeSelection(info.cursorMap, selection);\n  };\n\n  CurrencyInputHelper.safeInsert = function safeInsert(value, start, end, input, options) {\n    if (input && start === 0 && end === value.length) {\n      var extracted = CurrencyHelper.extractValid(input, options);\n\n      if (!extracted) {\n        return null;\n      }\n\n      return CurrencyInputHelper.insert(value, start, end, extracted);\n    }\n\n    var prefix = value.substring(0, start);\n    var suffix = value.substring(end);\n    var combined = prefix + input + suffix;\n\n    if (CurrencyHelper.isValidString(combined, options)) {\n      return CurrencyInputHelper.insert(value, start, end, input);\n    }\n\n    return null;\n  };\n\n  CurrencyInputHelper.insert = function insert(value, start, end, input) {\n    var prefix = value.substring(0, start);\n    var suffix = value.substring(end);\n    var info = CurrencyHelper.getInfo(value);\n    var raw = CursorHelper.toRawPosition(info.cursorMap, start);\n    var info2 = CurrencyHelper.getInfo(prefix + input + suffix);\n    var formattedPosition = CursorHelper.toFormattedPosition(info2.cursorMap, raw + input.length);\n    return {\n      value: info2.formatted,\n      position: formattedPosition\n    };\n  };\n\n  return CurrencyInputHelper;\n}();"]},"metadata":{},"sourceType":"module"}