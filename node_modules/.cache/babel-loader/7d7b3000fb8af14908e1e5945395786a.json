{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { incrementZIndex, removeZIndex, upperBorder } from \"../ZIndexStorage\";\nvar ZIndexContext = React.createContext({\n  parentLayerZIndex: 0,\n  maxZIndex: Infinity\n});\nZIndexContext.displayName = 'ZIndexContext';\nexport var ZIndex = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ZIndex, _React$Component);\n\n  function ZIndex(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.zIndex = 0;\n    _this.zIndex = incrementZIndex(props.priority, props.delta);\n    return _this;\n  }\n\n  var _proto = ZIndex.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    removeZIndex(this.zIndex);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        style = _this$props.style,\n        children = _this$props.children,\n        delta = _this$props.delta,\n        priority = _this$props.priority,\n        applyZIndex = _this$props.applyZIndex,\n        coverChildren = _this$props.coverChildren,\n        createStackingContext = _this$props.createStackingContext,\n        wrapperRef = _this$props.wrapperRef,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"style\", \"children\", \"delta\", \"priority\", \"applyZIndex\", \"coverChildren\", \"createStackingContext\", \"wrapperRef\"]);\n\n    var wrapperStyle = {};\n    return React.createElement(ZIndexContext.Consumer, null, function (_ref) {\n      var parentLayerZIndex = _ref.parentLayerZIndex,\n          maxZIndex = _ref.maxZIndex;\n      var zIndexContexValue = {\n        parentLayerZIndex: parentLayerZIndex,\n        maxZIndex: maxZIndex\n      };\n\n      if (applyZIndex) {\n        var newZIndex = _this2.calcZIndex(parentLayerZIndex, maxZIndex);\n\n        wrapperStyle.zIndex = newZIndex;\n        zIndexContexValue = coverChildren ? {\n          parentLayerZIndex: parentLayerZIndex,\n          maxZIndex: newZIndex\n        } : {\n          parentLayerZIndex: newZIndex,\n          maxZIndex: Number.isFinite(maxZIndex) ? newZIndex : Infinity\n        };\n\n        if (createStackingContext) {\n          'isolation' in document.body.style ? wrapperStyle.isolation = 'isolate' : wrapperStyle.transform = 'rotate(0)';\n        }\n      }\n\n      return React.createElement(ZIndexContext.Provider, {\n        value: zIndexContexValue\n      }, React.createElement(\"div\", _extends({\n        style: _extends({}, style, {}, wrapperStyle),\n        ref: wrapperRef\n      }, props), children));\n    });\n  };\n\n  _proto.calcZIndex = function calcZIndex(parentLayerZIndex, maxZIndex) {\n    var newZIndex = this.zIndex;\n\n    if (Number.isFinite(maxZIndex)) {\n      var allowedValuesIntervalLength = maxZIndex - parentLayerZIndex;\n      var scale = upperBorder / allowedValuesIntervalLength;\n      newZIndex = Math.ceil(newZIndex / scale);\n    }\n\n    newZIndex += parentLayerZIndex;\n    return newZIndex;\n  };\n\n  return ZIndex;\n}(React.Component);\nZIndex.__KONTUR_REACT_UI__ = 'ZIndex';\nZIndex.defaultProps = {\n  delta: 10,\n  priority: 0,\n  style: {},\n  applyZIndex: true,\n  coverChildren: false,\n  createStackingContext: false\n};\nZIndex.propTypes = {\n  delta: function delta(props) {\n    if (props.delta <= 0) {\n      return new Error(\"[ZIndex]: Prop 'delta' must be greater than 0, received \" + props.delta);\n    }\n\n    if (Math.trunc(props.delta) !== props.delta) {\n      return new Error(\"[ZIndex]: Prop 'delta' must be integer, received \" + props.delta);\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/internal/ZIndex/ZIndex/ZIndex.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","React","incrementZIndex","removeZIndex","upperBorder","ZIndexContext","createContext","parentLayerZIndex","maxZIndex","Infinity","displayName","ZIndex","_React$Component","props","_this","call","zIndex","priority","delta","_proto","prototype","componentWillUnmount","render","_this2","_this$props","style","children","applyZIndex","coverChildren","createStackingContext","wrapperRef","wrapperStyle","createElement","Consumer","_ref","zIndexContexValue","newZIndex","calcZIndex","Number","isFinite","document","body","isolation","transform","Provider","value","ref","allowedValuesIntervalLength","scale","Math","ceil","Component","__KONTUR_REACT_UI__","defaultProps","propTypes","Error","trunc"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { incrementZIndex, removeZIndex, upperBorder } from \"../ZIndexStorage\";\nvar ZIndexContext = React.createContext({\n  parentLayerZIndex: 0,\n  maxZIndex: Infinity\n});\nZIndexContext.displayName = 'ZIndexContext';\nexport var ZIndex =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ZIndex, _React$Component);\n\n  function ZIndex(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.zIndex = 0;\n    _this.zIndex = incrementZIndex(props.priority, props.delta);\n    return _this;\n  }\n\n  var _proto = ZIndex.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    removeZIndex(this.zIndex);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        style = _this$props.style,\n        children = _this$props.children,\n        delta = _this$props.delta,\n        priority = _this$props.priority,\n        applyZIndex = _this$props.applyZIndex,\n        coverChildren = _this$props.coverChildren,\n        createStackingContext = _this$props.createStackingContext,\n        wrapperRef = _this$props.wrapperRef,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"style\", \"children\", \"delta\", \"priority\", \"applyZIndex\", \"coverChildren\", \"createStackingContext\", \"wrapperRef\"]);\n\n    var wrapperStyle = {};\n    return React.createElement(ZIndexContext.Consumer, null, function (_ref) {\n      var parentLayerZIndex = _ref.parentLayerZIndex,\n          maxZIndex = _ref.maxZIndex;\n      var zIndexContexValue = {\n        parentLayerZIndex: parentLayerZIndex,\n        maxZIndex: maxZIndex\n      };\n\n      if (applyZIndex) {\n        var newZIndex = _this2.calcZIndex(parentLayerZIndex, maxZIndex);\n\n        wrapperStyle.zIndex = newZIndex;\n        zIndexContexValue = coverChildren ? {\n          parentLayerZIndex: parentLayerZIndex,\n          maxZIndex: newZIndex\n        } : {\n          parentLayerZIndex: newZIndex,\n          maxZIndex: Number.isFinite(maxZIndex) ? newZIndex : Infinity\n        };\n\n        if (createStackingContext) {\n          'isolation' in document.body.style ? wrapperStyle.isolation = 'isolate' : wrapperStyle.transform = 'rotate(0)';\n        }\n      }\n\n      return React.createElement(ZIndexContext.Provider, {\n        value: zIndexContexValue\n      }, React.createElement(\"div\", _extends({\n        style: _extends({}, style, {}, wrapperStyle),\n        ref: wrapperRef\n      }, props), children));\n    });\n  };\n\n  _proto.calcZIndex = function calcZIndex(parentLayerZIndex, maxZIndex) {\n    var newZIndex = this.zIndex;\n\n    if (Number.isFinite(maxZIndex)) {\n      var allowedValuesIntervalLength = maxZIndex - parentLayerZIndex;\n      var scale = upperBorder / allowedValuesIntervalLength;\n      newZIndex = Math.ceil(newZIndex / scale);\n    }\n\n    newZIndex += parentLayerZIndex;\n    return newZIndex;\n  };\n\n  return ZIndex;\n}(React.Component);\nZIndex.__KONTUR_REACT_UI__ = 'ZIndex';\nZIndex.defaultProps = {\n  delta: 10,\n  priority: 0,\n  style: {},\n  applyZIndex: true,\n  coverChildren: false,\n  createStackingContext: false\n};\nZIndex.propTypes = {\n  delta: function delta(props) {\n    if (props.delta <= 0) {\n      return new Error(\"[ZIndex]: Prop 'delta' must be greater than 0, received \" + props.delta);\n    }\n\n    if (Math.trunc(props.delta) !== props.delta) {\n      return new Error(\"[ZIndex]: Prop 'delta' must be integer, received \" + props.delta);\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}