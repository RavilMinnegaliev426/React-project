{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { getScrollWidth } from \"../../../lib/dom/getScrollWidth\";\nexport var HideBodyVerticalScroll = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(HideBodyVerticalScroll, _React$Component);\n\n  function HideBodyVerticalScroll() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.disposeDocumentStyle = null;\n    _this.initialScroll = 0;\n    _this.master = false;\n\n    _this.updateScrollVisibility = function () {\n      var _document = document,\n          documentElement = _document.documentElement;\n\n      _this.restoreStyles();\n\n      if (!documentElement) {\n        return;\n      }\n\n      var clientHeight = documentElement.clientHeight,\n          scrollHeight = documentElement.scrollHeight;\n      var shouldRestore = VerticalScrollCounter.get() === 0;\n      var shouldHide = !shouldRestore && clientHeight < scrollHeight;\n\n      if (shouldHide) {\n        _this.makeSomeMagicWithScroll(documentElement);\n      }\n\n      if (shouldRestore) {\n        documentElement.scrollTop = _this.initialScroll;\n      }\n    };\n\n    _this.makeSomeMagicWithScroll = function (document) {\n      var documentComputedStyle = getComputedStyle(document);\n      var scrollWidth = getScrollWidth();\n      var documentMargin = parseFloat(documentComputedStyle.marginRight || '');\n      var documentStyle = generateDocumentStyle(documentMargin + scrollWidth);\n      _this.disposeDocumentStyle = _this.attachStyle(document, documentStyle);\n    };\n\n    _this.attachStyle = function (element, style) {\n      element.classList.add(style.className);\n      var removeStyleNode = attachStylesheet(style.css);\n      return function () {\n        removeStyleNode();\n        element.classList.remove(style.className);\n      };\n    };\n\n    _this.restoreStyles = function () {\n      if (_this.disposeDocumentStyle) {\n        _this.disposeDocumentStyle();\n\n        _this.disposeDocumentStyle = null;\n      } // Forcing reflow for Firefix\n\n\n      attachStylesheet('html, body { height: auto; }')();\n    };\n\n    return _this;\n  }\n\n  var _proto = HideBodyVerticalScroll.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var counter = VerticalScrollCounter.increment();\n\n    if (counter === 1) {\n      this.master = true;\n      this.initialScroll = document.documentElement ? document.documentElement.scrollTop : 0;\n      this.updateScrollVisibility();\n      window.addEventListener('resize', this.updateScrollVisibility);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.master) {\n      this.updateScrollVisibility();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.restoreStyles();\n    var counter = VerticalScrollCounter.decrement();\n\n    if (counter === 0) {\n      this.updateScrollVisibility();\n      window.removeEventListener('resize', this.updateScrollVisibility);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return HideBodyVerticalScroll;\n}(React.Component);\nHideBodyVerticalScroll.__KONTUR_REACT_UI__ = 'HideBodyVerticalScroll';\nHideBodyVerticalScroll.hash = Math.random().toString(16).slice(2, 6);\n\nvar VerticalScrollCounter = function VerticalScrollCounter() {};\n\nVerticalScrollCounter.increment = function () {\n  var counter = window.RetailUIVerticalScrollCounter || 0;\n  return window.RetailUIVerticalScrollCounter = counter + 1;\n};\n\nVerticalScrollCounter.decrement = function () {\n  var counter = window.RetailUIVerticalScrollCounter || 0;\n  return window.RetailUIVerticalScrollCounter = counter - 1;\n};\n\nVerticalScrollCounter.get = function () {\n  return window.RetailUIVerticalScrollCounter || 0;\n};\n\nfunction generateClassName(className) {\n  var name = HideBodyVerticalScroll.name,\n      hash = HideBodyVerticalScroll.hash;\n  return name + \"-\" + className + \"-\" + hash;\n}\n\nfunction generateDocumentStyle(documentMargin) {\n  var className = generateClassName('document');\n  var css = \".\" + className + \" {\\n  overflow: hidden !important;\\n  margin-right: \" + documentMargin + \"px !important;\\n  height: 100%;\\n}\\n\";\n  return {\n    className: className,\n    css: css\n  };\n}\n\nfunction attachStylesheet(sheet) {\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css'); // @ts-ignore IE specific api\n\n  if (style.styleSheet) {\n    // @ts-ignore IE specific api\n    style.styleSheet.cssText = sheet;\n  } else {\n    var textnode = document.createTextNode(sheet);\n    style.appendChild(textnode);\n  }\n\n  var head = document.getElementsByTagName('head')[0];\n  head.appendChild(style);\n  return function () {\n    if (head.contains(style)) {\n      head.removeChild(style);\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/internal/HideBodyVerticalScroll/HideBodyVerticalScroll/HideBodyVerticalScroll.js"],"names":["_inheritsLoose","React","getScrollWidth","HideBodyVerticalScroll","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","disposeDocumentStyle","initialScroll","master","updateScrollVisibility","_document","document","documentElement","restoreStyles","clientHeight","scrollHeight","shouldRestore","VerticalScrollCounter","get","shouldHide","makeSomeMagicWithScroll","scrollTop","documentComputedStyle","getComputedStyle","scrollWidth","documentMargin","parseFloat","marginRight","documentStyle","generateDocumentStyle","attachStyle","element","style","classList","add","className","removeStyleNode","attachStylesheet","css","remove","_proto","prototype","componentDidMount","counter","increment","window","addEventListener","componentDidUpdate","componentWillUnmount","decrement","removeEventListener","render","Component","__KONTUR_REACT_UI__","hash","Math","random","toString","slice","RetailUIVerticalScrollCounter","generateClassName","name","sheet","createElement","setAttribute","styleSheet","cssText","textnode","createTextNode","appendChild","head","getElementsByTagName","contains","removeChild"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { getScrollWidth } from \"../../../lib/dom/getScrollWidth\";\nexport var HideBodyVerticalScroll =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(HideBodyVerticalScroll, _React$Component);\n\n  function HideBodyVerticalScroll() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.disposeDocumentStyle = null;\n    _this.initialScroll = 0;\n    _this.master = false;\n\n    _this.updateScrollVisibility = function () {\n      var _document = document,\n          documentElement = _document.documentElement;\n\n      _this.restoreStyles();\n\n      if (!documentElement) {\n        return;\n      }\n\n      var clientHeight = documentElement.clientHeight,\n          scrollHeight = documentElement.scrollHeight;\n      var shouldRestore = VerticalScrollCounter.get() === 0;\n      var shouldHide = !shouldRestore && clientHeight < scrollHeight;\n\n      if (shouldHide) {\n        _this.makeSomeMagicWithScroll(documentElement);\n      }\n\n      if (shouldRestore) {\n        documentElement.scrollTop = _this.initialScroll;\n      }\n    };\n\n    _this.makeSomeMagicWithScroll = function (document) {\n      var documentComputedStyle = getComputedStyle(document);\n      var scrollWidth = getScrollWidth();\n      var documentMargin = parseFloat(documentComputedStyle.marginRight || '');\n      var documentStyle = generateDocumentStyle(documentMargin + scrollWidth);\n      _this.disposeDocumentStyle = _this.attachStyle(document, documentStyle);\n    };\n\n    _this.attachStyle = function (element, style) {\n      element.classList.add(style.className);\n      var removeStyleNode = attachStylesheet(style.css);\n      return function () {\n        removeStyleNode();\n        element.classList.remove(style.className);\n      };\n    };\n\n    _this.restoreStyles = function () {\n      if (_this.disposeDocumentStyle) {\n        _this.disposeDocumentStyle();\n\n        _this.disposeDocumentStyle = null;\n      } // Forcing reflow for Firefix\n\n\n      attachStylesheet('html, body { height: auto; }')();\n    };\n\n    return _this;\n  }\n\n  var _proto = HideBodyVerticalScroll.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var counter = VerticalScrollCounter.increment();\n\n    if (counter === 1) {\n      this.master = true;\n      this.initialScroll = document.documentElement ? document.documentElement.scrollTop : 0;\n      this.updateScrollVisibility();\n      window.addEventListener('resize', this.updateScrollVisibility);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.master) {\n      this.updateScrollVisibility();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.restoreStyles();\n    var counter = VerticalScrollCounter.decrement();\n\n    if (counter === 0) {\n      this.updateScrollVisibility();\n      window.removeEventListener('resize', this.updateScrollVisibility);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return HideBodyVerticalScroll;\n}(React.Component);\nHideBodyVerticalScroll.__KONTUR_REACT_UI__ = 'HideBodyVerticalScroll';\nHideBodyVerticalScroll.hash = Math.random().toString(16).slice(2, 6);\n\nvar VerticalScrollCounter = function VerticalScrollCounter() {};\n\nVerticalScrollCounter.increment = function () {\n  var counter = window.RetailUIVerticalScrollCounter || 0;\n  return window.RetailUIVerticalScrollCounter = counter + 1;\n};\n\nVerticalScrollCounter.decrement = function () {\n  var counter = window.RetailUIVerticalScrollCounter || 0;\n  return window.RetailUIVerticalScrollCounter = counter - 1;\n};\n\nVerticalScrollCounter.get = function () {\n  return window.RetailUIVerticalScrollCounter || 0;\n};\n\nfunction generateClassName(className) {\n  var name = HideBodyVerticalScroll.name,\n      hash = HideBodyVerticalScroll.hash;\n  return name + \"-\" + className + \"-\" + hash;\n}\n\nfunction generateDocumentStyle(documentMargin) {\n  var className = generateClassName('document');\n  var css = \".\" + className + \" {\\n  overflow: hidden !important;\\n  margin-right: \" + documentMargin + \"px !important;\\n  height: 100%;\\n}\\n\";\n  return {\n    className: className,\n    css: css\n  };\n}\n\nfunction attachStylesheet(sheet) {\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css'); // @ts-ignore IE specific api\n\n  if (style.styleSheet) {\n    // @ts-ignore IE specific api\n    style.styleSheet.cssText = sheet;\n  } else {\n    var textnode = document.createTextNode(sheet);\n    style.appendChild(textnode);\n  }\n\n  var head = document.getElementsByTagName('head')[0];\n  head.appendChild(style);\n  return function () {\n    if (head.contains(style)) {\n      head.removeChild(style);\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}