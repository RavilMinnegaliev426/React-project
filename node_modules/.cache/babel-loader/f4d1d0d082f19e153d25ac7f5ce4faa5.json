{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport warning from 'warning';\nimport isEqual from 'lodash.isequal';\nimport { Popup } from \"../../../internal/Popup\";\nimport { RenderLayer } from \"../../../internal/RenderLayer\";\nimport { CrossIcon } from \"../../../internal/icons/CrossIcon\";\nimport { containsTargetOrRenderContainer } from \"../../../lib/listenFocusOutside\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { jsStyles } from \"../Tooltip.styles\";\nvar POPUP_MARGIN = 15;\nvar POPUP_PIN_OFFSET = 17;\nvar Positions = ['right bottom', 'right middle', 'right top', 'top right', 'top center', 'top left', 'left top', 'left middle', 'left bottom', 'bottom left', 'bottom center', 'bottom right'];\nexport var Tooltip = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Tooltip, _React$PureComponent);\n\n  function Tooltip() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      opened: false,\n      focused: false\n    };\n    _this.theme = void 0;\n    _this.hoverTimeout = null;\n    _this.contentElement = null;\n    _this.positions = null;\n    _this.clickedOutside = true;\n\n    _this.renderContent = function () {\n      var content = _this.props.render ? _this.props.render() : null;\n\n      if (content == null) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        ref: _this.refContent,\n        className: jsStyles.tooltipContent()\n      }, content, _this.renderCloseButton());\n    };\n\n    _this.refContent = function (node) {\n      _this.contentElement = node;\n    };\n\n    _this.open = function () {\n      return _this.setState({\n        opened: true\n      });\n    };\n\n    _this.close = function () {\n      return _this.setState({\n        opened: false\n      });\n    };\n\n    _this.handleMouseEnter = function (event) {\n      var isHoverAnchor = _this.props.trigger === 'hoverAnchor';\n\n      if (isHoverAnchor && event.target === _this.contentElement) {\n        return;\n      }\n\n      _this.clearHoverTimeout();\n\n      _this.hoverTimeout = window.setTimeout(_this.open, Tooltip.delay);\n    };\n\n    _this.handleMouseLeave = function (event) {\n      if (_this.props.trigger === 'hover&focus' && _this.state.focused || _this.props.trigger === 'hover' && event.relatedTarget === _this.contentElement) {\n        return;\n      }\n\n      _this.clearHoverTimeout();\n\n      if (_this.props.trigger === 'hoverAnchor') {\n        _this.close();\n      } else {\n        _this.hoverTimeout = window.setTimeout(_this.close, Tooltip.delay);\n      }\n    };\n\n    _this.handleClick = function () {\n      _this.open();\n    };\n\n    _this.handleClickOutsideAnchor = function (event) {\n      _this.clickedOutside = _this.isClickOutsideContent(event);\n\n      if (_this.clickedOutside) {\n        if (_this.props.onCloseRequest) {\n          _this.props.onCloseRequest();\n        }\n\n        _this.close();\n      }\n    };\n\n    _this.handleFocus = function () {\n      _this.setState({\n        focused: true\n      });\n\n      _this.open();\n    };\n\n    _this.handleBlur = function () {\n      if (_this.props.trigger === 'hover&focus' && _this.clickedOutside) {\n        _this.close();\n      }\n\n      if (_this.props.trigger === 'focus') {\n        _this.close();\n      }\n\n      _this.clickedOutside = true;\n\n      _this.setState({\n        focused: false\n      });\n    };\n\n    _this.handleCloseButtonClick = function (event) {\n      event.stopPropagation();\n\n      if (_this.props.onCloseClick) {\n        _this.props.onCloseClick(event);\n      }\n\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (_this.props.onCloseRequest) {\n        _this.props.onCloseRequest();\n      }\n\n      _this.close();\n    };\n\n    return _this;\n  }\n\n  var _proto = Tooltip.prototype;\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.trigger === 'closed') {\n      this.close();\n    }\n\n    var _this$props = this.props,\n        allowedPositions = _this$props.allowedPositions,\n        pos = _this$props.pos;\n    var posChanged = nextProps.pos !== pos;\n    var allowedChanged = !isEqual(nextProps.allowedPositions, allowedPositions);\n\n    if (posChanged || allowedChanged) {\n      this.positions = null;\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.clearHoverTimeout();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.renderCloseButton = function renderCloseButton() {\n    var hasCross = this.props.closeButton === undefined ? !Tooltip.triggersWithoutCloseButton.includes(this.props.trigger) : this.props.closeButton;\n\n    if (!hasCross) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      className: jsStyles.cross(this.theme),\n      onClick: this.handleCloseButtonClick\n    }, React.createElement(CrossIcon, null));\n  };\n\n  _proto.renderMain = function renderMain() {\n    var props = this.props;\n    var content = this.renderContent();\n\n    var _this$getProps = this.getProps(),\n        popupProps = _this$getProps.popupProps,\n        _this$getProps$layerP = _this$getProps.layerProps,\n        layerProps = _this$getProps$layerP === void 0 ? {\n      active: false\n    } : _this$getProps$layerP;\n\n    var anchorElement = props.children || props.anchorElement;\n    var popup = this.renderPopup(anchorElement, popupProps, content);\n    return React.createElement(RenderLayer, layerProps, popup);\n  };\n\n  _proto.renderPopup = function renderPopup(anchorElement, popupProps, content) {\n    return React.createElement(Popup, _extends({\n      anchorElement: anchorElement,\n      hasPin: true,\n      hasShadow: true,\n      margin: POPUP_MARGIN,\n      maxWidth: \"none\",\n      opened: this.state.opened,\n      pinOffset: POPUP_PIN_OFFSET,\n      disableAnimations: this.props.disableAnimations,\n      positions: this.getPositions(),\n      ignoreHover: this.props.trigger === 'hoverAnchor',\n      onOpen: this.props.onOpen\n    }, popupProps), content);\n  };\n\n  _proto.getPositions = function getPositions() {\n    if (!this.positions) {\n      var allowedPositions = this.props.allowedPositions;\n      var index = allowedPositions.indexOf(this.props.pos);\n\n      if (index === -1) {\n        throw new Error('Unexpected position passed to Tooltip. Expected one of: ' + allowedPositions.join(', '));\n      }\n\n      this.positions = [].concat(allowedPositions.slice(index), allowedPositions.slice(0, index));\n    }\n\n    return this.positions;\n  };\n\n  _proto.getProps = function getProps() {\n    var props = this.props;\n    var useWrapper = !!props.children && props.useWrapper;\n\n    switch (props.trigger) {\n      case 'opened':\n        return {\n          layerProps: {\n            active: true,\n            onClickOutside: this.handleClickOutsideAnchor\n          },\n          popupProps: {\n            opened: true,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'closed':\n        return {\n          popupProps: {\n            opened: false,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'hoverAnchor':\n      case 'hover':\n        return {\n          popupProps: {\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'click':\n        return {\n          layerProps: {\n            active: this.state.opened,\n            onClickOutside: this.handleClickOutsideAnchor\n          },\n          popupProps: {\n            onClick: this.handleClick,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'focus':\n        return {\n          popupProps: {\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'hover&focus':\n        return {\n          layerProps: {\n            active: this.state.opened,\n            onClickOutside: this.handleClickOutsideAnchor\n          },\n          popupProps: {\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            useWrapper: useWrapper\n          }\n        };\n\n      default:\n        throw new Error('Unknown trigger specified: ' + props.trigger);\n    }\n  };\n\n  _proto.clearHoverTimeout = function clearHoverTimeout() {\n    if (this.hoverTimeout) {\n      clearTimeout(this.hoverTimeout);\n      this.hoverTimeout = null;\n    }\n  };\n\n  _proto.isClickOutsideContent = function isClickOutsideContent(event) {\n    if (this.contentElement && event.target instanceof Element) {\n      return !containsTargetOrRenderContainer(event.target)(this.contentElement);\n    }\n\n    return true;\n  };\n\n  return Tooltip;\n}(React.PureComponent);\nTooltip.__KONTUR_REACT_UI__ = 'Tooltip';\nTooltip.propTypes = {\n  children: function children(props, propName, componentName) {\n    var children = props[propName];\n    warning(children || props.anchorElement, \"[\" + componentName + \"]: you must provide either 'children' or 'anchorElement' prop for \" + componentName + \" to work properly\");\n    warning(!(Array.isArray(children) && props.useWrapper === false), \"[\" + componentName + \"]: you provided multiple children, but useWrapper={false} - forcing wrapper <span/> for positioning to work correctly\");\n  }\n};\nTooltip.defaultProps = {\n  pos: 'top left',\n  trigger: 'hover',\n  allowedPositions: Positions,\n  disableAnimations: Boolean(process.env.enableReactTesting),\n  useWrapper: true,\n  closeOnChildrenMouseLeave: false\n};\nTooltip.delay = 100;\nTooltip.triggersWithoutCloseButton = ['hover', 'hoverAnchor', 'focus', 'hover&focus'];","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Tooltip/Tooltip/Tooltip.js"],"names":["_extends","_inheritsLoose","React","warning","isEqual","Popup","RenderLayer","CrossIcon","containsTargetOrRenderContainer","ThemeContext","jsStyles","POPUP_MARGIN","POPUP_PIN_OFFSET","Positions","Tooltip","_React$PureComponent","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","opened","focused","theme","hoverTimeout","contentElement","positions","clickedOutside","renderContent","content","props","render","createElement","ref","refContent","className","tooltipContent","renderCloseButton","node","open","setState","close","handleMouseEnter","event","isHoverAnchor","trigger","target","clearHoverTimeout","window","setTimeout","delay","handleMouseLeave","relatedTarget","handleClick","handleClickOutsideAnchor","isClickOutsideContent","onCloseRequest","handleFocus","handleBlur","handleCloseButtonClick","stopPropagation","onCloseClick","defaultPrevented","_proto","prototype","UNSAFE_componentWillReceiveProps","nextProps","_this$props","allowedPositions","pos","posChanged","allowedChanged","componentWillUnmount","_this2","Consumer","renderMain","hasCross","closeButton","undefined","triggersWithoutCloseButton","includes","cross","onClick","_this$getProps","getProps","popupProps","_this$getProps$layerP","layerProps","active","anchorElement","children","popup","renderPopup","hasPin","hasShadow","margin","maxWidth","pinOffset","disableAnimations","getPositions","ignoreHover","onOpen","index","indexOf","Error","join","slice","useWrapper","onClickOutside","onMouseEnter","onMouseLeave","onFocus","onBlur","clearTimeout","Element","PureComponent","__KONTUR_REACT_UI__","propTypes","propName","componentName","isArray","defaultProps","Boolean","process","env","enableReactTesting","closeOnChildrenMouseLeave"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport warning from 'warning';\nimport isEqual from 'lodash.isequal';\nimport { Popup } from \"../../../internal/Popup\";\nimport { RenderLayer } from \"../../../internal/RenderLayer\";\nimport { CrossIcon } from \"../../../internal/icons/CrossIcon\";\nimport { containsTargetOrRenderContainer } from \"../../../lib/listenFocusOutside\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { jsStyles } from \"../Tooltip.styles\";\nvar POPUP_MARGIN = 15;\nvar POPUP_PIN_OFFSET = 17;\nvar Positions = ['right bottom', 'right middle', 'right top', 'top right', 'top center', 'top left', 'left top', 'left middle', 'left bottom', 'bottom left', 'bottom center', 'bottom right'];\nexport var Tooltip =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(Tooltip, _React$PureComponent);\n\n  function Tooltip() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      opened: false,\n      focused: false\n    };\n    _this.theme = void 0;\n    _this.hoverTimeout = null;\n    _this.contentElement = null;\n    _this.positions = null;\n    _this.clickedOutside = true;\n\n    _this.renderContent = function () {\n      var content = _this.props.render ? _this.props.render() : null;\n\n      if (content == null) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        ref: _this.refContent,\n        className: jsStyles.tooltipContent()\n      }, content, _this.renderCloseButton());\n    };\n\n    _this.refContent = function (node) {\n      _this.contentElement = node;\n    };\n\n    _this.open = function () {\n      return _this.setState({\n        opened: true\n      });\n    };\n\n    _this.close = function () {\n      return _this.setState({\n        opened: false\n      });\n    };\n\n    _this.handleMouseEnter = function (event) {\n      var isHoverAnchor = _this.props.trigger === 'hoverAnchor';\n\n      if (isHoverAnchor && event.target === _this.contentElement) {\n        return;\n      }\n\n      _this.clearHoverTimeout();\n\n      _this.hoverTimeout = window.setTimeout(_this.open, Tooltip.delay);\n    };\n\n    _this.handleMouseLeave = function (event) {\n      if (_this.props.trigger === 'hover&focus' && _this.state.focused || _this.props.trigger === 'hover' && event.relatedTarget === _this.contentElement) {\n        return;\n      }\n\n      _this.clearHoverTimeout();\n\n      if (_this.props.trigger === 'hoverAnchor') {\n        _this.close();\n      } else {\n        _this.hoverTimeout = window.setTimeout(_this.close, Tooltip.delay);\n      }\n    };\n\n    _this.handleClick = function () {\n      _this.open();\n    };\n\n    _this.handleClickOutsideAnchor = function (event) {\n      _this.clickedOutside = _this.isClickOutsideContent(event);\n\n      if (_this.clickedOutside) {\n        if (_this.props.onCloseRequest) {\n          _this.props.onCloseRequest();\n        }\n\n        _this.close();\n      }\n    };\n\n    _this.handleFocus = function () {\n      _this.setState({\n        focused: true\n      });\n\n      _this.open();\n    };\n\n    _this.handleBlur = function () {\n      if (_this.props.trigger === 'hover&focus' && _this.clickedOutside) {\n        _this.close();\n      }\n\n      if (_this.props.trigger === 'focus') {\n        _this.close();\n      }\n\n      _this.clickedOutside = true;\n\n      _this.setState({\n        focused: false\n      });\n    };\n\n    _this.handleCloseButtonClick = function (event) {\n      event.stopPropagation();\n\n      if (_this.props.onCloseClick) {\n        _this.props.onCloseClick(event);\n      }\n\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (_this.props.onCloseRequest) {\n        _this.props.onCloseRequest();\n      }\n\n      _this.close();\n    };\n\n    return _this;\n  }\n\n  var _proto = Tooltip.prototype;\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.trigger === 'closed') {\n      this.close();\n    }\n\n    var _this$props = this.props,\n        allowedPositions = _this$props.allowedPositions,\n        pos = _this$props.pos;\n    var posChanged = nextProps.pos !== pos;\n    var allowedChanged = !isEqual(nextProps.allowedPositions, allowedPositions);\n\n    if (posChanged || allowedChanged) {\n      this.positions = null;\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.clearHoverTimeout();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.renderCloseButton = function renderCloseButton() {\n    var hasCross = this.props.closeButton === undefined ? !Tooltip.triggersWithoutCloseButton.includes(this.props.trigger) : this.props.closeButton;\n\n    if (!hasCross) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      className: jsStyles.cross(this.theme),\n      onClick: this.handleCloseButtonClick\n    }, React.createElement(CrossIcon, null));\n  };\n\n  _proto.renderMain = function renderMain() {\n    var props = this.props;\n    var content = this.renderContent();\n\n    var _this$getProps = this.getProps(),\n        popupProps = _this$getProps.popupProps,\n        _this$getProps$layerP = _this$getProps.layerProps,\n        layerProps = _this$getProps$layerP === void 0 ? {\n      active: false\n    } : _this$getProps$layerP;\n\n    var anchorElement = props.children || props.anchorElement;\n    var popup = this.renderPopup(anchorElement, popupProps, content);\n    return React.createElement(RenderLayer, layerProps, popup);\n  };\n\n  _proto.renderPopup = function renderPopup(anchorElement, popupProps, content) {\n    return React.createElement(Popup, _extends({\n      anchorElement: anchorElement,\n      hasPin: true,\n      hasShadow: true,\n      margin: POPUP_MARGIN,\n      maxWidth: \"none\",\n      opened: this.state.opened,\n      pinOffset: POPUP_PIN_OFFSET,\n      disableAnimations: this.props.disableAnimations,\n      positions: this.getPositions(),\n      ignoreHover: this.props.trigger === 'hoverAnchor',\n      onOpen: this.props.onOpen\n    }, popupProps), content);\n  };\n\n  _proto.getPositions = function getPositions() {\n    if (!this.positions) {\n      var allowedPositions = this.props.allowedPositions;\n      var index = allowedPositions.indexOf(this.props.pos);\n\n      if (index === -1) {\n        throw new Error('Unexpected position passed to Tooltip. Expected one of: ' + allowedPositions.join(', '));\n      }\n\n      this.positions = [].concat(allowedPositions.slice(index), allowedPositions.slice(0, index));\n    }\n\n    return this.positions;\n  };\n\n  _proto.getProps = function getProps() {\n    var props = this.props;\n    var useWrapper = !!props.children && props.useWrapper;\n\n    switch (props.trigger) {\n      case 'opened':\n        return {\n          layerProps: {\n            active: true,\n            onClickOutside: this.handleClickOutsideAnchor\n          },\n          popupProps: {\n            opened: true,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'closed':\n        return {\n          popupProps: {\n            opened: false,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'hoverAnchor':\n      case 'hover':\n        return {\n          popupProps: {\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'click':\n        return {\n          layerProps: {\n            active: this.state.opened,\n            onClickOutside: this.handleClickOutsideAnchor\n          },\n          popupProps: {\n            onClick: this.handleClick,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'focus':\n        return {\n          popupProps: {\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            useWrapper: useWrapper\n          }\n        };\n\n      case 'hover&focus':\n        return {\n          layerProps: {\n            active: this.state.opened,\n            onClickOutside: this.handleClickOutsideAnchor\n          },\n          popupProps: {\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            useWrapper: useWrapper\n          }\n        };\n\n      default:\n        throw new Error('Unknown trigger specified: ' + props.trigger);\n    }\n  };\n\n  _proto.clearHoverTimeout = function clearHoverTimeout() {\n    if (this.hoverTimeout) {\n      clearTimeout(this.hoverTimeout);\n      this.hoverTimeout = null;\n    }\n  };\n\n  _proto.isClickOutsideContent = function isClickOutsideContent(event) {\n    if (this.contentElement && event.target instanceof Element) {\n      return !containsTargetOrRenderContainer(event.target)(this.contentElement);\n    }\n\n    return true;\n  };\n\n  return Tooltip;\n}(React.PureComponent);\nTooltip.__KONTUR_REACT_UI__ = 'Tooltip';\nTooltip.propTypes = {\n  children: function children(props, propName, componentName) {\n    var children = props[propName];\n    warning(children || props.anchorElement, \"[\" + componentName + \"]: you must provide either 'children' or 'anchorElement' prop for \" + componentName + \" to work properly\");\n    warning(!(Array.isArray(children) && props.useWrapper === false), \"[\" + componentName + \"]: you provided multiple children, but useWrapper={false} - forcing wrapper <span/> for positioning to work correctly\");\n  }\n};\nTooltip.defaultProps = {\n  pos: 'top left',\n  trigger: 'hover',\n  allowedPositions: Positions,\n  disableAnimations: Boolean(process.env.enableReactTesting),\n  useWrapper: true,\n  closeOnChildrenMouseLeave: false\n};\nTooltip.delay = 100;\nTooltip.triggersWithoutCloseButton = ['hover', 'hoverAnchor', 'focus', 'hover&focus'];"]},"metadata":{},"sourceType":"module"}