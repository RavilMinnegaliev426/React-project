{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _dec, _class, _temp;\n\nimport React from 'react';\nimport { FiasLocaleHelper } from \"../../locale\";\nimport { FiasAddress } from \"../../models/FiasAddress\";\nimport { locale } from \"../../../../lib/locale/decorators\";\nimport { FiasComboBox } from \"../FiasComboBox\";\nexport var FiasCountrySelector = (_dec = locale('Fias', FiasLocaleHelper), _dec(_class = (_temp = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(FiasCountrySelector, _React$Component);\n\n  function FiasCountrySelector() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.locale = void 0;\n\n    _this.createItemsSource = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(prefix) {\n        var _this$props, api, limit;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, api = _this$props.api, limit = _this$props.limit;\n                return _context.abrupt(\"return\", api.searchCountry({\n                  prefix: prefix,\n                  limit: limit\n                }).then(function (result) {\n                  var success = result.success,\n                      data = result.data,\n                      error = result.error;\n                  return success && data ? Promise.resolve(data.map(function (country) {\n                    return new FiasAddress({\n                      country: country\n                    });\n                  })) : Promise.reject(error);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.renderItem = function (address) {\n      var country = address.country;\n      return country && country.fullName || '';\n    };\n\n    _this.renderValue = function (address) {\n      var country = address.country;\n      return country && country.fullName || '';\n    };\n\n    _this.renderNotFound = function () {\n      return _this.locale.searchNotFound;\n    };\n\n    _this.valueToString = function (address) {\n      var country = address.country;\n      return country && country.fullName || '';\n    };\n\n    _this.handleValueChange = function (value) {\n      var onValueChange = _this.props.onValueChange;\n\n      if (onValueChange) {\n        onValueChange(value.country);\n      }\n    };\n\n    _this.onUnexpectedInput = function (query) {\n      if (!query) {\n        return new FiasAddress();\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = FiasCountrySelector.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        country = _this$props2.country,\n        limit = _this$props2.limit;\n    var address = new FiasAddress({\n      country: country\n    });\n    return React.createElement(FiasComboBox, {\n      getItems: this.createItemsSource,\n      value: address,\n      renderItem: this.renderItem,\n      renderValue: this.renderValue,\n      valueToString: this.valueToString,\n      onValueChange: this.handleValueChange,\n      onUnexpectedInput: this.onUnexpectedInput,\n      renderNotFound: this.renderNotFound,\n      placeholder: this.locale.countryPlaceholder,\n      width: '100%',\n      drawArrow: false,\n      searchOnFocus: false,\n      limit: limit\n    });\n  };\n\n  return FiasCountrySelector;\n}(React.Component), _temp)) || _class);","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Fias/Form/FiasCountrySelector/FiasCountrySelector.js"],"names":["_regeneratorRuntime","_asyncToGenerator","_inheritsLoose","_dec","_class","_temp","React","FiasLocaleHelper","FiasAddress","locale","FiasComboBox","FiasCountrySelector","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","createItemsSource","_ref","mark","_callee","prefix","_this$props","api","limit","wrap","_callee$","_context","prev","next","props","abrupt","searchCountry","then","result","success","data","error","Promise","resolve","map","country","reject","stop","_x","renderItem","address","fullName","renderValue","renderNotFound","searchNotFound","valueToString","handleValueChange","value","onValueChange","onUnexpectedInput","query","_proto","prototype","render","_this$props2","createElement","getItems","placeholder","countryPlaceholder","width","drawArrow","searchOnFocus","Component"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _dec, _class, _temp;\n\nimport React from 'react';\nimport { FiasLocaleHelper } from \"../../locale\";\nimport { FiasAddress } from \"../../models/FiasAddress\";\nimport { locale } from \"../../../../lib/locale/decorators\";\nimport { FiasComboBox } from \"../FiasComboBox\";\nexport var FiasCountrySelector = (_dec = locale('Fias', FiasLocaleHelper), _dec(_class = (_temp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(FiasCountrySelector, _React$Component);\n\n  function FiasCountrySelector() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.locale = void 0;\n\n    _this.createItemsSource =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(prefix) {\n        var _this$props, api, limit;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, api = _this$props.api, limit = _this$props.limit;\n                return _context.abrupt(\"return\", api.searchCountry({\n                  prefix: prefix,\n                  limit: limit\n                }).then(function (result) {\n                  var success = result.success,\n                      data = result.data,\n                      error = result.error;\n                  return success && data ? Promise.resolve(data.map(function (country) {\n                    return new FiasAddress({\n                      country: country\n                    });\n                  })) : Promise.reject(error);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.renderItem = function (address) {\n      var country = address.country;\n      return country && country.fullName || '';\n    };\n\n    _this.renderValue = function (address) {\n      var country = address.country;\n      return country && country.fullName || '';\n    };\n\n    _this.renderNotFound = function () {\n      return _this.locale.searchNotFound;\n    };\n\n    _this.valueToString = function (address) {\n      var country = address.country;\n      return country && country.fullName || '';\n    };\n\n    _this.handleValueChange = function (value) {\n      var onValueChange = _this.props.onValueChange;\n\n      if (onValueChange) {\n        onValueChange(value.country);\n      }\n    };\n\n    _this.onUnexpectedInput = function (query) {\n      if (!query) {\n        return new FiasAddress();\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = FiasCountrySelector.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        country = _this$props2.country,\n        limit = _this$props2.limit;\n    var address = new FiasAddress({\n      country: country\n    });\n    return React.createElement(FiasComboBox, {\n      getItems: this.createItemsSource,\n      value: address,\n      renderItem: this.renderItem,\n      renderValue: this.renderValue,\n      valueToString: this.valueToString,\n      onValueChange: this.handleValueChange,\n      onUnexpectedInput: this.onUnexpectedInput,\n      renderNotFound: this.renderNotFound,\n      placeholder: this.locale.countryPlaceholder,\n      width: '100%',\n      drawArrow: false,\n      searchOnFocus: false,\n      limit: limit\n    });\n  };\n\n  return FiasCountrySelector;\n}(React.Component), _temp)) || _class);"]},"metadata":{},"sourceType":"module"}