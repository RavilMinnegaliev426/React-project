{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { DropdownContainer } from \"../../DropdownContainer\";\nimport { Input } from \"../../../components/Input\";\nimport { InputLikeText } from \"../../InputLikeText\";\nimport { RenderLayer } from \"../../RenderLayer\";\nimport { Spinner } from \"../../../components/Spinner\";\nimport { ArrowTriangleDownIcon } from \"../../icons/16px\";\nimport { ComboBoxMenu } from \"../ComboBoxMenu\";\nimport { ComboBoxRequestStatus } from \"../CustomComboBoxTypes\";\nimport { jsStyles } from \"../CustomComboBox.styles\";\nexport var ComboBoxView = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ComboBoxView, _React$Component);\n\n  function ComboBoxView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.input = void 0;\n\n    _this.renderAddButton = function () {\n      return _this.props.renderAddButton(_this.props.textValue);\n    };\n\n    _this.handleItemSelect = function (item) {\n      if (_this.props.onValueChange) {\n        _this.props.onValueChange(item);\n      }\n    };\n\n    _this.refInput = function (input) {\n      if (_this.props.refInput) {\n        _this.props.refInput(input);\n      }\n\n      _this.input = input;\n    };\n\n    _this.renderSpinner = function () {\n      return React.createElement(\"span\", {\n        className: jsStyles.spinnerWrapper()\n      }, React.createElement(Spinner, {\n        type: \"mini\",\n        caption: \"\",\n        dimmed: true\n      }));\n    };\n\n    _this.getRightIcon = function () {\n      var _this$props = _this.props,\n          loading = _this$props.loading,\n          items = _this$props.items,\n          drawArrow = _this$props.drawArrow;\n\n      if (loading && items && !!items.length) {\n        return _this.renderSpinner();\n      }\n\n      if (drawArrow) {\n        return React.createElement(\"span\", {\n          className: jsStyles.arrowWrapper()\n        }, React.createElement(ArrowTriangleDownIcon, null));\n      }\n\n      return null;\n    };\n\n    return _this;\n  }\n\n  var _proto = ComboBoxView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.autoFocus && this.props.onFocus) {\n      this.props.onFocus();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var input = this.input,\n        props = this.props;\n\n    if (props.editing && !prevProps.editing && input) {\n      input.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        items = _this$props2.items,\n        loading = _this$props2.loading,\n        menuAlign = _this$props2.menuAlign,\n        onClickOutside = _this$props2.onClickOutside,\n        onFocusOutside = _this$props2.onFocusOutside,\n        onMouseEnter = _this$props2.onMouseEnter,\n        onMouseLeave = _this$props2.onMouseLeave,\n        onMouseOver = _this$props2.onMouseOver,\n        opened = _this$props2.opened,\n        refMenu = _this$props2.refMenu,\n        maxMenuHeight = _this$props2.maxMenuHeight,\n        renderTotalCount = _this$props2.renderTotalCount,\n        renderItem = _this$props2.renderItem,\n        renderNotFound = _this$props2.renderNotFound,\n        repeatRequest = _this$props2.repeatRequest,\n        requestStatus = _this$props2.requestStatus,\n        totalCount = _this$props2.totalCount,\n        size = _this$props2.size,\n        width = _this$props2.width;\n    var input = this.renderInput();\n    var topOffsets = {\n      spinner: 6,\n      arrow: 15\n    };\n\n    if (size === 'medium') {\n      topOffsets.spinner += 4;\n      topOffsets.arrow += 4;\n    }\n\n    if (size === 'large') {\n      topOffsets.spinner += 6;\n      topOffsets.arrow += 6;\n    }\n\n    return React.createElement(RenderLayer, {\n      onClickOutside: onClickOutside,\n      onFocusOutside: onFocusOutside,\n      active: opened\n    }, React.createElement(\"span\", {\n      style: {\n        width: width\n      },\n      className: jsStyles.root(),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseOver: onMouseOver\n    }, input, opened && React.createElement(DropdownContainer, {\n      align: menuAlign,\n      getParent: function getParent() {\n        return findDOMNode(_this2);\n      },\n      offsetY: 1,\n      disablePortal: this.props.disablePortal\n    }, React.createElement(ComboBoxMenu, {\n      items: items,\n      loading: loading,\n      maxMenuHeight: maxMenuHeight,\n      onValueChange: this.handleItemSelect,\n      opened: opened,\n      refMenu: refMenu,\n      renderTotalCount: renderTotalCount,\n      renderItem: renderItem,\n      renderNotFound: renderNotFound,\n      renderAddButton: this.renderAddButton,\n      repeatRequest: repeatRequest,\n      requestStatus: requestStatus,\n      totalCount: totalCount\n    }))));\n  };\n\n  _proto.renderInput = function renderInput() {\n    var _this$props3 = this.props,\n        align = _this$props3.align,\n        borderless = _this$props3.borderless,\n        disabled = _this$props3.disabled,\n        editing = _this$props3.editing,\n        error = _this$props3.error,\n        onFocus = _this$props3.onFocus,\n        onInputBlur = _this$props3.onInputBlur,\n        onInputValueChange = _this$props3.onInputValueChange,\n        onInputFocus = _this$props3.onInputFocus,\n        onInputClick = _this$props3.onInputClick,\n        onInputKeyDown = _this$props3.onInputKeyDown,\n        placeholder = _this$props3.placeholder,\n        renderValue = _this$props3.renderValue,\n        size = _this$props3.size,\n        textValue = _this$props3.textValue,\n        value = _this$props3.value,\n        warning = _this$props3.warning,\n        refInputLikeText = _this$props3.refInputLikeText;\n    var rightIcon = this.getRightIcon();\n\n    if (editing) {\n      return React.createElement(Input, {\n        align: align,\n        borderless: borderless,\n        disabled: disabled,\n        error: error,\n        maxLength: this.props.maxLength,\n        onBlur: onInputBlur,\n        onValueChange: onInputValueChange,\n        onFocus: onInputFocus,\n        onClick: onInputClick,\n        rightIcon: rightIcon,\n        value: textValue || '',\n        onKeyDown: onInputKeyDown,\n        placeholder: placeholder,\n        width: \"100%\",\n        size: size,\n        ref: this.refInput,\n        warning: warning\n      });\n    }\n\n    return React.createElement(InputLikeText, {\n      align: align,\n      borderless: borderless,\n      error: error,\n      onFocus: onFocus,\n      rightIcon: rightIcon,\n      disabled: disabled,\n      warning: warning,\n      placeholder: placeholder,\n      size: size,\n      width: \"100%\",\n      ref: refInputLikeText\n    }, value ? renderValue(value) : null);\n  };\n\n  return ComboBoxView;\n}(React.Component);\nComboBoxView.__KONTUR_REACT_UI__ = 'ComboBoxView';\nComboBoxView.defaultProps = {\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderValue: function renderValue(item) {\n    return item;\n  },\n  renderAddButton: function renderAddButton() {\n    return null;\n  },\n  repeatRequest: function repeatRequest() {\n    return undefined;\n  },\n  requestStatus: ComboBoxRequestStatus.Unknown,\n  onClickOutside: function onClickOutside() {\n    /**/\n  },\n  onFocusOutside: function onFocusOutside() {\n    /**/\n  },\n  size: 'small',\n  width: 250\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/internal/CustomComboBox/ComboBoxView/ComboBoxView.js"],"names":["_inheritsLoose","React","findDOMNode","DropdownContainer","Input","InputLikeText","RenderLayer","Spinner","ArrowTriangleDownIcon","ComboBoxMenu","ComboBoxRequestStatus","jsStyles","ComboBoxView","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","input","renderAddButton","props","textValue","handleItemSelect","item","onValueChange","refInput","renderSpinner","createElement","className","spinnerWrapper","type","caption","dimmed","getRightIcon","_this$props","loading","items","drawArrow","arrowWrapper","_proto","prototype","componentDidMount","autoFocus","onFocus","componentDidUpdate","prevProps","editing","focus","render","_this2","_this$props2","menuAlign","onClickOutside","onFocusOutside","onMouseEnter","onMouseLeave","onMouseOver","opened","refMenu","maxMenuHeight","renderTotalCount","renderItem","renderNotFound","repeatRequest","requestStatus","totalCount","size","width","renderInput","topOffsets","spinner","arrow","active","style","root","align","getParent","offsetY","disablePortal","_this$props3","borderless","disabled","error","onInputBlur","onInputValueChange","onInputFocus","onInputClick","onInputKeyDown","placeholder","renderValue","value","warning","refInputLikeText","rightIcon","maxLength","onBlur","onClick","onKeyDown","ref","Component","__KONTUR_REACT_UI__","defaultProps","undefined","Unknown"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { DropdownContainer } from \"../../DropdownContainer\";\nimport { Input } from \"../../../components/Input\";\nimport { InputLikeText } from \"../../InputLikeText\";\nimport { RenderLayer } from \"../../RenderLayer\";\nimport { Spinner } from \"../../../components/Spinner\";\nimport { ArrowTriangleDownIcon } from \"../../icons/16px\";\nimport { ComboBoxMenu } from \"../ComboBoxMenu\";\nimport { ComboBoxRequestStatus } from \"../CustomComboBoxTypes\";\nimport { jsStyles } from \"../CustomComboBox.styles\";\nexport var ComboBoxView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ComboBoxView, _React$Component);\n\n  function ComboBoxView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.input = void 0;\n\n    _this.renderAddButton = function () {\n      return _this.props.renderAddButton(_this.props.textValue);\n    };\n\n    _this.handleItemSelect = function (item) {\n      if (_this.props.onValueChange) {\n        _this.props.onValueChange(item);\n      }\n    };\n\n    _this.refInput = function (input) {\n      if (_this.props.refInput) {\n        _this.props.refInput(input);\n      }\n\n      _this.input = input;\n    };\n\n    _this.renderSpinner = function () {\n      return React.createElement(\"span\", {\n        className: jsStyles.spinnerWrapper()\n      }, React.createElement(Spinner, {\n        type: \"mini\",\n        caption: \"\",\n        dimmed: true\n      }));\n    };\n\n    _this.getRightIcon = function () {\n      var _this$props = _this.props,\n          loading = _this$props.loading,\n          items = _this$props.items,\n          drawArrow = _this$props.drawArrow;\n\n      if (loading && items && !!items.length) {\n        return _this.renderSpinner();\n      }\n\n      if (drawArrow) {\n        return React.createElement(\"span\", {\n          className: jsStyles.arrowWrapper()\n        }, React.createElement(ArrowTriangleDownIcon, null));\n      }\n\n      return null;\n    };\n\n    return _this;\n  }\n\n  var _proto = ComboBoxView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.autoFocus && this.props.onFocus) {\n      this.props.onFocus();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var input = this.input,\n        props = this.props;\n\n    if (props.editing && !prevProps.editing && input) {\n      input.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        items = _this$props2.items,\n        loading = _this$props2.loading,\n        menuAlign = _this$props2.menuAlign,\n        onClickOutside = _this$props2.onClickOutside,\n        onFocusOutside = _this$props2.onFocusOutside,\n        onMouseEnter = _this$props2.onMouseEnter,\n        onMouseLeave = _this$props2.onMouseLeave,\n        onMouseOver = _this$props2.onMouseOver,\n        opened = _this$props2.opened,\n        refMenu = _this$props2.refMenu,\n        maxMenuHeight = _this$props2.maxMenuHeight,\n        renderTotalCount = _this$props2.renderTotalCount,\n        renderItem = _this$props2.renderItem,\n        renderNotFound = _this$props2.renderNotFound,\n        repeatRequest = _this$props2.repeatRequest,\n        requestStatus = _this$props2.requestStatus,\n        totalCount = _this$props2.totalCount,\n        size = _this$props2.size,\n        width = _this$props2.width;\n    var input = this.renderInput();\n    var topOffsets = {\n      spinner: 6,\n      arrow: 15\n    };\n\n    if (size === 'medium') {\n      topOffsets.spinner += 4;\n      topOffsets.arrow += 4;\n    }\n\n    if (size === 'large') {\n      topOffsets.spinner += 6;\n      topOffsets.arrow += 6;\n    }\n\n    return React.createElement(RenderLayer, {\n      onClickOutside: onClickOutside,\n      onFocusOutside: onFocusOutside,\n      active: opened\n    }, React.createElement(\"span\", {\n      style: {\n        width: width\n      },\n      className: jsStyles.root(),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseOver: onMouseOver\n    }, input, opened && React.createElement(DropdownContainer, {\n      align: menuAlign,\n      getParent: function getParent() {\n        return findDOMNode(_this2);\n      },\n      offsetY: 1,\n      disablePortal: this.props.disablePortal\n    }, React.createElement(ComboBoxMenu, {\n      items: items,\n      loading: loading,\n      maxMenuHeight: maxMenuHeight,\n      onValueChange: this.handleItemSelect,\n      opened: opened,\n      refMenu: refMenu,\n      renderTotalCount: renderTotalCount,\n      renderItem: renderItem,\n      renderNotFound: renderNotFound,\n      renderAddButton: this.renderAddButton,\n      repeatRequest: repeatRequest,\n      requestStatus: requestStatus,\n      totalCount: totalCount\n    }))));\n  };\n\n  _proto.renderInput = function renderInput() {\n    var _this$props3 = this.props,\n        align = _this$props3.align,\n        borderless = _this$props3.borderless,\n        disabled = _this$props3.disabled,\n        editing = _this$props3.editing,\n        error = _this$props3.error,\n        onFocus = _this$props3.onFocus,\n        onInputBlur = _this$props3.onInputBlur,\n        onInputValueChange = _this$props3.onInputValueChange,\n        onInputFocus = _this$props3.onInputFocus,\n        onInputClick = _this$props3.onInputClick,\n        onInputKeyDown = _this$props3.onInputKeyDown,\n        placeholder = _this$props3.placeholder,\n        renderValue = _this$props3.renderValue,\n        size = _this$props3.size,\n        textValue = _this$props3.textValue,\n        value = _this$props3.value,\n        warning = _this$props3.warning,\n        refInputLikeText = _this$props3.refInputLikeText;\n    var rightIcon = this.getRightIcon();\n\n    if (editing) {\n      return React.createElement(Input, {\n        align: align,\n        borderless: borderless,\n        disabled: disabled,\n        error: error,\n        maxLength: this.props.maxLength,\n        onBlur: onInputBlur,\n        onValueChange: onInputValueChange,\n        onFocus: onInputFocus,\n        onClick: onInputClick,\n        rightIcon: rightIcon,\n        value: textValue || '',\n        onKeyDown: onInputKeyDown,\n        placeholder: placeholder,\n        width: \"100%\",\n        size: size,\n        ref: this.refInput,\n        warning: warning\n      });\n    }\n\n    return React.createElement(InputLikeText, {\n      align: align,\n      borderless: borderless,\n      error: error,\n      onFocus: onFocus,\n      rightIcon: rightIcon,\n      disabled: disabled,\n      warning: warning,\n      placeholder: placeholder,\n      size: size,\n      width: \"100%\",\n      ref: refInputLikeText\n    }, value ? renderValue(value) : null);\n  };\n\n  return ComboBoxView;\n}(React.Component);\nComboBoxView.__KONTUR_REACT_UI__ = 'ComboBoxView';\nComboBoxView.defaultProps = {\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderValue: function renderValue(item) {\n    return item;\n  },\n  renderAddButton: function renderAddButton() {\n    return null;\n  },\n  repeatRequest: function repeatRequest() {\n    return undefined;\n  },\n  requestStatus: ComboBoxRequestStatus.Unknown,\n  onClickOutside: function onClickOutside() {\n    /**/\n  },\n  onFocusOutside: function onFocusOutside() {\n    /**/\n  },\n  size: 'small',\n  width: 250\n};"]},"metadata":{},"sourceType":"module"}