{"ast":null,"code":"export var CursorHelper = /*#__PURE__*/function () {\n  function CursorHelper() {}\n\n  CursorHelper.normalizePosition = function normalizePosition(map, position) {\n    return map[Math.min(Math.max(0, position), map.length - 1)];\n  };\n\n  CursorHelper.calculatePosition = function calculatePosition(map, position, step) {\n    if (position < 0 || map.length <= position) {\n      throw new Error(\"position out of range [\" + 0 + \" .. \" + (map.length - 1) + \"], actual value: \" + position);\n    }\n\n    var raw = CursorHelper.toRawPosition(map, position);\n    return CursorHelper.toFormattedPosition(map, raw + step);\n  };\n\n  CursorHelper.extendSelection = function extendSelection(map, selection, step) {\n    selection = CursorHelper.normalizeSelection(map, selection);\n    selection = selection.direction === 'backward' ? {\n      start: CursorHelper.calculatePosition(map, selection.start, step),\n      end: selection.end,\n      direction: 'backward'\n    } : {\n      start: selection.start,\n      end: CursorHelper.calculatePosition(map, selection.end, step),\n      direction: 'forward'\n    };\n    return CursorHelper.normalizeSelection(map, selection);\n  };\n\n  CursorHelper.normalizeSelection = function normalizeSelection(map, selection) {\n    var start = CursorHelper.normalizePosition(map, selection.start);\n    var end = CursorHelper.normalizePosition(map, selection.end);\n\n    if (start === end) {\n      return {\n        start: start,\n        end: end,\n        direction: 'none'\n      };\n    }\n\n    if (start < end) {\n      return {\n        start: start,\n        end: end,\n        direction: selection.direction === 'backward' ? 'backward' : 'forward'\n      };\n    }\n\n    return {\n      start: end,\n      end: start,\n      direction: selection.direction === 'backward' ? 'forward' : 'backward'\n    };\n  };\n\n  CursorHelper.toRawPosition = function toRawPosition(map, formattedPosition) {\n    var count = Math.min(Math.max(0, formattedPosition), map.length - 1);\n    return new Set(map.slice(0, count + 1)).size - 1;\n  };\n\n  CursorHelper.toFormattedPosition = function toFormattedPosition(map, rawPosition) {\n    var count = Math.max(0, rawPosition) + 1;\n    var unique = new Set();\n\n    for (var _iterator = map, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var position = _ref;\n      unique.add(position);\n\n      if (unique.size === count) {\n        return position;\n      }\n    }\n\n    return map[map.length - 1];\n  };\n\n  return CursorHelper;\n}();","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/CurrencyInput/CursorHelper/CursorHelper.js"],"names":["CursorHelper","normalizePosition","map","position","Math","min","max","length","calculatePosition","step","Error","raw","toRawPosition","toFormattedPosition","extendSelection","selection","normalizeSelection","direction","start","end","formattedPosition","count","Set","slice","size","rawPosition","unique","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref","next","done","value","add"],"mappings":"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","sourcesContent":["export var CursorHelper =\n/*#__PURE__*/\nfunction () {\n  function CursorHelper() {}\n\n  CursorHelper.normalizePosition = function normalizePosition(map, position) {\n    return map[Math.min(Math.max(0, position), map.length - 1)];\n  };\n\n  CursorHelper.calculatePosition = function calculatePosition(map, position, step) {\n    if (position < 0 || map.length <= position) {\n      throw new Error(\"position out of range [\" + 0 + \" .. \" + (map.length - 1) + \"], actual value: \" + position);\n    }\n\n    var raw = CursorHelper.toRawPosition(map, position);\n    return CursorHelper.toFormattedPosition(map, raw + step);\n  };\n\n  CursorHelper.extendSelection = function extendSelection(map, selection, step) {\n    selection = CursorHelper.normalizeSelection(map, selection);\n    selection = selection.direction === 'backward' ? {\n      start: CursorHelper.calculatePosition(map, selection.start, step),\n      end: selection.end,\n      direction: 'backward'\n    } : {\n      start: selection.start,\n      end: CursorHelper.calculatePosition(map, selection.end, step),\n      direction: 'forward'\n    };\n    return CursorHelper.normalizeSelection(map, selection);\n  };\n\n  CursorHelper.normalizeSelection = function normalizeSelection(map, selection) {\n    var start = CursorHelper.normalizePosition(map, selection.start);\n    var end = CursorHelper.normalizePosition(map, selection.end);\n\n    if (start === end) {\n      return {\n        start: start,\n        end: end,\n        direction: 'none'\n      };\n    }\n\n    if (start < end) {\n      return {\n        start: start,\n        end: end,\n        direction: selection.direction === 'backward' ? 'backward' : 'forward'\n      };\n    }\n\n    return {\n      start: end,\n      end: start,\n      direction: selection.direction === 'backward' ? 'forward' : 'backward'\n    };\n  };\n\n  CursorHelper.toRawPosition = function toRawPosition(map, formattedPosition) {\n    var count = Math.min(Math.max(0, formattedPosition), map.length - 1);\n    return new Set(map.slice(0, count + 1)).size - 1;\n  };\n\n  CursorHelper.toFormattedPosition = function toFormattedPosition(map, rawPosition) {\n    var count = Math.max(0, rawPosition) + 1;\n    var unique = new Set();\n\n    for (var _iterator = map, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var position = _ref;\n      unique.add(position);\n\n      if (unique.size === count) {\n        return position;\n      }\n    }\n\n    return map[map.length - 1];\n  };\n\n  return CursorHelper;\n}();"]},"metadata":{},"sourceType":"module"}