{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _dec, _class, _class2, _temp;\n\nimport React, { Component } from 'react';\nimport { locale } from \"../../../lib/locale/decorators\";\nimport { Menu } from \"../../Menu\";\nimport { MenuItem } from \"../../../components/MenuItem\";\nimport { Spinner } from \"../../../components/Spinner\";\nimport { MenuSeparator } from \"../../../components/MenuSeparator\";\nimport { ComboBoxRequestStatus } from \"../CustomComboBoxTypes\";\nimport { CustomComboBoxLocaleHelper } from \"../locale\";\nexport var ComboBoxMenu = (_dec = locale('ComboBox', CustomComboBoxLocaleHelper), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ComboBoxMenu, _Component);\n\n  function ComboBoxMenu() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.locale = void 0;\n\n    _this.renderItem = function (item, index) {\n      // NOTE this is undesireable feature, better\n      // to remove it from further versions\n      var _this$props = _this.props,\n          renderItem = _this$props.renderItem,\n          onValueChange = _this$props.onValueChange;\n\n      if (typeof item === 'function' || React.isValidElement(item)) {\n        // @ts-ignore\n        var element = typeof item === 'function' ? item() : item;\n        var props = Object.assign({\n          key: index,\n          onClick: function onClick() {\n            return onValueChange(element.props);\n          }\n        }, element.props);\n        return React.cloneElement(element, props);\n      }\n\n      return React.createElement(MenuItem, {\n        \"data-tid\": \"ComboBoxMenu__item\",\n        onClick: function onClick() {\n          return onValueChange(item);\n        },\n        key: index\n      }, function (state) {\n        return renderItem(item, state);\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = ComboBoxMenu.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        opened = _this$props2.opened,\n        items = _this$props2.items,\n        totalCount = _this$props2.totalCount,\n        loading = _this$props2.loading,\n        refMenu = _this$props2.refMenu,\n        _this$props2$renderNo = _this$props2.renderNotFound,\n        renderNotFound = _this$props2$renderNo === void 0 ? function () {\n      return notFound;\n    } : _this$props2$renderNo,\n        renderTotalCount = _this$props2.renderTotalCount,\n        maxMenuHeight = _this$props2.maxMenuHeight,\n        requestStatus = _this$props2.requestStatus;\n    var _this$locale = this.locale,\n        notFound = _this$locale.notFound,\n        errorNetworkButton = _this$locale.errorNetworkButton,\n        errorNetworkMessage = _this$locale.errorNetworkMessage;\n\n    if (!opened) {\n      return null;\n    }\n\n    var renderAddButton = null;\n\n    if (this.props.renderAddButton) {\n      renderAddButton = this.props.renderAddButton();\n    }\n\n    if (loading && (!items || !items.length)) {\n      return React.createElement(Menu, {\n        ref: refMenu\n      }, React.createElement(MenuItem, {\n        disabled: true\n      }, React.createElement(Spinner, {\n        type: \"mini\",\n        dimmed: true\n      })));\n    }\n\n    if (items === null && requestStatus === ComboBoxRequestStatus.Failed) {\n      return React.createElement(Menu, {\n        ref: refMenu,\n        maxHeight: maxMenuHeight\n      }, React.createElement(MenuItem, {\n        disabled: true,\n        key: \"message\"\n      }, React.createElement(\"div\", {\n        style: {\n          maxWidth: 300,\n          whiteSpace: 'normal'\n        }\n      }, errorNetworkMessage)), React.createElement(MenuItem, {\n        link: true,\n        onClick: this.props.repeatRequest,\n        key: \"retry\"\n      }, errorNetworkButton));\n    }\n\n    if ((items == null || items.length === 0) && renderNotFound) {\n      return React.createElement(Menu, {\n        ref: refMenu\n      }, renderAddButton ? renderAddButton : React.createElement(MenuItem, {\n        disabled: true\n      }, renderNotFound()));\n    }\n\n    var total = null;\n\n    if (items && renderTotalCount && totalCount && items.length < totalCount) {\n      total = React.createElement(MenuItem, {\n        disabled: true,\n        key: \"total\"\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: 12\n        }\n      }, renderTotalCount(items.length, totalCount)));\n    }\n\n    return React.createElement(Menu, {\n      \"data-tid\": \"ComboBoxMenu__items\",\n      ref: refMenu,\n      maxHeight: maxMenuHeight\n    }, items && items.map(this.renderItem), total, renderAddButton && [React.createElement(MenuSeparator, {\n      key: \"separator\"\n    }), renderAddButton]);\n  };\n\n  return ComboBoxMenu;\n}(Component), _class2.__KONTUR_REACT_UI__ = 'ComboBoxMenu', _class2.defaultProps = {\n  repeatRequest: function repeatRequest() {\n    return undefined;\n  },\n  requestStatus: ComboBoxRequestStatus.Unknown\n}, _temp)) || _class);","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/internal/CustomComboBox/ComboBoxMenu/ComboBoxMenu.js"],"names":["_inheritsLoose","_dec","_class","_class2","_temp","React","Component","locale","Menu","MenuItem","Spinner","MenuSeparator","ComboBoxRequestStatus","CustomComboBoxLocaleHelper","ComboBoxMenu","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","renderItem","item","index","_this$props","props","onValueChange","isValidElement","element","Object","assign","key","onClick","cloneElement","createElement","state","_proto","prototype","render","_this$props2","opened","items","totalCount","loading","refMenu","_this$props2$renderNo","renderNotFound","notFound","renderTotalCount","maxMenuHeight","requestStatus","_this$locale","errorNetworkButton","errorNetworkMessage","renderAddButton","ref","disabled","type","dimmed","Failed","maxHeight","style","maxWidth","whiteSpace","link","repeatRequest","total","fontSize","map","__KONTUR_REACT_UI__","defaultProps","undefined","Unknown"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _dec, _class, _class2, _temp;\n\nimport React, { Component } from 'react';\nimport { locale } from \"../../../lib/locale/decorators\";\nimport { Menu } from \"../../Menu\";\nimport { MenuItem } from \"../../../components/MenuItem\";\nimport { Spinner } from \"../../../components/Spinner\";\nimport { MenuSeparator } from \"../../../components/MenuSeparator\";\nimport { ComboBoxRequestStatus } from \"../CustomComboBoxTypes\";\nimport { CustomComboBoxLocaleHelper } from \"../locale\";\nexport var ComboBoxMenu = (_dec = locale('ComboBox', CustomComboBoxLocaleHelper), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ComboBoxMenu, _Component);\n\n  function ComboBoxMenu() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.locale = void 0;\n\n    _this.renderItem = function (item, index) {\n      // NOTE this is undesireable feature, better\n      // to remove it from further versions\n      var _this$props = _this.props,\n          renderItem = _this$props.renderItem,\n          onValueChange = _this$props.onValueChange;\n\n      if (typeof item === 'function' || React.isValidElement(item)) {\n        // @ts-ignore\n        var element = typeof item === 'function' ? item() : item;\n        var props = Object.assign({\n          key: index,\n          onClick: function onClick() {\n            return onValueChange(element.props);\n          }\n        }, element.props);\n        return React.cloneElement(element, props);\n      }\n\n      return React.createElement(MenuItem, {\n        \"data-tid\": \"ComboBoxMenu__item\",\n        onClick: function onClick() {\n          return onValueChange(item);\n        },\n        key: index\n      }, function (state) {\n        return renderItem(item, state);\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = ComboBoxMenu.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        opened = _this$props2.opened,\n        items = _this$props2.items,\n        totalCount = _this$props2.totalCount,\n        loading = _this$props2.loading,\n        refMenu = _this$props2.refMenu,\n        _this$props2$renderNo = _this$props2.renderNotFound,\n        renderNotFound = _this$props2$renderNo === void 0 ? function () {\n      return notFound;\n    } : _this$props2$renderNo,\n        renderTotalCount = _this$props2.renderTotalCount,\n        maxMenuHeight = _this$props2.maxMenuHeight,\n        requestStatus = _this$props2.requestStatus;\n    var _this$locale = this.locale,\n        notFound = _this$locale.notFound,\n        errorNetworkButton = _this$locale.errorNetworkButton,\n        errorNetworkMessage = _this$locale.errorNetworkMessage;\n\n    if (!opened) {\n      return null;\n    }\n\n    var renderAddButton = null;\n\n    if (this.props.renderAddButton) {\n      renderAddButton = this.props.renderAddButton();\n    }\n\n    if (loading && (!items || !items.length)) {\n      return React.createElement(Menu, {\n        ref: refMenu\n      }, React.createElement(MenuItem, {\n        disabled: true\n      }, React.createElement(Spinner, {\n        type: \"mini\",\n        dimmed: true\n      })));\n    }\n\n    if (items === null && requestStatus === ComboBoxRequestStatus.Failed) {\n      return React.createElement(Menu, {\n        ref: refMenu,\n        maxHeight: maxMenuHeight\n      }, React.createElement(MenuItem, {\n        disabled: true,\n        key: \"message\"\n      }, React.createElement(\"div\", {\n        style: {\n          maxWidth: 300,\n          whiteSpace: 'normal'\n        }\n      }, errorNetworkMessage)), React.createElement(MenuItem, {\n        link: true,\n        onClick: this.props.repeatRequest,\n        key: \"retry\"\n      }, errorNetworkButton));\n    }\n\n    if ((items == null || items.length === 0) && renderNotFound) {\n      return React.createElement(Menu, {\n        ref: refMenu\n      }, renderAddButton ? renderAddButton : React.createElement(MenuItem, {\n        disabled: true\n      }, renderNotFound()));\n    }\n\n    var total = null;\n\n    if (items && renderTotalCount && totalCount && items.length < totalCount) {\n      total = React.createElement(MenuItem, {\n        disabled: true,\n        key: \"total\"\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: 12\n        }\n      }, renderTotalCount(items.length, totalCount)));\n    }\n\n    return React.createElement(Menu, {\n      \"data-tid\": \"ComboBoxMenu__items\",\n      ref: refMenu,\n      maxHeight: maxMenuHeight\n    }, items && items.map(this.renderItem), total, renderAddButton && [React.createElement(MenuSeparator, {\n      key: \"separator\"\n    }), renderAddButton]);\n  };\n\n  return ComboBoxMenu;\n}(Component), _class2.__KONTUR_REACT_UI__ = 'ComboBoxMenu', _class2.defaultProps = {\n  repeatRequest: function repeatRequest() {\n    return undefined;\n  },\n  requestStatus: ComboBoxRequestStatus.Unknown\n}, _temp)) || _class);"]},"metadata":{},"sourceType":"module"}