{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport fallbackImage_mini from \"../fallback_circle_mini.png\";\nimport fallbackImage_mini_dimmed from \"../fallback_circle_dimmed.png\";\nimport fallbackImage_big from \"../fallback_circle_big.png\";\nimport fallbackImage_normal from \"../fallback_circle_normal.png\";\nimport { jsStyles } from \"../Spinner.styles\";\nexport var types = {\n  big: 'big',\n  mini: 'mini',\n  normal: 'normal'\n};\nexport var SpinnerFallback = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SpinnerFallback, _React$Component);\n\n  function SpinnerFallback() {\n    var _this$_framesCount, _this$imageUrls;\n\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      frame: 0\n    };\n    _this.mounted = false;\n    _this._framesCount = (_this$_framesCount = {}, _this$_framesCount[types.mini] = 151, _this$_framesCount[types.normal] = 151, _this$_framesCount[types.big] = 151, _this$_framesCount.dimmed = 60, _this$_framesCount);\n    _this.imageUrls = (_this$imageUrls = {}, _this$imageUrls[types.mini] = fallbackImage_mini, _this$imageUrls[types.normal] = fallbackImage_normal, _this$imageUrls[types.big] = fallbackImage_big, _this$imageUrls.dimmed = fallbackImage_mini_dimmed, _this$imageUrls);\n\n    _this.animate = function () {\n      if (!_this.mounted) {\n        return;\n      }\n\n      var frame = _this.state.frame;\n\n      var framesCount = _this._framesCount[_this.getSpriteSettingsKey()];\n\n      var nextFrame = frame < framesCount ? frame + 1 : 0;\n\n      _this.setState({\n        frame: nextFrame\n      });\n\n      setTimeout(_this.animate, 1000 / 25);\n    };\n\n    _this.getSpriteSettingsKey = function () {\n      return _this.props.type === types.mini && _this.props.dimmed ? 'dimmed' : _this.props.type;\n    };\n\n    return _this;\n  }\n\n  var _proto = SpinnerFallback.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.animate();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  _proto.render = function render() {\n    return this.renderCircle();\n  };\n\n  _proto.renderCircle = function renderCircle() {\n    var dimmed = this.props.dimmed;\n    var type = this.props.type;\n    var frame = this.state.frame;\n    var size = type === 'big' ? 96 : type === 'normal' ? 48 : 16;\n    var backgroundImage = dimmed ? this.imageUrls.dimmed : this.imageUrls[type];\n    var cssSet = {\n      backgroundImage: \"url('\" + backgroundImage + \"')\",\n      height: size,\n      width: size,\n      marginBottom: -3,\n      marginLeft: -1,\n      marginRight: -1\n    };\n\n    if (!process.env.enableReactTesting) {\n      cssSet.backgroundPosition = \"0 -\" + frame * size + \"px\";\n    }\n\n    return React.createElement(\"span\", {\n      className: jsStyles.fallback(),\n      style: cssSet\n    });\n  };\n\n  return SpinnerFallback;\n}(React.Component);\nSpinnerFallback.__KONTUR_REACT_UI__ = 'SpinnerFallback';\nSpinnerFallback.propTypes = {\n  type: PropTypes.oneOf(Object.keys(types)),\n  dimmed: PropTypes.bool\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Spinner/SpinnerFallback/SpinnerFallback.js"],"names":["_inheritsLoose","React","PropTypes","fallbackImage_mini","fallbackImage_mini_dimmed","fallbackImage_big","fallbackImage_normal","jsStyles","types","big","mini","normal","SpinnerFallback","_React$Component","_this$_framesCount","_this$imageUrls","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","frame","mounted","_framesCount","dimmed","imageUrls","animate","framesCount","getSpriteSettingsKey","nextFrame","setState","setTimeout","props","type","_proto","prototype","componentDidMount","componentWillUnmount","render","renderCircle","size","backgroundImage","cssSet","height","width","marginBottom","marginLeft","marginRight","process","env","enableReactTesting","backgroundPosition","createElement","className","fallback","style","Component","__KONTUR_REACT_UI__","propTypes","oneOf","Object","keys","bool"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport fallbackImage_mini from \"../fallback_circle_mini.png\";\nimport fallbackImage_mini_dimmed from \"../fallback_circle_dimmed.png\";\nimport fallbackImage_big from \"../fallback_circle_big.png\";\nimport fallbackImage_normal from \"../fallback_circle_normal.png\";\nimport { jsStyles } from \"../Spinner.styles\";\nexport var types = {\n  big: 'big',\n  mini: 'mini',\n  normal: 'normal'\n};\nexport var SpinnerFallback =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(SpinnerFallback, _React$Component);\n\n  function SpinnerFallback() {\n    var _this$_framesCount, _this$imageUrls;\n\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      frame: 0\n    };\n    _this.mounted = false;\n    _this._framesCount = (_this$_framesCount = {}, _this$_framesCount[types.mini] = 151, _this$_framesCount[types.normal] = 151, _this$_framesCount[types.big] = 151, _this$_framesCount.dimmed = 60, _this$_framesCount);\n    _this.imageUrls = (_this$imageUrls = {}, _this$imageUrls[types.mini] = fallbackImage_mini, _this$imageUrls[types.normal] = fallbackImage_normal, _this$imageUrls[types.big] = fallbackImage_big, _this$imageUrls.dimmed = fallbackImage_mini_dimmed, _this$imageUrls);\n\n    _this.animate = function () {\n      if (!_this.mounted) {\n        return;\n      }\n\n      var frame = _this.state.frame;\n\n      var framesCount = _this._framesCount[_this.getSpriteSettingsKey()];\n\n      var nextFrame = frame < framesCount ? frame + 1 : 0;\n\n      _this.setState({\n        frame: nextFrame\n      });\n\n      setTimeout(_this.animate, 1000 / 25);\n    };\n\n    _this.getSpriteSettingsKey = function () {\n      return _this.props.type === types.mini && _this.props.dimmed ? 'dimmed' : _this.props.type;\n    };\n\n    return _this;\n  }\n\n  var _proto = SpinnerFallback.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.animate();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  _proto.render = function render() {\n    return this.renderCircle();\n  };\n\n  _proto.renderCircle = function renderCircle() {\n    var dimmed = this.props.dimmed;\n    var type = this.props.type;\n    var frame = this.state.frame;\n    var size = type === 'big' ? 96 : type === 'normal' ? 48 : 16;\n    var backgroundImage = dimmed ? this.imageUrls.dimmed : this.imageUrls[type];\n    var cssSet = {\n      backgroundImage: \"url('\" + backgroundImage + \"')\",\n      height: size,\n      width: size,\n      marginBottom: -3,\n      marginLeft: -1,\n      marginRight: -1\n    };\n\n    if (!process.env.enableReactTesting) {\n      cssSet.backgroundPosition = \"0 -\" + frame * size + \"px\";\n    }\n\n    return React.createElement(\"span\", {\n      className: jsStyles.fallback(),\n      style: cssSet\n    });\n  };\n\n  return SpinnerFallback;\n}(React.Component);\nSpinnerFallback.__KONTUR_REACT_UI__ = 'SpinnerFallback';\nSpinnerFallback.propTypes = {\n  type: PropTypes.oneOf(Object.keys(types)),\n  dimmed: PropTypes.bool\n};"]},"metadata":{},"sourceType":"module"}