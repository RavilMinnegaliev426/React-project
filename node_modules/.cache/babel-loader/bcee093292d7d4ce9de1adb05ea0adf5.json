{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { tabListener } from \"../../../lib/events/tabListener\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { OkIcon, SquareIcon } from \"../../../internal/icons/16px\";\nimport { isEdge, isFirefox, isIE11 } from \"../../../lib/utils\";\nimport { jsStyles } from \"../Checkbox.styles\";\n/**\r\n                                               * Все свойства, кроме перечисленных, `className` и `style` передаются в `input`.\r\n                                               */\n\nexport var Checkbox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Checkbox, _React$Component);\n\n  function Checkbox() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      focusedByTab: false,\n      indeterminate: _this.props.initialIndeterminate || false\n    };\n    _this.theme = void 0;\n    _this.input = void 0;\n\n    _this.componentDidMount = function () {\n      if (_this.state.indeterminate && _this.input) {\n        _this.input.indeterminate = true;\n      }\n    };\n\n    _this.setIndeterminate = function () {\n      _this.setState({\n        indeterminate: true\n      });\n\n      if (_this.input) {\n        _this.input.indeterminate = true;\n      }\n    };\n\n    _this.resetIndeterminate = function () {\n      _this.setState({\n        indeterminate: false\n      });\n\n      if (_this.input) {\n        _this.input.indeterminate = false;\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      if (!_this.props.disabled) {\n        // focus event fires before keyDown eventlistener\n        // so we should check tabPressed in async way\n        process.nextTick(function () {\n          if (tabListener.isTabPressed) {\n            _this.setState({\n              focusedByTab: true\n            });\n          }\n        });\n      }\n    };\n\n    _this.handleBlur = function (e) {\n      _this.props.onBlur == null ? void 0 : _this.props.onBlur(e);\n\n      _this.setState({\n        focusedByTab: false\n      });\n    };\n\n    _this.inputRef = function (ref) {\n      _this.input = ref;\n    };\n\n    _this.handleChange = function (event) {\n      var checked = event.currentTarget.checked;\n      _this.props.onValueChange == null ? void 0 : _this.props.onValueChange(checked);\n\n      _this.resetIndeterminate();\n\n      _this.props.onChange == null ? void 0 : _this.props.onChange(event);\n    };\n\n    return _this;\n  }\n\n  var _proto = Checkbox.prototype;\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.checked !== this.props.checked) {\n      this.resetIndeterminate();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  }\n  /**\r\n   * @public\r\n   */\n  ;\n\n  _proto.focus = function focus() {\n    var _this$input;\n\n    tabListener.isTabPressed = true;\n    (_this$input = this.input) == null ? void 0 : _this$input.focus();\n  }\n  /**\r\n   * @public\r\n   */\n  ;\n\n  _proto.blur = function blur() {\n    var _this$input2;\n\n    (_this$input2 = this.input) == null ? void 0 : _this$input2.blur();\n  }\n  /**\r\n   * Установить промежуточное значение\r\n   * @public\r\n   */\n  ;\n\n  _proto.renderMain = function renderMain() {\n    var _cn, _cn3;\n\n    var props = this.props;\n\n    var children = props.children,\n        error = props.error,\n        warning = props.warning,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave,\n        onMouseOver = props.onMouseOver,\n        onValueChange = props.onValueChange,\n        style = props.style,\n        className = props.className,\n        type = props.type,\n        initialIndeterminate = props.initialIndeterminate,\n        rest = _objectWithoutPropertiesLoose(props, [\"children\", \"error\", \"warning\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseOver\", \"onValueChange\", \"style\", \"className\", \"type\", \"initialIndeterminate\"]);\n\n    var isIndeterminate = this.state.indeterminate;\n    var rootClass = cn((_cn = {}, _cn[jsStyles.root(this.theme)] = true, _cn[jsStyles.rootFallback()] = isIE11 || isEdge, _cn[jsStyles.disabled(this.theme)] = Boolean(props.disabled), _cn[jsStyles.checked(this.theme)] = Boolean(props.checked), _cn[jsStyles.indeterminate(this.theme)] = isIndeterminate, _cn[jsStyles.focus(this.theme)] = this.state.focusedByTab, _cn[jsStyles.warning(this.theme)] = Boolean(props.warning), _cn[jsStyles.error(this.theme)] = Boolean(props.error), _cn));\n\n    var inputProps = _extends({}, rest, {\n      type: 'checkbox',\n      className: jsStyles.input(),\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      ref: this.inputRef\n    });\n\n    var caption = null;\n\n    if (children) {\n      var _cn2;\n\n      var captionClass = cn((_cn2 = {}, _cn2[jsStyles.caption()] = true, _cn2[jsStyles.captionIE11()] = isIE11 || isEdge, _cn2));\n      caption = React.createElement(\"span\", {\n        className: captionClass\n      }, children);\n    }\n\n    var iconClass = cn((_cn3 = {}, _cn3[jsStyles.iconUnchecked()] = !props.checked && !isIndeterminate, _cn3[jsStyles.iconFixBaseline()] = isFirefox || isIE11 || isEdge, _cn3));\n    var box = React.createElement(\"span\", {\n      className: jsStyles.box(this.theme)\n    }, isIndeterminate && React.createElement(SquareIcon, {\n      className: iconClass\n    }) || React.createElement(OkIcon, {\n      className: iconClass\n    }));\n    return React.createElement(\"label\", {\n      className: rootClass,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseOver: onMouseOver\n    }, React.createElement(\"input\", inputProps), box, caption);\n  };\n\n  return Checkbox;\n}(React.Component);\nCheckbox.__KONTUR_REACT_UI__ = 'Checkbox';\nCheckbox.propTypes = {\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: PropTypes.bool,\n  warning: PropTypes.bool,\n  onValueChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOver: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Checkbox/Checkbox/Checkbox.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","React","PropTypes","cn","tabListener","ThemeContext","OkIcon","SquareIcon","isEdge","isFirefox","isIE11","jsStyles","Checkbox","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","focusedByTab","indeterminate","props","initialIndeterminate","theme","input","componentDidMount","setIndeterminate","setState","resetIndeterminate","handleFocus","e","disabled","process","nextTick","isTabPressed","handleBlur","onBlur","inputRef","ref","handleChange","event","checked","currentTarget","onValueChange","onChange","_proto","prototype","UNSAFE_componentWillReceiveProps","nextProps","render","_this2","createElement","Consumer","renderMain","focus","_this$input","blur","_this$input2","_cn","_cn3","children","error","warning","onMouseEnter","onMouseLeave","onMouseOver","style","className","type","rest","isIndeterminate","rootClass","root","rootFallback","Boolean","inputProps","onFocus","caption","_cn2","captionClass","captionIE11","iconClass","iconUnchecked","iconFixBaseline","box","Component","__KONTUR_REACT_UI__","propTypes","bool","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { tabListener } from \"../../../lib/events/tabListener\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { OkIcon, SquareIcon } from \"../../../internal/icons/16px\";\nimport { isEdge, isFirefox, isIE11 } from \"../../../lib/utils\";\nimport { jsStyles } from \"../Checkbox.styles\";\n/**\r\n                                               * Все свойства, кроме перечисленных, `className` и `style` передаются в `input`.\r\n                                               */\n\nexport var Checkbox =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Checkbox, _React$Component);\n\n  function Checkbox() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      focusedByTab: false,\n      indeterminate: _this.props.initialIndeterminate || false\n    };\n    _this.theme = void 0;\n    _this.input = void 0;\n\n    _this.componentDidMount = function () {\n      if (_this.state.indeterminate && _this.input) {\n        _this.input.indeterminate = true;\n      }\n    };\n\n    _this.setIndeterminate = function () {\n      _this.setState({\n        indeterminate: true\n      });\n\n      if (_this.input) {\n        _this.input.indeterminate = true;\n      }\n    };\n\n    _this.resetIndeterminate = function () {\n      _this.setState({\n        indeterminate: false\n      });\n\n      if (_this.input) {\n        _this.input.indeterminate = false;\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      if (!_this.props.disabled) {\n        // focus event fires before keyDown eventlistener\n        // so we should check tabPressed in async way\n        process.nextTick(function () {\n          if (tabListener.isTabPressed) {\n            _this.setState({\n              focusedByTab: true\n            });\n          }\n        });\n      }\n    };\n\n    _this.handleBlur = function (e) {\n      _this.props.onBlur == null ? void 0 : _this.props.onBlur(e);\n\n      _this.setState({\n        focusedByTab: false\n      });\n    };\n\n    _this.inputRef = function (ref) {\n      _this.input = ref;\n    };\n\n    _this.handleChange = function (event) {\n      var checked = event.currentTarget.checked;\n      _this.props.onValueChange == null ? void 0 : _this.props.onValueChange(checked);\n\n      _this.resetIndeterminate();\n\n      _this.props.onChange == null ? void 0 : _this.props.onChange(event);\n    };\n\n    return _this;\n  }\n\n  var _proto = Checkbox.prototype;\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.checked !== this.props.checked) {\n      this.resetIndeterminate();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  }\n  /**\r\n   * @public\r\n   */\n  ;\n\n  _proto.focus = function focus() {\n    var _this$input;\n\n    tabListener.isTabPressed = true;\n    (_this$input = this.input) == null ? void 0 : _this$input.focus();\n  }\n  /**\r\n   * @public\r\n   */\n  ;\n\n  _proto.blur = function blur() {\n    var _this$input2;\n\n    (_this$input2 = this.input) == null ? void 0 : _this$input2.blur();\n  }\n  /**\r\n   * Установить промежуточное значение\r\n   * @public\r\n   */\n  ;\n\n  _proto.renderMain = function renderMain() {\n    var _cn, _cn3;\n\n    var props = this.props;\n\n    var children = props.children,\n        error = props.error,\n        warning = props.warning,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave,\n        onMouseOver = props.onMouseOver,\n        onValueChange = props.onValueChange,\n        style = props.style,\n        className = props.className,\n        type = props.type,\n        initialIndeterminate = props.initialIndeterminate,\n        rest = _objectWithoutPropertiesLoose(props, [\"children\", \"error\", \"warning\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseOver\", \"onValueChange\", \"style\", \"className\", \"type\", \"initialIndeterminate\"]);\n\n    var isIndeterminate = this.state.indeterminate;\n    var rootClass = cn((_cn = {}, _cn[jsStyles.root(this.theme)] = true, _cn[jsStyles.rootFallback()] = isIE11 || isEdge, _cn[jsStyles.disabled(this.theme)] = Boolean(props.disabled), _cn[jsStyles.checked(this.theme)] = Boolean(props.checked), _cn[jsStyles.indeterminate(this.theme)] = isIndeterminate, _cn[jsStyles.focus(this.theme)] = this.state.focusedByTab, _cn[jsStyles.warning(this.theme)] = Boolean(props.warning), _cn[jsStyles.error(this.theme)] = Boolean(props.error), _cn));\n\n    var inputProps = _extends({}, rest, {\n      type: 'checkbox',\n      className: jsStyles.input(),\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      ref: this.inputRef\n    });\n\n    var caption = null;\n\n    if (children) {\n      var _cn2;\n\n      var captionClass = cn((_cn2 = {}, _cn2[jsStyles.caption()] = true, _cn2[jsStyles.captionIE11()] = isIE11 || isEdge, _cn2));\n      caption = React.createElement(\"span\", {\n        className: captionClass\n      }, children);\n    }\n\n    var iconClass = cn((_cn3 = {}, _cn3[jsStyles.iconUnchecked()] = !props.checked && !isIndeterminate, _cn3[jsStyles.iconFixBaseline()] = isFirefox || isIE11 || isEdge, _cn3));\n    var box = React.createElement(\"span\", {\n      className: jsStyles.box(this.theme)\n    }, isIndeterminate && React.createElement(SquareIcon, {\n      className: iconClass\n    }) || React.createElement(OkIcon, {\n      className: iconClass\n    }));\n    return React.createElement(\"label\", {\n      className: rootClass,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseOver: onMouseOver\n    }, React.createElement(\"input\", inputProps), box, caption);\n  };\n\n  return Checkbox;\n}(React.Component);\nCheckbox.__KONTUR_REACT_UI__ = 'Checkbox';\nCheckbox.propTypes = {\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: PropTypes.bool,\n  warning: PropTypes.bool,\n  onValueChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOver: PropTypes.func\n};"]},"metadata":{},"sourceType":"module"}