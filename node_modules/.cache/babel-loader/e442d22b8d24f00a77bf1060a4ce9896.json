{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { Indicator } from \"../Indicator\";\nimport { jsStyles } from \"../Tabs.styles\";\nimport { TabsContext } from \"../TabsContext\";\nimport { Tab } from \"../Tab\";\n/**\r\n                              * Tabs wrapper\r\n                              *\r\n                              * contains static property `Tab`\r\n                              */\n\nexport var Tabs = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tabs, _React$Component);\n\n  function Tabs() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.tabs = [];\n    _this.tabUpdates = {\n      on: function on(cb) {\n        var index = _this.listeners.push(cb);\n\n        return function () {\n          _this.listeners.splice(index, 1);\n        };\n      }\n    };\n    _this.listeners = [];\n\n    _this.shiftFocus = function (fromTab, delta) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          tabs = _assertThisInitialize.tabs;\n\n      var index = tabs.findIndex(function (x) {\n        return x.id === fromTab;\n      });\n      var newIndex = Math.max(0, Math.min(index + delta, tabs.length - 1));\n      var tab = tabs[newIndex];\n      var tabNode = tab.getNode();\n      var htmlNode = null;\n\n      if (tabNode instanceof React.Component) {\n        htmlNode = findDOMNode(tabNode);\n      }\n\n      if (htmlNode && htmlNode instanceof HTMLElement && typeof htmlNode.focus === 'function') {\n        htmlNode.focus();\n      }\n    };\n\n    _this.notifyUpdate = function () {\n      _this.listeners.forEach(function (cb) {\n        return cb();\n      });\n    };\n\n    _this.switchTab = function (id) {\n      var _this$props = _this.props,\n          onValueChange = _this$props.onValueChange,\n          value = _this$props.value;\n\n      if (id !== value && onValueChange) {\n        onValueChange(id);\n      }\n    };\n\n    _this.getTab = function (id) {\n      var _ref = _this.tabs.find(function (x) {\n        return x.id === id;\n      }) || {},\n          _ref$getNode = _ref.getNode,\n          getNode = _ref$getNode === void 0 ? null : _ref$getNode;\n\n      return getNode && getNode();\n    };\n\n    _this.addTab = function (id, getNode) {\n      _this.tabs = _this.tabs.concat({\n        id: id,\n        getNode: getNode\n      });\n    };\n\n    _this.removeTab = function (id) {\n      _this.tabs = _this.tabs.filter(function (tab) {\n        return tab.id !== id;\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Tabs.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        vertical = _this$props2.vertical,\n        value = _this$props2.value,\n        width = _this$props2.width,\n        children = _this$props2.children,\n        indicatorClassName = _this$props2.indicatorClassName;\n    return React.createElement(\"div\", {\n      className: cn(jsStyles.root(), vertical && jsStyles.vertical()),\n      style: {\n        width: width\n      }\n    }, React.createElement(TabsContext.Provider, {\n      value: {\n        vertical: vertical,\n        activeTab: value,\n        getTab: this.getTab,\n        addTab: this.addTab,\n        removeTab: this.removeTab,\n        notifyUpdate: this.notifyUpdate,\n        shiftFocus: this.shiftFocus,\n        switchTab: this.switchTab\n      }\n    }, children, React.createElement(Indicator, {\n      className: indicatorClassName,\n      tabUpdates: this.tabUpdates,\n      vertical: vertical\n    })));\n  };\n\n  return Tabs;\n}(React.Component);\nTabs.__KONTUR_REACT_UI__ = 'Tabs';\nTabs.propTypes = {\n  children: PropTypes.node,\n  indicatorClassName: PropTypes.string,\n  value: PropTypes.string.isRequired,\n  vertical: PropTypes.bool,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onValueChange: PropTypes.func\n};\nTabs.defaultProps = {\n  vertical: false\n};\nTabs.Tab = Tab;","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Tabs/Tabs/Tabs.js"],"names":["_assertThisInitialized","_inheritsLoose","React","findDOMNode","PropTypes","cn","Indicator","jsStyles","TabsContext","Tab","Tabs","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","tabs","tabUpdates","on","cb","index","listeners","push","splice","shiftFocus","fromTab","delta","_assertThisInitialize","findIndex","x","id","newIndex","Math","max","min","tab","tabNode","getNode","htmlNode","Component","HTMLElement","focus","notifyUpdate","forEach","switchTab","_this$props","props","onValueChange","value","getTab","_ref","find","_ref$getNode","addTab","removeTab","filter","_proto","prototype","render","_this$props2","vertical","width","children","indicatorClassName","createElement","className","root","style","Provider","activeTab","__KONTUR_REACT_UI__","propTypes","node","string","isRequired","bool","oneOfType","number","func","defaultProps"],"mappings":"AAAA,OAAOA,sBAAP,MAAmC,kDAAnC;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,GAAT,QAAoB,QAApB;AACA;;;;;;AAMA,OAAO,IAAIC,IAAI,GACf,aACA,UAAUC,gBAAV,EAA4B;AAC1BV,EAAAA,cAAc,CAACS,IAAD,EAAOC,gBAAP,CAAd;;AAEA,WAASD,IAAT,GAAgB;AACd,QAAIE,KAAJ;;AAEA,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDN,IAAAA,KAAK,GAAGD,gBAAgB,CAACQ,IAAjB,CAAsBC,KAAtB,CAA4BT,gBAA5B,EAA8C,CAAC,IAAD,EAAOU,MAAP,CAAcL,IAAd,CAA9C,KAAsE,IAA9E;AACAJ,IAAAA,KAAK,CAACU,IAAN,GAAa,EAAb;AACAV,IAAAA,KAAK,CAACW,UAAN,GAAmB;AACjBC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYC,EAAZ,EAAgB;AAClB,YAAIC,KAAK,GAAGd,KAAK,CAACe,SAAN,CAAgBC,IAAhB,CAAqBH,EAArB,CAAZ;;AAEA,eAAO,YAAY;AACjBb,UAAAA,KAAK,CAACe,SAAN,CAAgBE,MAAhB,CAAuBH,KAAvB,EAA8B,CAA9B;AACD,SAFD;AAGD;AAPgB,KAAnB;AASAd,IAAAA,KAAK,CAACe,SAAN,GAAkB,EAAlB;;AAEAf,IAAAA,KAAK,CAACkB,UAAN,GAAmB,UAAUC,OAAV,EAAmBC,KAAnB,EAA0B;AAC3C,UAAIC,qBAAqB,GAAGjC,sBAAsB,CAACY,KAAD,CAAlD;AAAA,UACIU,IAAI,GAAGW,qBAAqB,CAACX,IADjC;;AAGA,UAAII,KAAK,GAAGJ,IAAI,CAACY,SAAL,CAAe,UAAUC,CAAV,EAAa;AACtC,eAAOA,CAAC,CAACC,EAAF,KAASL,OAAhB;AACD,OAFW,CAAZ;AAGA,UAAIM,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,GAAL,CAASd,KAAK,GAAGM,KAAjB,EAAwBV,IAAI,CAACP,MAAL,GAAc,CAAtC,CAAZ,CAAf;AACA,UAAI0B,GAAG,GAAGnB,IAAI,CAACe,QAAD,CAAd;AACA,UAAIK,OAAO,GAAGD,GAAG,CAACE,OAAJ,EAAd;AACA,UAAIC,QAAQ,GAAG,IAAf;;AAEA,UAAIF,OAAO,YAAYxC,KAAK,CAAC2C,SAA7B,EAAwC;AACtCD,QAAAA,QAAQ,GAAGzC,WAAW,CAACuC,OAAD,CAAtB;AACD;;AAED,UAAIE,QAAQ,IAAIA,QAAQ,YAAYE,WAAhC,IAA+C,OAAOF,QAAQ,CAACG,KAAhB,KAA0B,UAA7E,EAAyF;AACvFH,QAAAA,QAAQ,CAACG,KAAT;AACD;AACF,KAnBD;;AAqBAnC,IAAAA,KAAK,CAACoC,YAAN,GAAqB,YAAY;AAC/BpC,MAAAA,KAAK,CAACe,SAAN,CAAgBsB,OAAhB,CAAwB,UAAUxB,EAAV,EAAc;AACpC,eAAOA,EAAE,EAAT;AACD,OAFD;AAGD,KAJD;;AAMAb,IAAAA,KAAK,CAACsC,SAAN,GAAkB,UAAUd,EAAV,EAAc;AAC9B,UAAIe,WAAW,GAAGvC,KAAK,CAACwC,KAAxB;AAAA,UACIC,aAAa,GAAGF,WAAW,CAACE,aADhC;AAAA,UAEIC,KAAK,GAAGH,WAAW,CAACG,KAFxB;;AAIA,UAAIlB,EAAE,KAAKkB,KAAP,IAAgBD,aAApB,EAAmC;AACjCA,QAAAA,aAAa,CAACjB,EAAD,CAAb;AACD;AACF,KARD;;AAUAxB,IAAAA,KAAK,CAAC2C,MAAN,GAAe,UAAUnB,EAAV,EAAc;AAC3B,UAAIoB,IAAI,GAAG5C,KAAK,CAACU,IAAN,CAAWmC,IAAX,CAAgB,UAAUtB,CAAV,EAAa;AACtC,eAAOA,CAAC,CAACC,EAAF,KAASA,EAAhB;AACD,OAFU,KAEL,EAFN;AAAA,UAGIsB,YAAY,GAAGF,IAAI,CAACb,OAHxB;AAAA,UAIIA,OAAO,GAAGe,YAAY,KAAK,KAAK,CAAtB,GAA0B,IAA1B,GAAiCA,YAJ/C;;AAMA,aAAOf,OAAO,IAAIA,OAAO,EAAzB;AACD,KARD;;AAUA/B,IAAAA,KAAK,CAAC+C,MAAN,GAAe,UAAUvB,EAAV,EAAcO,OAAd,EAAuB;AACpC/B,MAAAA,KAAK,CAACU,IAAN,GAAaV,KAAK,CAACU,IAAN,CAAWD,MAAX,CAAkB;AAC7Be,QAAAA,EAAE,EAAEA,EADyB;AAE7BO,QAAAA,OAAO,EAAEA;AAFoB,OAAlB,CAAb;AAID,KALD;;AAOA/B,IAAAA,KAAK,CAACgD,SAAN,GAAkB,UAAUxB,EAAV,EAAc;AAC9BxB,MAAAA,KAAK,CAACU,IAAN,GAAaV,KAAK,CAACU,IAAN,CAAWuC,MAAX,CAAkB,UAAUpB,GAAV,EAAe;AAC5C,eAAOA,GAAG,CAACL,EAAJ,KAAWA,EAAlB;AACD,OAFY,CAAb;AAGD,KAJD;;AAMA,WAAOxB,KAAP;AACD;;AAED,MAAIkD,MAAM,GAAGpD,IAAI,CAACqD,SAAlB;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAIC,YAAY,GAAG,KAAKb,KAAxB;AAAA,QACIc,QAAQ,GAAGD,YAAY,CAACC,QAD5B;AAAA,QAEIZ,KAAK,GAAGW,YAAY,CAACX,KAFzB;AAAA,QAGIa,KAAK,GAAGF,YAAY,CAACE,KAHzB;AAAA,QAIIC,QAAQ,GAAGH,YAAY,CAACG,QAJ5B;AAAA,QAKIC,kBAAkB,GAAGJ,YAAY,CAACI,kBALtC;AAMA,WAAOnE,KAAK,CAACoE,aAAN,CAAoB,KAApB,EAA2B;AAChCC,MAAAA,SAAS,EAAElE,EAAE,CAACE,QAAQ,CAACiE,IAAT,EAAD,EAAkBN,QAAQ,IAAI3D,QAAQ,CAAC2D,QAAT,EAA9B,CADmB;AAEhCO,MAAAA,KAAK,EAAE;AACLN,QAAAA,KAAK,EAAEA;AADF;AAFyB,KAA3B,EAKJjE,KAAK,CAACoE,aAAN,CAAoB9D,WAAW,CAACkE,QAAhC,EAA0C;AAC3CpB,MAAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAEA,QADL;AAELS,QAAAA,SAAS,EAAErB,KAFN;AAGLC,QAAAA,MAAM,EAAE,KAAKA,MAHR;AAILI,QAAAA,MAAM,EAAE,KAAKA,MAJR;AAKLC,QAAAA,SAAS,EAAE,KAAKA,SALX;AAMLZ,QAAAA,YAAY,EAAE,KAAKA,YANd;AAOLlB,QAAAA,UAAU,EAAE,KAAKA,UAPZ;AAQLoB,QAAAA,SAAS,EAAE,KAAKA;AARX;AADoC,KAA1C,EAWAkB,QAXA,EAWUlE,KAAK,CAACoE,aAAN,CAAoBhE,SAApB,EAA+B;AAC1CiE,MAAAA,SAAS,EAAEF,kBAD+B;AAE1C9C,MAAAA,UAAU,EAAE,KAAKA,UAFyB;AAG1C2C,MAAAA,QAAQ,EAAEA;AAHgC,KAA/B,CAXV,CALI,CAAP;AAqBD,GA5BD;;AA8BA,SAAOxD,IAAP;AACD,CAvHD,CAuHER,KAAK,CAAC2C,SAvHR,CAFO;AA0HPnC,IAAI,CAACkE,mBAAL,GAA2B,MAA3B;AACAlE,IAAI,CAACmE,SAAL,GAAiB;AACfT,EAAAA,QAAQ,EAAEhE,SAAS,CAAC0E,IADL;AAEfT,EAAAA,kBAAkB,EAAEjE,SAAS,CAAC2E,MAFf;AAGfzB,EAAAA,KAAK,EAAElD,SAAS,CAAC2E,MAAV,CAAiBC,UAHT;AAIfd,EAAAA,QAAQ,EAAE9D,SAAS,CAAC6E,IAJL;AAKfd,EAAAA,KAAK,EAAE/D,SAAS,CAAC8E,SAAV,CAAoB,CAAC9E,SAAS,CAAC2E,MAAX,EAAmB3E,SAAS,CAAC+E,MAA7B,CAApB,CALQ;AAMf9B,EAAAA,aAAa,EAAEjD,SAAS,CAACgF;AANV,CAAjB;AAQA1E,IAAI,CAAC2E,YAAL,GAAoB;AAClBnB,EAAAA,QAAQ,EAAE;AADQ,CAApB;AAGAxD,IAAI,CAACD,GAAL,GAAWA,GAAX","sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { Indicator } from \"../Indicator\";\nimport { jsStyles } from \"../Tabs.styles\";\nimport { TabsContext } from \"../TabsContext\";\nimport { Tab } from \"../Tab\";\n/**\r\n                              * Tabs wrapper\r\n                              *\r\n                              * contains static property `Tab`\r\n                              */\n\nexport var Tabs =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Tabs, _React$Component);\n\n  function Tabs() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.tabs = [];\n    _this.tabUpdates = {\n      on: function on(cb) {\n        var index = _this.listeners.push(cb);\n\n        return function () {\n          _this.listeners.splice(index, 1);\n        };\n      }\n    };\n    _this.listeners = [];\n\n    _this.shiftFocus = function (fromTab, delta) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          tabs = _assertThisInitialize.tabs;\n\n      var index = tabs.findIndex(function (x) {\n        return x.id === fromTab;\n      });\n      var newIndex = Math.max(0, Math.min(index + delta, tabs.length - 1));\n      var tab = tabs[newIndex];\n      var tabNode = tab.getNode();\n      var htmlNode = null;\n\n      if (tabNode instanceof React.Component) {\n        htmlNode = findDOMNode(tabNode);\n      }\n\n      if (htmlNode && htmlNode instanceof HTMLElement && typeof htmlNode.focus === 'function') {\n        htmlNode.focus();\n      }\n    };\n\n    _this.notifyUpdate = function () {\n      _this.listeners.forEach(function (cb) {\n        return cb();\n      });\n    };\n\n    _this.switchTab = function (id) {\n      var _this$props = _this.props,\n          onValueChange = _this$props.onValueChange,\n          value = _this$props.value;\n\n      if (id !== value && onValueChange) {\n        onValueChange(id);\n      }\n    };\n\n    _this.getTab = function (id) {\n      var _ref = _this.tabs.find(function (x) {\n        return x.id === id;\n      }) || {},\n          _ref$getNode = _ref.getNode,\n          getNode = _ref$getNode === void 0 ? null : _ref$getNode;\n\n      return getNode && getNode();\n    };\n\n    _this.addTab = function (id, getNode) {\n      _this.tabs = _this.tabs.concat({\n        id: id,\n        getNode: getNode\n      });\n    };\n\n    _this.removeTab = function (id) {\n      _this.tabs = _this.tabs.filter(function (tab) {\n        return tab.id !== id;\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Tabs.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        vertical = _this$props2.vertical,\n        value = _this$props2.value,\n        width = _this$props2.width,\n        children = _this$props2.children,\n        indicatorClassName = _this$props2.indicatorClassName;\n    return React.createElement(\"div\", {\n      className: cn(jsStyles.root(), vertical && jsStyles.vertical()),\n      style: {\n        width: width\n      }\n    }, React.createElement(TabsContext.Provider, {\n      value: {\n        vertical: vertical,\n        activeTab: value,\n        getTab: this.getTab,\n        addTab: this.addTab,\n        removeTab: this.removeTab,\n        notifyUpdate: this.notifyUpdate,\n        shiftFocus: this.shiftFocus,\n        switchTab: this.switchTab\n      }\n    }, children, React.createElement(Indicator, {\n      className: indicatorClassName,\n      tabUpdates: this.tabUpdates,\n      vertical: vertical\n    })));\n  };\n\n  return Tabs;\n}(React.Component);\nTabs.__KONTUR_REACT_UI__ = 'Tabs';\nTabs.propTypes = {\n  children: PropTypes.node,\n  indicatorClassName: PropTypes.string,\n  value: PropTypes.string.isRequired,\n  vertical: PropTypes.bool,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onValueChange: PropTypes.func\n};\nTabs.defaultProps = {\n  vertical: false\n};\nTabs.Tab = Tab;"]},"metadata":{},"sourceType":"module"}