{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport cn from 'classnames';\nimport { CHAR_MASK } from \"../../../lib/date/constants\";\nimport { InternalDateValidator } from \"../../../lib/date/InternalDateValidator\";\nimport { InternalDateComponentType } from \"../../../lib/date/types\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { jsStyles } from \"../DateFragmentsView.styles\";\nexport var DateFragmentsView = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DateFragmentsView, _React$Component);\n\n  function DateFragmentsView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.theme = void 0;\n    _this.rootNode = null;\n\n    _this.isFragment = function (el) {\n      if (_this.rootNode) {\n        // NOTE: NodeList doesn't support method 'forEach' in IE11\n        var fragments = Array.from(_this.rootNode.querySelectorAll('[data-fragment]'));\n        return fragments.some(function (fragment) {\n          return fragment === el || fragment.contains(el);\n        });\n      }\n\n      return false;\n    };\n\n    _this.getRootNode = function () {\n      return _this.rootNode;\n    };\n\n    _this.rootRef = function (el) {\n      _this.rootNode = el;\n    };\n\n    return _this;\n  }\n\n  var _proto = DateFragmentsView.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.renderMain = function renderMain() {\n    var _this3 = this;\n\n    return React.createElement(\"span\", {\n      ref: this.rootRef,\n      className: jsStyles.root(this.theme)\n    }, this.props.fragments.map(function (fragment, index) {\n      return fragment.type === InternalDateComponentType.Separator ? _this3.renderSeparator(fragment, index) : _this3.renderDateComponent(fragment, index);\n    }));\n  };\n\n  _proto.renderSeparator = function renderSeparator(fragment, index) {\n    var _cn;\n\n    var separatorClassName = cn((_cn = {}, _cn[jsStyles.mask(this.theme)] = true, _cn[jsStyles.delimiterFilled()] = this.props.fragments[index + 1].value !== null, _cn));\n    return React.createElement(\"span\", {\n      key: index,\n      className: separatorClassName\n    }, fragment.value);\n  };\n\n  _proto.renderDateComponent = function renderDateComponent(fragment, index) {\n    var _this$props = this.props,\n        inputMode = _this$props.inputMode,\n        onSelectDateComponent = _this$props.onSelectDateComponent,\n        selected = _this$props.selected;\n    var type = fragment.type,\n        value = fragment.value,\n        length = fragment.length,\n        valueWithPad = fragment.valueWithPad;\n    var valueMask = value === null || selected === type && inputMode ? value : valueWithPad || value;\n    var lengthMask = InternalDateValidator.testParseToNumber(valueMask) ? Math.max(length - valueMask.toString().length, 0) : length;\n\n    var handleMouseUp = function handleMouseUp(e) {\n      if (document.activeElement && document.activeElement.contains(e.currentTarget)) {\n        onSelectDateComponent(type, e);\n      }\n    };\n\n    return React.createElement(\"span\", {\n      key: index,\n      \"data-fragment\": \"\",\n      onMouseUp: handleMouseUp\n    }, valueMask, React.createElement(\"span\", {\n      className: jsStyles.mask(this.theme)\n    }, CHAR_MASK.repeat(lengthMask)));\n  };\n\n  return DateFragmentsView;\n}(React.Component);","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/DateInput/DateFragmentsView/DateFragmentsView.js"],"names":["_inheritsLoose","React","cn","CHAR_MASK","InternalDateValidator","InternalDateComponentType","ThemeContext","jsStyles","DateFragmentsView","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","theme","rootNode","isFragment","el","fragments","from","querySelectorAll","some","fragment","contains","getRootNode","rootRef","_proto","prototype","render","_this2","createElement","Consumer","renderMain","_this3","ref","className","root","props","map","index","type","Separator","renderSeparator","renderDateComponent","_cn","separatorClassName","mask","delimiterFilled","value","key","_this$props","inputMode","onSelectDateComponent","selected","valueWithPad","valueMask","lengthMask","testParseToNumber","Math","max","toString","handleMouseUp","e","document","activeElement","currentTarget","onMouseUp","repeat","Component"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport cn from 'classnames';\nimport { CHAR_MASK } from \"../../../lib/date/constants\";\nimport { InternalDateValidator } from \"../../../lib/date/InternalDateValidator\";\nimport { InternalDateComponentType } from \"../../../lib/date/types\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { jsStyles } from \"../DateFragmentsView.styles\";\nexport var DateFragmentsView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DateFragmentsView, _React$Component);\n\n  function DateFragmentsView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.theme = void 0;\n    _this.rootNode = null;\n\n    _this.isFragment = function (el) {\n      if (_this.rootNode) {\n        // NOTE: NodeList doesn't support method 'forEach' in IE11\n        var fragments = Array.from(_this.rootNode.querySelectorAll('[data-fragment]'));\n        return fragments.some(function (fragment) {\n          return fragment === el || fragment.contains(el);\n        });\n      }\n\n      return false;\n    };\n\n    _this.getRootNode = function () {\n      return _this.rootNode;\n    };\n\n    _this.rootRef = function (el) {\n      _this.rootNode = el;\n    };\n\n    return _this;\n  }\n\n  var _proto = DateFragmentsView.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.renderMain = function renderMain() {\n    var _this3 = this;\n\n    return React.createElement(\"span\", {\n      ref: this.rootRef,\n      className: jsStyles.root(this.theme)\n    }, this.props.fragments.map(function (fragment, index) {\n      return fragment.type === InternalDateComponentType.Separator ? _this3.renderSeparator(fragment, index) : _this3.renderDateComponent(fragment, index);\n    }));\n  };\n\n  _proto.renderSeparator = function renderSeparator(fragment, index) {\n    var _cn;\n\n    var separatorClassName = cn((_cn = {}, _cn[jsStyles.mask(this.theme)] = true, _cn[jsStyles.delimiterFilled()] = this.props.fragments[index + 1].value !== null, _cn));\n    return React.createElement(\"span\", {\n      key: index,\n      className: separatorClassName\n    }, fragment.value);\n  };\n\n  _proto.renderDateComponent = function renderDateComponent(fragment, index) {\n    var _this$props = this.props,\n        inputMode = _this$props.inputMode,\n        onSelectDateComponent = _this$props.onSelectDateComponent,\n        selected = _this$props.selected;\n    var type = fragment.type,\n        value = fragment.value,\n        length = fragment.length,\n        valueWithPad = fragment.valueWithPad;\n    var valueMask = value === null || selected === type && inputMode ? value : valueWithPad || value;\n    var lengthMask = InternalDateValidator.testParseToNumber(valueMask) ? Math.max(length - valueMask.toString().length, 0) : length;\n\n    var handleMouseUp = function handleMouseUp(e) {\n      if (document.activeElement && document.activeElement.contains(e.currentTarget)) {\n        onSelectDateComponent(type, e);\n      }\n    };\n\n    return React.createElement(\"span\", {\n      key: index,\n      \"data-fragment\": \"\",\n      onMouseUp: handleMouseUp\n    }, valueMask, React.createElement(\"span\", {\n      className: jsStyles.mask(this.theme)\n    }, CHAR_MASK.repeat(lengthMask)));\n  };\n\n  return DateFragmentsView;\n}(React.Component);"]},"metadata":{},"sourceType":"module"}