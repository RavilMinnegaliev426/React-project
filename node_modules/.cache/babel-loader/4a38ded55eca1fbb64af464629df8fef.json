{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _dec, _class, _class2, _temp;\n\nimport React from 'react';\nimport warning from 'warning';\nimport { FiasLocaleHelper } from \"../../locale\";\nimport { FiasComboBox } from \"../../Form/FiasComboBox\";\nimport { FiasFields } from \"../../types\";\nimport { locale } from \"../../../../lib/locale/decorators\";\nimport { filterProps } from \"../../../../lib/filterProps\";\nimport { FiasAddress } from \"../..\";\nvar COMBOBOX_PASS_PROPS = {\n  limit: true,\n  align: true,\n  searchOnFocus: true,\n  drawArrow: true,\n  autoFocus: true,\n  borderless: true,\n  disablePortal: true,\n  disabled: true,\n  error: true,\n  maxLength: true,\n  menuAlign: true,\n  onBlur: true,\n  onFocus: true,\n  onInputValueChange: true,\n  placeholder: true,\n  size: true,\n  warning: true,\n  width: true,\n  maxMenuHeight: true,\n  onMouseEnter: true,\n  onMouseOver: true,\n  onMouseLeave: true\n};\nexport\n/**\r\n * @deprecated Контур-специфичный компонент, будет удален в 3.0.0, перенесен в `@skbkontur/react-ui-addons` смотри [миграцию](https://github.com/skbkontur/retail-ui/blob/master/packages/react-ui/MIGRATION.md)\r\n */\nvar FiasSearch = (_dec = locale('Fias', FiasLocaleHelper), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(FiasSearch, _React$Component);\n\n  function FiasSearch(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.locale = void 0;\n\n    _this.renderItem = function (address) {\n      return address.getText();\n    };\n\n    _this.renderValue = function (address) {\n      return address.getText(FiasFields.room);\n    };\n\n    _this.renderNotFound = function () {\n      return _this.locale.searchNotFound;\n    };\n\n    _this.valueToString = function (address) {\n      return address.getText(FiasFields.room);\n    };\n\n    _this.onValueChange = function (address) {\n      var onValueChange = _this.props.onValueChange;\n\n      if (onValueChange) {\n        onValueChange(address);\n      }\n    };\n\n    _this.onUnexpectedInput = function (query) {\n      if (!query) {\n        return new FiasAddress();\n      }\n    };\n\n    _this.getItems = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchText) {\n        var _this$props, api, limit, options;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, api = _this$props.api, limit = _this$props.limit;\n                options = {\n                  searchText: searchText,\n                  fullAddress: true,\n                  directParent: false,\n                  limit: (limit || FiasSearch.defaultProps.limit) + 1 // +1 to detect if there are more items\n\n                };\n                return _context.abrupt(\"return\", api.search(options).then(function (result) {\n                  var success = result.success,\n                      data = result.data,\n                      error = result.error;\n                  return success && data ? Promise.resolve(data.map(function (item) {\n                    return FiasAddress.createFromResponse(item);\n                  })) : Promise.reject(error);\n                }));\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    warning(false, \"FiasSearch has been deprecated, use FiasSearch from @skbkontur/react-ui-addons instead, see [migration](https://github.com/skbkontur/retail-ui/blob/master/packages/react-ui/MIGRATION.md)\");\n    return _this;\n  }\n\n  var _proto = FiasSearch.prototype;\n\n  _proto.render = function render() {\n    var restComboBoxProps = filterProps(this.props, COMBOBOX_PASS_PROPS);\n    return React.createElement(FiasComboBox, _extends({\n      getItems: this.getItems,\n      value: this.props.address,\n      renderItem: this.renderItem,\n      renderValue: this.renderValue,\n      valueToString: this.valueToString,\n      onValueChange: this.onValueChange,\n      onUnexpectedInput: this.onUnexpectedInput,\n      renderNotFound: this.renderNotFound\n    }, restComboBoxProps));\n  };\n\n  return FiasSearch;\n}(React.Component), _class2.__KONTUR_REACT_UI__ = 'FiasSearch', _class2.defaultProps = {\n  width: '100%',\n  limit: 5,\n  drawArrow: false,\n  searchOnFocus: false\n}, _temp)) || _class);","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Fias/FiasSearch/FiasSearch/FiasSearch.js"],"names":["_extends","_regeneratorRuntime","_asyncToGenerator","_inheritsLoose","_dec","_class","_class2","_temp","React","warning","FiasLocaleHelper","FiasComboBox","FiasFields","locale","filterProps","FiasAddress","COMBOBOX_PASS_PROPS","limit","align","searchOnFocus","drawArrow","autoFocus","borderless","disablePortal","disabled","error","maxLength","menuAlign","onBlur","onFocus","onInputValueChange","placeholder","size","width","maxMenuHeight","onMouseEnter","onMouseOver","onMouseLeave","FiasSearch","_React$Component","props","_this","call","renderItem","address","getText","renderValue","room","renderNotFound","searchNotFound","valueToString","onValueChange","onUnexpectedInput","query","getItems","_ref","mark","_callee","searchText","_this$props","api","options","wrap","_callee$","_context","prev","next","fullAddress","directParent","defaultProps","abrupt","search","then","result","success","data","Promise","resolve","map","item","createFromResponse","reject","stop","_x","apply","arguments","_proto","prototype","render","restComboBoxProps","createElement","value","Component","__KONTUR_REACT_UI__"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _dec, _class, _class2, _temp;\n\nimport React from 'react';\nimport warning from 'warning';\nimport { FiasLocaleHelper } from \"../../locale\";\nimport { FiasComboBox } from \"../../Form/FiasComboBox\";\nimport { FiasFields } from \"../../types\";\nimport { locale } from \"../../../../lib/locale/decorators\";\nimport { filterProps } from \"../../../../lib/filterProps\";\nimport { FiasAddress } from \"../..\";\nvar COMBOBOX_PASS_PROPS = {\n  limit: true,\n  align: true,\n  searchOnFocus: true,\n  drawArrow: true,\n  autoFocus: true,\n  borderless: true,\n  disablePortal: true,\n  disabled: true,\n  error: true,\n  maxLength: true,\n  menuAlign: true,\n  onBlur: true,\n  onFocus: true,\n  onInputValueChange: true,\n  placeholder: true,\n  size: true,\n  warning: true,\n  width: true,\n  maxMenuHeight: true,\n  onMouseEnter: true,\n  onMouseOver: true,\n  onMouseLeave: true\n};\nexport\n/**\r\n * @deprecated Контур-специфичный компонент, будет удален в 3.0.0, перенесен в `@skbkontur/react-ui-addons` смотри [миграцию](https://github.com/skbkontur/retail-ui/blob/master/packages/react-ui/MIGRATION.md)\r\n */\nvar FiasSearch = (_dec = locale('Fias', FiasLocaleHelper), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(FiasSearch, _React$Component);\n\n  function FiasSearch(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.locale = void 0;\n\n    _this.renderItem = function (address) {\n      return address.getText();\n    };\n\n    _this.renderValue = function (address) {\n      return address.getText(FiasFields.room);\n    };\n\n    _this.renderNotFound = function () {\n      return _this.locale.searchNotFound;\n    };\n\n    _this.valueToString = function (address) {\n      return address.getText(FiasFields.room);\n    };\n\n    _this.onValueChange = function (address) {\n      var onValueChange = _this.props.onValueChange;\n\n      if (onValueChange) {\n        onValueChange(address);\n      }\n    };\n\n    _this.onUnexpectedInput = function (query) {\n      if (!query) {\n        return new FiasAddress();\n      }\n    };\n\n    _this.getItems =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(searchText) {\n        var _this$props, api, limit, options;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, api = _this$props.api, limit = _this$props.limit;\n                options = {\n                  searchText: searchText,\n                  fullAddress: true,\n                  directParent: false,\n                  limit: (limit || FiasSearch.defaultProps.limit) + 1 // +1 to detect if there are more items\n\n                };\n                return _context.abrupt(\"return\", api.search(options).then(function (result) {\n                  var success = result.success,\n                      data = result.data,\n                      error = result.error;\n                  return success && data ? Promise.resolve(data.map(function (item) {\n                    return FiasAddress.createFromResponse(item);\n                  })) : Promise.reject(error);\n                }));\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    warning(false, \"FiasSearch has been deprecated, use FiasSearch from @skbkontur/react-ui-addons instead, see [migration](https://github.com/skbkontur/retail-ui/blob/master/packages/react-ui/MIGRATION.md)\");\n    return _this;\n  }\n\n  var _proto = FiasSearch.prototype;\n\n  _proto.render = function render() {\n    var restComboBoxProps = filterProps(this.props, COMBOBOX_PASS_PROPS);\n    return React.createElement(FiasComboBox, _extends({\n      getItems: this.getItems,\n      value: this.props.address,\n      renderItem: this.renderItem,\n      renderValue: this.renderValue,\n      valueToString: this.valueToString,\n      onValueChange: this.onValueChange,\n      onUnexpectedInput: this.onUnexpectedInput,\n      renderNotFound: this.renderNotFound\n    }, restComboBoxProps));\n  };\n\n  return FiasSearch;\n}(React.Component), _class2.__KONTUR_REACT_UI__ = 'FiasSearch', _class2.defaultProps = {\n  width: '100%',\n  limit: 5,\n  drawArrow: false,\n  searchOnFocus: false\n}, _temp)) || _class);"]},"metadata":{},"sourceType":"module"}