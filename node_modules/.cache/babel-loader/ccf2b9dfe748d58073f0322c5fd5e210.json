{"ast":null,"code":"import EventEmitter from 'eventemitter3';\nimport { unstable_batchedUpdates } from 'react-dom';\nvar emitterCache;\n\nfunction getEmitter() {\n  if (!emitterCache) {\n    emitterCache = new EventEmitter();\n  }\n\n  return emitterCache;\n}\n\nfunction listenBrowserEvents() {\n  window.addEventListener('scroll', emit);\n  window.addEventListener('resize', emit);\n}\n\nfunction unlistenBrowserEvents() {\n  window.removeEventListener('scroll', emit);\n  window.removeEventListener('resize', emit);\n}\n\nexport function addListener(callback) {\n  var emitter = getEmitter();\n\n  if (emitter.listeners('layout').length === 0) {\n    listenBrowserEvents();\n  }\n\n  emitter.addListener('layout', callback);\n  return {\n    remove: function remove() {\n      emitter.removeListener('layout', callback);\n\n      if (emitter.listeners('layout').length === 0) {\n        unlistenBrowserEvents();\n      }\n    }\n  };\n}\nexport function emit() {\n  unstable_batchedUpdates(function () {\n    getEmitter().emit('layout');\n  });\n}","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/lib/LayoutEvents/LayoutEvents.js"],"names":["EventEmitter","unstable_batchedUpdates","emitterCache","getEmitter","listenBrowserEvents","window","addEventListener","emit","unlistenBrowserEvents","removeEventListener","addListener","callback","emitter","listeners","length","remove","removeListener"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,eAAzB;AACA,SAASC,uBAAT,QAAwC,WAAxC;AACA,IAAIC,YAAJ;;AAEA,SAASC,UAAT,GAAsB;AACpB,MAAI,CAACD,YAAL,EAAmB;AACjBA,IAAAA,YAAY,GAAG,IAAIF,YAAJ,EAAf;AACD;;AAED,SAAOE,YAAP;AACD;;AAED,SAASE,mBAAT,GAA+B;AAC7BC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,IAAlC;AACAF,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,IAAlC;AACD;;AAED,SAASC,qBAAT,GAAiC;AAC/BH,EAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCF,IAArC;AACAF,EAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCF,IAArC;AACD;;AAED,OAAO,SAASG,WAAT,CAAqBC,QAArB,EAA+B;AACpC,MAAIC,OAAO,GAAGT,UAAU,EAAxB;;AAEA,MAAIS,OAAO,CAACC,SAAR,CAAkB,QAAlB,EAA4BC,MAA5B,KAAuC,CAA3C,EAA8C;AAC5CV,IAAAA,mBAAmB;AACpB;;AAEDQ,EAAAA,OAAO,CAACF,WAAR,CAAoB,QAApB,EAA8BC,QAA9B;AACA,SAAO;AACLI,IAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxBH,MAAAA,OAAO,CAACI,cAAR,CAAuB,QAAvB,EAAiCL,QAAjC;;AAEA,UAAIC,OAAO,CAACC,SAAR,CAAkB,QAAlB,EAA4BC,MAA5B,KAAuC,CAA3C,EAA8C;AAC5CN,QAAAA,qBAAqB;AACtB;AACF;AAPI,GAAP;AASD;AACD,OAAO,SAASD,IAAT,GAAgB;AACrBN,EAAAA,uBAAuB,CAAC,YAAY;AAClCE,IAAAA,UAAU,GAAGI,IAAb,CAAkB,QAAlB;AACD,GAFsB,CAAvB;AAGD","sourcesContent":["import EventEmitter from 'eventemitter3';\nimport { unstable_batchedUpdates } from 'react-dom';\nvar emitterCache;\n\nfunction getEmitter() {\n  if (!emitterCache) {\n    emitterCache = new EventEmitter();\n  }\n\n  return emitterCache;\n}\n\nfunction listenBrowserEvents() {\n  window.addEventListener('scroll', emit);\n  window.addEventListener('resize', emit);\n}\n\nfunction unlistenBrowserEvents() {\n  window.removeEventListener('scroll', emit);\n  window.removeEventListener('resize', emit);\n}\n\nexport function addListener(callback) {\n  var emitter = getEmitter();\n\n  if (emitter.listeners('layout').length === 0) {\n    listenBrowserEvents();\n  }\n\n  emitter.addListener('layout', callback);\n  return {\n    remove: function remove() {\n      emitter.removeListener('layout', callback);\n\n      if (emitter.listeners('layout').length === 0) {\n        unlistenBrowserEvents();\n      }\n    }\n  };\n}\nexport function emit() {\n  unstable_batchedUpdates(function () {\n    getEmitter().emit('layout');\n  });\n}"]},"metadata":{},"sourceType":"module"}