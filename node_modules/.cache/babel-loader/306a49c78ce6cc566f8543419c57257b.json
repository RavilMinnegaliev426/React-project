{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport cn from 'classnames';\nimport { isKeyArrow, isKeyArrowLeft, isKeyArrowUp } from \"../../../lib/events/keyboard/identifiers\";\nimport { tabListener } from \"../../../lib/events/tabListener\";\nimport { isFunctionalComponent } from \"../../../lib/utils\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { TabsContext, TabsContextDefaultValue } from \"../TabsContext\";\nimport { jsStyles } from \"../Tab.styles\";\n/**\r\n                                          * Tab element of Tabs component\r\n                                          *\r\n                                          * Can be used for creating custom tabs\r\n                                          * ```js\r\n                                          *\r\n                                          * const RouteTab = (props) => (\r\n                                          *   <Tab id={props.to} component={RouteLink} {...props}/>\r\n                                          * )\r\n                                          *\r\n                                          * const MyAwesomeTab = (props) => <Tab id={props.id}>8) {props.children}</Tab>\r\n                                          * ```\r\n                                          *\r\n                                          * Works only inside Tabs component, otherwise throws\r\n                                          */\n\nexport var Tab = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tab, _React$Component);\n\n  function Tab() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.context = _this.context;\n    _this.state = {\n      focusedByKeyboard: false\n    };\n    _this.theme = void 0;\n    _this.tabComponent = null;\n    _this.isArrowKeyPressed = false;\n\n    _this.getUnderlyingNode = function () {\n      return _this.tabComponent;\n    };\n\n    _this.getId = function () {\n      return _this.props.id || _this.props.href;\n    };\n\n    _this.refTabComponent = function (instance) {\n      _this.tabComponent = instance;\n    };\n\n    _this.handleKeyDownGlobal = function (e) {\n      _this.isArrowKeyPressed = isKeyArrow(e);\n    };\n\n    _this.getTabInstance = function () {\n      return _assertThisInitialized(_this);\n    };\n\n    _this.switchTab = function (event) {\n      if (_this.props.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      var id = _this.props.id || _this.props.href;\n\n      if (_this.props.onClick) {\n        _this.props.onClick(event);\n\n        if (event.defaultPrevented) {\n          return;\n        }\n      }\n\n      if (typeof id === 'string') {\n        _this.context.switchTab(id);\n      }\n\n      if (!_this.props.href) {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleMouseDown = function () {\n      return _this.isArrowKeyPressed = false;\n    };\n\n    _this.handleKeyDown = function (e) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n\n        if (e.defaultPrevented) {\n          return;\n        }\n      }\n\n      var id = _this.getId();\n\n      if (typeof id !== 'string') {\n        return;\n      }\n\n      if (!isKeyArrow(e)) {\n        return;\n      }\n\n      e.preventDefault();\n      var delta = isKeyArrowLeft(e) || isKeyArrowUp(e) ? -1 : 1;\n\n      _this.context.shiftFocus(id, delta);\n    };\n\n    _this.handleFocus = function () {\n      if (_this.props.disabled) {\n        return;\n      } // focus event fires before keyDown eventlistener\n      // so we should check focusKeyPressed in async way\n\n\n      process.nextTick(function () {\n        if (tabListener.isTabPressed || _this.isArrowKeyPressed) {\n          _this.setState({\n            focusedByKeyboard: true\n          });\n        }\n      });\n    };\n\n    _this.handleBlur = function () {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      _this.setState({\n        focusedByKeyboard: false\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    invariant(this.context !== TabsContextDefaultValue, 'Tab should be placed inside Tabs component');\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var id = this.getId();\n\n    if (typeof id === 'string') {\n      this.context.addTab(id, this.getTabInstance);\n    }\n\n    window.addEventListener('keydown', this.handleKeyDownGlobal);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.context.activeTab === this.props.id) {\n      this.context.notifyUpdate();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var id = this.getId();\n\n    if (typeof id === 'string') {\n      this.context.removeTab(id);\n    }\n\n    window.removeEventListener('keydown', this.handleKeyDownGlobal);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.getIndicators = function getIndicators() {\n    return {\n      error: Boolean(this.props.error),\n      warning: Boolean(this.props.warning),\n      success: Boolean(this.props.success),\n      primary: Boolean(this.props.primary),\n      disabled: Boolean(this.props.disabled)\n    };\n  };\n\n  _proto.renderMain = function renderMain() {\n    var _cn;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        disabled = _this$props.disabled,\n        error = _this$props.error,\n        warning = _this$props.warning,\n        success = _this$props.success,\n        primary = _this$props.primary,\n        _this$props$component = _this$props.component,\n        Component = _this$props$component === void 0 ? Tab.defaultProps.component : _this$props$component,\n        href = _this$props.href,\n        style = _this$props.style;\n    var isActive = false;\n    var isVertical = false;\n    var id = this.getId();\n\n    if (typeof id === 'string') {\n      isActive = this.context.activeTab === this.getId();\n      isVertical = this.context.vertical;\n    }\n\n    return React.createElement(Component, {\n      className: cn((_cn = {}, _cn[jsStyles.root(this.theme)] = true, _cn[jsStyles.vertical(this.theme)] = !!isVertical, _cn[jsStyles.primary(this.theme)] = !!primary, _cn[jsStyles.success(this.theme)] = !!success, _cn[jsStyles.warning(this.theme)] = !!warning, _cn[jsStyles.error(this.theme)] = !!error, _cn[jsStyles.active(this.theme)] = !!isActive, _cn[jsStyles.disabled(this.theme)] = !!disabled, _cn)),\n      onBlur: this.handleBlur,\n      onClick: this.switchTab,\n      onMouseDown: this.handleMouseDown,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      tabIndex: disabled ? -1 : 0,\n      ref: isFunctionalComponent(Component) ? null : this.refTabComponent,\n      href: href,\n      style: style\n    }, children, this.state.focusedByKeyboard && React.createElement(\"div\", {\n      className: jsStyles.focus(this.theme)\n    }));\n  };\n\n  return Tab;\n}(React.Component);\nTab.__KONTUR_REACT_UI__ = 'Tab';\nTab.contextType = TabsContext;\nTab.propTypes = {\n  children: PropTypes.node,\n  component: PropTypes.any,\n  disabled: PropTypes.bool,\n  href: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nTab.defaultProps = {\n  component: 'a',\n  href: ''\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Tabs/Tab/Tab.js"],"names":["_assertThisInitialized","_inheritsLoose","React","PropTypes","invariant","cn","isKeyArrow","isKeyArrowLeft","isKeyArrowUp","tabListener","isFunctionalComponent","ThemeContext","TabsContext","TabsContextDefaultValue","jsStyles","Tab","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","context","state","focusedByKeyboard","theme","tabComponent","isArrowKeyPressed","getUnderlyingNode","getId","props","id","href","refTabComponent","instance","handleKeyDownGlobal","e","getTabInstance","switchTab","event","disabled","preventDefault","onClick","defaultPrevented","handleMouseDown","handleKeyDown","onKeyDown","delta","shiftFocus","handleFocus","process","nextTick","isTabPressed","setState","handleBlur","_proto","prototype","UNSAFE_componentWillMount","componentDidMount","addTab","window","addEventListener","componentDidUpdate","activeTab","notifyUpdate","componentWillUnmount","removeTab","removeEventListener","render","_this2","createElement","Consumer","renderMain","getIndicators","error","Boolean","warning","success","primary","_cn","_this$props","children","_this$props$component","component","Component","defaultProps","style","isActive","isVertical","vertical","className","root","active","onBlur","onMouseDown","onFocus","tabIndex","ref","focus","__KONTUR_REACT_UI__","contextType","propTypes","node","any","bool","string","isRequired","func"],"mappings":"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","sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport cn from 'classnames';\nimport { isKeyArrow, isKeyArrowLeft, isKeyArrowUp } from \"../../../lib/events/keyboard/identifiers\";\nimport { tabListener } from \"../../../lib/events/tabListener\";\nimport { isFunctionalComponent } from \"../../../lib/utils\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { TabsContext, TabsContextDefaultValue } from \"../TabsContext\";\nimport { jsStyles } from \"../Tab.styles\";\n/**\r\n                                          * Tab element of Tabs component\r\n                                          *\r\n                                          * Can be used for creating custom tabs\r\n                                          * ```js\r\n                                          *\r\n                                          * const RouteTab = (props) => (\r\n                                          *   <Tab id={props.to} component={RouteLink} {...props}/>\r\n                                          * )\r\n                                          *\r\n                                          * const MyAwesomeTab = (props) => <Tab id={props.id}>8) {props.children}</Tab>\r\n                                          * ```\r\n                                          *\r\n                                          * Works only inside Tabs component, otherwise throws\r\n                                          */\n\nexport var Tab =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Tab, _React$Component);\n\n  function Tab() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.context = _this.context;\n    _this.state = {\n      focusedByKeyboard: false\n    };\n    _this.theme = void 0;\n    _this.tabComponent = null;\n    _this.isArrowKeyPressed = false;\n\n    _this.getUnderlyingNode = function () {\n      return _this.tabComponent;\n    };\n\n    _this.getId = function () {\n      return _this.props.id || _this.props.href;\n    };\n\n    _this.refTabComponent = function (instance) {\n      _this.tabComponent = instance;\n    };\n\n    _this.handleKeyDownGlobal = function (e) {\n      _this.isArrowKeyPressed = isKeyArrow(e);\n    };\n\n    _this.getTabInstance = function () {\n      return _assertThisInitialized(_this);\n    };\n\n    _this.switchTab = function (event) {\n      if (_this.props.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      var id = _this.props.id || _this.props.href;\n\n      if (_this.props.onClick) {\n        _this.props.onClick(event);\n\n        if (event.defaultPrevented) {\n          return;\n        }\n      }\n\n      if (typeof id === 'string') {\n        _this.context.switchTab(id);\n      }\n\n      if (!_this.props.href) {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleMouseDown = function () {\n      return _this.isArrowKeyPressed = false;\n    };\n\n    _this.handleKeyDown = function (e) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n\n        if (e.defaultPrevented) {\n          return;\n        }\n      }\n\n      var id = _this.getId();\n\n      if (typeof id !== 'string') {\n        return;\n      }\n\n      if (!isKeyArrow(e)) {\n        return;\n      }\n\n      e.preventDefault();\n      var delta = isKeyArrowLeft(e) || isKeyArrowUp(e) ? -1 : 1;\n\n      _this.context.shiftFocus(id, delta);\n    };\n\n    _this.handleFocus = function () {\n      if (_this.props.disabled) {\n        return;\n      } // focus event fires before keyDown eventlistener\n      // so we should check focusKeyPressed in async way\n\n\n      process.nextTick(function () {\n        if (tabListener.isTabPressed || _this.isArrowKeyPressed) {\n          _this.setState({\n            focusedByKeyboard: true\n          });\n        }\n      });\n    };\n\n    _this.handleBlur = function () {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      _this.setState({\n        focusedByKeyboard: false\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    invariant(this.context !== TabsContextDefaultValue, 'Tab should be placed inside Tabs component');\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var id = this.getId();\n\n    if (typeof id === 'string') {\n      this.context.addTab(id, this.getTabInstance);\n    }\n\n    window.addEventListener('keydown', this.handleKeyDownGlobal);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.context.activeTab === this.props.id) {\n      this.context.notifyUpdate();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var id = this.getId();\n\n    if (typeof id === 'string') {\n      this.context.removeTab(id);\n    }\n\n    window.removeEventListener('keydown', this.handleKeyDownGlobal);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.getIndicators = function getIndicators() {\n    return {\n      error: Boolean(this.props.error),\n      warning: Boolean(this.props.warning),\n      success: Boolean(this.props.success),\n      primary: Boolean(this.props.primary),\n      disabled: Boolean(this.props.disabled)\n    };\n  };\n\n  _proto.renderMain = function renderMain() {\n    var _cn;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        disabled = _this$props.disabled,\n        error = _this$props.error,\n        warning = _this$props.warning,\n        success = _this$props.success,\n        primary = _this$props.primary,\n        _this$props$component = _this$props.component,\n        Component = _this$props$component === void 0 ? Tab.defaultProps.component : _this$props$component,\n        href = _this$props.href,\n        style = _this$props.style;\n    var isActive = false;\n    var isVertical = false;\n    var id = this.getId();\n\n    if (typeof id === 'string') {\n      isActive = this.context.activeTab === this.getId();\n      isVertical = this.context.vertical;\n    }\n\n    return React.createElement(Component, {\n      className: cn((_cn = {}, _cn[jsStyles.root(this.theme)] = true, _cn[jsStyles.vertical(this.theme)] = !!isVertical, _cn[jsStyles.primary(this.theme)] = !!primary, _cn[jsStyles.success(this.theme)] = !!success, _cn[jsStyles.warning(this.theme)] = !!warning, _cn[jsStyles.error(this.theme)] = !!error, _cn[jsStyles.active(this.theme)] = !!isActive, _cn[jsStyles.disabled(this.theme)] = !!disabled, _cn)),\n      onBlur: this.handleBlur,\n      onClick: this.switchTab,\n      onMouseDown: this.handleMouseDown,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      tabIndex: disabled ? -1 : 0,\n      ref: isFunctionalComponent(Component) ? null : this.refTabComponent,\n      href: href,\n      style: style\n    }, children, this.state.focusedByKeyboard && React.createElement(\"div\", {\n      className: jsStyles.focus(this.theme)\n    }));\n  };\n\n  return Tab;\n}(React.Component);\nTab.__KONTUR_REACT_UI__ = 'Tab';\nTab.contextType = TabsContext;\nTab.propTypes = {\n  children: PropTypes.node,\n  component: PropTypes.any,\n  disabled: PropTypes.bool,\n  href: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nTab.defaultProps = {\n  component: 'a',\n  href: ''\n};"]},"metadata":{},"sourceType":"module"}