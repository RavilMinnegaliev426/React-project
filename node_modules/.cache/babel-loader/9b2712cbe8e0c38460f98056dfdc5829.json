{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { PopupHelper } from \"../PopupHelper\";\nimport { jsStyles } from \"../PopupPin.styles\";\nvar borderStyles = {\n  position: 'absolute',\n  borderStyle: 'solid',\n  borderTopColor: 'transparent',\n  borderBottomColor: 'transparent',\n  borderLeftColor: 'transparent',\n  borderRightColor: 'transparent'\n};\nexport var PopupPin = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(PopupPin, _React$Component);\n\n  function PopupPin() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = PopupPin.prototype;\n\n  _proto.render = function render() {\n    if (!this.props.popupElement) {\n      return null;\n    }\n\n    var options = this.getPinOptions(PopupHelper.getElementAbsoluteRect(this.props.popupElement), PopupHelper.getPositionObject(this.props.popupPosition), this.props.size, this.props.offset, this.props.borderWidth);\n    var styleOuter = this.getOuterStyle(options.activeBorder, options.outerSize, this.props.borderColor);\n    var styleInner = this.getInnerStyle(options.activeBorder, this.props.size, this.props.backgroundColor);\n    var styleWrapper = this.getWrapperStyle(options.outerLeft, options.outerTop, options.outerSize);\n    return React.createElement(\"div\", {\n      className: jsStyles.wrapper(),\n      style: styleWrapper\n    }, React.createElement(\"div\", {\n      style: styleOuter\n    }, React.createElement(\"div\", {\n      style: styleInner\n    })));\n  };\n\n  _proto.getPopupOppositeDirection = function getPopupOppositeDirection() {\n    var popupDirection = PopupHelper.getPositionObject(this.props.popupPosition).direction;\n\n    switch (popupDirection) {\n      case 'top':\n        return 'bottom';\n\n      case 'bottom':\n        return 'top';\n\n      case 'left':\n        return 'right';\n\n      case 'right':\n        return 'left';\n\n      default:\n        throw new TypeError('Unknown direction ' + popupDirection);\n    }\n  };\n\n  _proto.getWrapperStyle = function getWrapperStyle(left, top, borderWidth) {\n    var _ref, _ref2;\n\n    var direction = this.getPopupOppositeDirection();\n\n    switch (direction) {\n      case 'top':\n      case 'bottom':\n        return _ref = {}, _ref[direction] = -borderWidth + 'px', _ref.left = left + 'px', _ref.width = borderWidth * 2 + 'px', _ref.height = borderWidth + 'px', _ref;\n\n      case 'left':\n      case 'right':\n        return _ref2 = {}, _ref2[direction] = -borderWidth + 'px', _ref2.top = top + 'px', _ref2.height = borderWidth * 2 + 'px', _ref2.width = borderWidth + 'px', _ref2;\n\n      default:\n        throw new TypeError('Unknown direction ' + direction);\n    }\n  };\n\n  _proto.getOuterStyle = function getOuterStyle(activeBorder, borderWitdth, borderColor) {\n    var _extends2, _extends3;\n\n    var direction = this.getPopupOppositeDirection();\n\n    switch (direction) {\n      case 'top':\n      case 'bottom':\n        return _extends({}, borderStyles, (_extends2 = {}, _extends2[direction] = -borderWitdth + 'px', _extends2.left = '0px', _extends2.borderWidth = borderWitdth + 'px', _extends2['border' + activeBorder + 'Color'] = borderColor, _extends2));\n\n      case 'left':\n      case 'right':\n        return _extends({}, borderStyles, (_extends3 = {}, _extends3[direction] = -borderWitdth + 'px', _extends3.top = '0px', _extends3.borderWidth = borderWitdth + 'px', _extends3['border' + activeBorder + 'Color'] = borderColor, _extends3));\n\n      default:\n        throw new TypeError('Unknown direction ' + direction);\n    }\n  };\n\n  _proto.getInnerStyle = function getInnerStyle(activeBorder, borderWitdth, borderColor) {\n    var _extends4, _extends5;\n\n    var direction = this.getPopupOppositeDirection();\n\n    switch (direction) {\n      case 'top':\n      case 'bottom':\n        return _extends({}, borderStyles, (_extends4 = {}, _extends4[direction] = -borderWitdth + 2 + 'px', _extends4.left = -borderWitdth + 'px', _extends4.borderWidth = borderWitdth + 'px', _extends4['border' + activeBorder + 'Color'] = borderColor, _extends4));\n\n      case 'left':\n      case 'right':\n        return _extends({}, borderStyles, (_extends5 = {}, _extends5[direction] = -borderWitdth + 2 + 'px', _extends5.top = -borderWitdth + 'px', _extends5.borderWidth = borderWitdth + 'px', _extends5['border' + activeBorder + 'Color'] = borderColor, _extends5));\n\n      default:\n        throw new TypeError('Unknown direction ' + direction);\n    }\n  };\n\n  _proto.getPinOptions = function getPinOptions(popupRect, popupPosition, pinSize, pinOffset, borderWidth) {\n    var bordersDelta = 2 * borderWidth;\n    var outerSize = pinSize + bordersDelta;\n\n    switch (popupPosition.direction) {\n      case 'top':\n        return {\n          outerTop: popupRect.height,\n          outerLeft: this.getPinLeftCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          innerTop: -outerSize,\n          innerLeft: -outerSize + bordersDelta,\n          activeBorder: 'Top',\n          outerSize: outerSize\n        };\n\n      case 'bottom':\n        return {\n          outerTop: -2 * outerSize,\n          outerLeft: this.getPinLeftCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          innerTop: -outerSize + 2 * bordersDelta,\n          innerLeft: -outerSize + bordersDelta,\n          activeBorder: 'Bottom',\n          outerSize: outerSize\n        };\n\n      case 'left':\n        return {\n          outerTop: this.getPinTopCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          outerLeft: popupRect.width,\n          innerTop: -outerSize + bordersDelta,\n          innerLeft: -outerSize,\n          activeBorder: 'Left',\n          outerSize: outerSize\n        };\n\n      case 'right':\n        return {\n          outerTop: this.getPinTopCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          outerLeft: -2 * outerSize,\n          innerTop: -outerSize + bordersDelta,\n          innerLeft: -outerSize + 2 * bordersDelta,\n          activeBorder: 'Right',\n          outerSize: outerSize\n        };\n\n      default:\n        throw new Error('Direction must be one of top, right, bottom, left');\n    }\n  };\n\n  _proto.getPinTopCoordinate = function getPinTopCoordinate(popupRect, align, pinHeight, pinOffset) {\n    switch (align) {\n      case 'top':\n        return pinOffset;\n\n      case 'middle':\n        return popupRect.height / 2 - pinHeight;\n\n      case 'bottom':\n        return popupRect.height - pinOffset - 2 * pinHeight;\n\n      default:\n        throw new Error(\"Unexpected align '\" + align + \"'\");\n    }\n  };\n\n  _proto.getPinLeftCoordinate = function getPinLeftCoordinate(popupRect, align, pinHeight, pinOffset) {\n    switch (align) {\n      case 'left':\n        return pinOffset;\n\n      case 'center':\n        return popupRect.width / 2 - pinHeight;\n\n      case 'right':\n        return popupRect.width - pinOffset - 2 * pinHeight;\n\n      default:\n        throw new Error(\"Unexpected align '\" + align + \"'\");\n    }\n  };\n\n  return PopupPin;\n}(React.Component);\nPopupPin.__KONTUR_REACT_UI__ = 'PopupPin';\nPopupPin.propTypes = {\n  /**\r\n   * Цвет фон пина\r\n   */\n  backgroundColor: PropTypes.string,\n\n  /**\r\n   * Цвет границы пина\r\n   */\n  borderColor: PropTypes.string,\n\n  /**\r\n   * Ширина границы пина\r\n   */\n  borderWidth: PropTypes.number,\n\n  /**\r\n   * Смещение пина от края попапа. Край задаётся в пропе position вторым словом\r\n   */\n  offset: PropTypes.number,\n\n  /**\r\n   * Ссылка на попап\r\n   */\n  popupElement: PropTypes.any,\n\n  /**\r\n   * Позиция поапа, по которой будет вычеслено положение пина\r\n   */\n  popupPosition: PropTypes.string,\n\n  /**\r\n   * Сторона пина без учёта границы.\r\n   * Пин представляет собой равносторонний треугольник, высота от попапа\r\n   * до \"носика\" пина будет соответствовать формуле (size* √3)/2\r\n   */\n  size: PropTypes.number\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/internal/Popup/PopupPin/PopupPin.js"],"names":["_extends","_inheritsLoose","React","PropTypes","PopupHelper","jsStyles","borderStyles","position","borderStyle","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","PopupPin","_React$Component","apply","arguments","_proto","prototype","render","props","popupElement","options","getPinOptions","getElementAbsoluteRect","getPositionObject","popupPosition","size","offset","borderWidth","styleOuter","getOuterStyle","activeBorder","outerSize","borderColor","styleInner","getInnerStyle","backgroundColor","styleWrapper","getWrapperStyle","outerLeft","outerTop","createElement","className","wrapper","style","getPopupOppositeDirection","popupDirection","direction","TypeError","left","top","_ref","_ref2","width","height","borderWitdth","_extends2","_extends3","_extends4","_extends5","popupRect","pinSize","pinOffset","bordersDelta","getPinLeftCoordinate","align","innerTop","innerLeft","getPinTopCoordinate","Error","pinHeight","Component","__KONTUR_REACT_UI__","propTypes","string","number","any"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { PopupHelper } from \"../PopupHelper\";\nimport { jsStyles } from \"../PopupPin.styles\";\nvar borderStyles = {\n  position: 'absolute',\n  borderStyle: 'solid',\n  borderTopColor: 'transparent',\n  borderBottomColor: 'transparent',\n  borderLeftColor: 'transparent',\n  borderRightColor: 'transparent'\n};\nexport var PopupPin =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(PopupPin, _React$Component);\n\n  function PopupPin() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = PopupPin.prototype;\n\n  _proto.render = function render() {\n    if (!this.props.popupElement) {\n      return null;\n    }\n\n    var options = this.getPinOptions(PopupHelper.getElementAbsoluteRect(this.props.popupElement), PopupHelper.getPositionObject(this.props.popupPosition), this.props.size, this.props.offset, this.props.borderWidth);\n    var styleOuter = this.getOuterStyle(options.activeBorder, options.outerSize, this.props.borderColor);\n    var styleInner = this.getInnerStyle(options.activeBorder, this.props.size, this.props.backgroundColor);\n    var styleWrapper = this.getWrapperStyle(options.outerLeft, options.outerTop, options.outerSize);\n    return React.createElement(\"div\", {\n      className: jsStyles.wrapper(),\n      style: styleWrapper\n    }, React.createElement(\"div\", {\n      style: styleOuter\n    }, React.createElement(\"div\", {\n      style: styleInner\n    })));\n  };\n\n  _proto.getPopupOppositeDirection = function getPopupOppositeDirection() {\n    var popupDirection = PopupHelper.getPositionObject(this.props.popupPosition).direction;\n\n    switch (popupDirection) {\n      case 'top':\n        return 'bottom';\n\n      case 'bottom':\n        return 'top';\n\n      case 'left':\n        return 'right';\n\n      case 'right':\n        return 'left';\n\n      default:\n        throw new TypeError('Unknown direction ' + popupDirection);\n    }\n  };\n\n  _proto.getWrapperStyle = function getWrapperStyle(left, top, borderWidth) {\n    var _ref, _ref2;\n\n    var direction = this.getPopupOppositeDirection();\n\n    switch (direction) {\n      case 'top':\n      case 'bottom':\n        return _ref = {}, _ref[direction] = -borderWidth + 'px', _ref.left = left + 'px', _ref.width = borderWidth * 2 + 'px', _ref.height = borderWidth + 'px', _ref;\n\n      case 'left':\n      case 'right':\n        return _ref2 = {}, _ref2[direction] = -borderWidth + 'px', _ref2.top = top + 'px', _ref2.height = borderWidth * 2 + 'px', _ref2.width = borderWidth + 'px', _ref2;\n\n      default:\n        throw new TypeError('Unknown direction ' + direction);\n    }\n  };\n\n  _proto.getOuterStyle = function getOuterStyle(activeBorder, borderWitdth, borderColor) {\n    var _extends2, _extends3;\n\n    var direction = this.getPopupOppositeDirection();\n\n    switch (direction) {\n      case 'top':\n      case 'bottom':\n        return _extends({}, borderStyles, (_extends2 = {}, _extends2[direction] = -borderWitdth + 'px', _extends2.left = '0px', _extends2.borderWidth = borderWitdth + 'px', _extends2['border' + activeBorder + 'Color'] = borderColor, _extends2));\n\n      case 'left':\n      case 'right':\n        return _extends({}, borderStyles, (_extends3 = {}, _extends3[direction] = -borderWitdth + 'px', _extends3.top = '0px', _extends3.borderWidth = borderWitdth + 'px', _extends3['border' + activeBorder + 'Color'] = borderColor, _extends3));\n\n      default:\n        throw new TypeError('Unknown direction ' + direction);\n    }\n  };\n\n  _proto.getInnerStyle = function getInnerStyle(activeBorder, borderWitdth, borderColor) {\n    var _extends4, _extends5;\n\n    var direction = this.getPopupOppositeDirection();\n\n    switch (direction) {\n      case 'top':\n      case 'bottom':\n        return _extends({}, borderStyles, (_extends4 = {}, _extends4[direction] = -borderWitdth + 2 + 'px', _extends4.left = -borderWitdth + 'px', _extends4.borderWidth = borderWitdth + 'px', _extends4['border' + activeBorder + 'Color'] = borderColor, _extends4));\n\n      case 'left':\n      case 'right':\n        return _extends({}, borderStyles, (_extends5 = {}, _extends5[direction] = -borderWitdth + 2 + 'px', _extends5.top = -borderWitdth + 'px', _extends5.borderWidth = borderWitdth + 'px', _extends5['border' + activeBorder + 'Color'] = borderColor, _extends5));\n\n      default:\n        throw new TypeError('Unknown direction ' + direction);\n    }\n  };\n\n  _proto.getPinOptions = function getPinOptions(popupRect, popupPosition, pinSize, pinOffset, borderWidth) {\n    var bordersDelta = 2 * borderWidth;\n    var outerSize = pinSize + bordersDelta;\n\n    switch (popupPosition.direction) {\n      case 'top':\n        return {\n          outerTop: popupRect.height,\n          outerLeft: this.getPinLeftCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          innerTop: -outerSize,\n          innerLeft: -outerSize + bordersDelta,\n          activeBorder: 'Top',\n          outerSize: outerSize\n        };\n\n      case 'bottom':\n        return {\n          outerTop: -2 * outerSize,\n          outerLeft: this.getPinLeftCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          innerTop: -outerSize + 2 * bordersDelta,\n          innerLeft: -outerSize + bordersDelta,\n          activeBorder: 'Bottom',\n          outerSize: outerSize\n        };\n\n      case 'left':\n        return {\n          outerTop: this.getPinTopCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          outerLeft: popupRect.width,\n          innerTop: -outerSize + bordersDelta,\n          innerLeft: -outerSize,\n          activeBorder: 'Left',\n          outerSize: outerSize\n        };\n\n      case 'right':\n        return {\n          outerTop: this.getPinTopCoordinate(popupRect, popupPosition.align, pinSize, pinOffset) - bordersDelta,\n          outerLeft: -2 * outerSize,\n          innerTop: -outerSize + bordersDelta,\n          innerLeft: -outerSize + 2 * bordersDelta,\n          activeBorder: 'Right',\n          outerSize: outerSize\n        };\n\n      default:\n        throw new Error('Direction must be one of top, right, bottom, left');\n    }\n  };\n\n  _proto.getPinTopCoordinate = function getPinTopCoordinate(popupRect, align, pinHeight, pinOffset) {\n    switch (align) {\n      case 'top':\n        return pinOffset;\n\n      case 'middle':\n        return popupRect.height / 2 - pinHeight;\n\n      case 'bottom':\n        return popupRect.height - pinOffset - 2 * pinHeight;\n\n      default:\n        throw new Error(\"Unexpected align '\" + align + \"'\");\n    }\n  };\n\n  _proto.getPinLeftCoordinate = function getPinLeftCoordinate(popupRect, align, pinHeight, pinOffset) {\n    switch (align) {\n      case 'left':\n        return pinOffset;\n\n      case 'center':\n        return popupRect.width / 2 - pinHeight;\n\n      case 'right':\n        return popupRect.width - pinOffset - 2 * pinHeight;\n\n      default:\n        throw new Error(\"Unexpected align '\" + align + \"'\");\n    }\n  };\n\n  return PopupPin;\n}(React.Component);\nPopupPin.__KONTUR_REACT_UI__ = 'PopupPin';\nPopupPin.propTypes = {\n  /**\r\n   * Цвет фон пина\r\n   */\n  backgroundColor: PropTypes.string,\n\n  /**\r\n   * Цвет границы пина\r\n   */\n  borderColor: PropTypes.string,\n\n  /**\r\n   * Ширина границы пина\r\n   */\n  borderWidth: PropTypes.number,\n\n  /**\r\n   * Смещение пина от края попапа. Край задаётся в пропе position вторым словом\r\n   */\n  offset: PropTypes.number,\n\n  /**\r\n   * Ссылка на попап\r\n   */\n  popupElement: PropTypes.any,\n\n  /**\r\n   * Позиция поапа, по которой будет вычеслено положение пина\r\n   */\n  popupPosition: PropTypes.string,\n\n  /**\r\n   * Сторона пина без учёта границы.\r\n   * Пин представляет собой равносторонний треугольник, высота от попапа\r\n   * до \"носика\" пина будет соответствовать формуле (size* √3)/2\r\n   */\n  size: PropTypes.number\n};"]},"metadata":{},"sourceType":"module"}