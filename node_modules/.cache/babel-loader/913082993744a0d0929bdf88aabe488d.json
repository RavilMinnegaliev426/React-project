{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { isKeyArrowVertical, isKeyEnter, isKeySpace, someKeys } from \"../../../lib/events/keyboard/identifiers\";\nimport { Icon as Icon20 } from \"../../../internal/icons/20px\";\nimport * as LayoutEvents from \"../../../lib/LayoutEvents\";\nimport { tabListener } from \"../../../lib/events/tabListener\";\nimport { PopupMenu } from \"../../../internal/PopupMenu\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { MenuKebabIcon } from \"../../../internal/icons/16px\";\nimport { jsStyles } from \"../Kebab.styles\";\nexport var Kebab = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Kebab, _React$Component);\n\n  function Kebab() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      opened: false,\n      focusedByTab: false,\n      anchor: null\n    };\n    _this.theme = void 0;\n    _this.listener = {\n      remove: function remove() {\n        return undefined;\n      }\n    };\n\n    _this.renderCaption = function (captionProps) {\n      var _cn;\n\n      var disabled = _this.props.disabled;\n\n      var handleCaptionKeyDown = function handleCaptionKeyDown(event) {\n        if (!disabled) {\n          _this.handleCaptionKeyDown(event, captionProps.openMenu);\n        }\n      };\n\n      var handleCaptionClick = function handleCaptionClick() {\n        if (!disabled) {\n          captionProps.toggleMenu();\n        }\n      };\n\n      return React.createElement(\"span\", {\n        tabIndex: disabled ? -1 : 0,\n        onClick: handleCaptionClick,\n        onKeyDown: handleCaptionKeyDown,\n        onFocus: _this.handleFocus,\n        onBlur: _this.handleBlur,\n        className: cn((_cn = {}, _cn[jsStyles.kebab()] = true, _cn[jsStyles.opened()] = captionProps.opened, _cn[jsStyles.disabled()] = disabled, _cn[jsStyles.focused(_this.theme)] = _this.state.focusedByTab, _cn))\n      }, _this.renderIcon());\n    };\n\n    _this.handleCaptionKeyDown = function (e, openMenu) {\n      if (someKeys(isKeyEnter, isKeySpace, isKeyArrowVertical)(e)) {\n        e.preventDefault();\n        openMenu(true);\n      }\n    };\n\n    _this.handleChangeMenuState = function (isOpened, restoreFocus) {\n      _this.setState({\n        opened: isOpened,\n        focusedByTab: !isOpened && restoreFocus\n      }, function () {\n        if (_this.props.disabled) {\n          return;\n        }\n\n        if (_this.state.opened) {\n          _this.props.onOpen();\n        } else {\n          _this.props.onClose();\n        }\n      });\n    };\n\n    _this.handleFocus = function () {\n      if (!_this.props.disabled) {\n        // focus event fires before keyDown eventlistener\n        // so we should check tabPressed in async way\n        process.nextTick(function () {\n          if (tabListener.isTabPressed) {\n            _this.setState({\n              focusedByTab: true\n            });\n          }\n        });\n      }\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        focusedByTab: false\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Kebab.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    /** addListener'у нужен колбэк в аргумент */\n    this.listener = LayoutEvents.addListener(function () {\n      return undefined;\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.listener.remove();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.renderMain = function renderMain() {\n    var _this$props = this.props,\n        disabled = _this$props.disabled,\n        positions = _this$props.positions;\n    return React.createElement(PopupMenu, {\n      popupMargin: 5,\n      popupPinOffset: 15,\n      popupHasPin: true,\n      positions: positions,\n      onChangeMenuState: this.handleChangeMenuState,\n      caption: this.renderCaption,\n      disableAnimations: this.props.disableAnimations\n    }, !disabled && this.props.children);\n  };\n\n  _proto.renderIcon = function renderIcon() {\n    switch (this.props.size) {\n      case 'small':\n        return React.createElement(\"div\", {\n          className: jsStyles.iconsmall()\n        }, React.createElement(MenuKebabIcon, {\n          size: \"14px\",\n          color: \"#757575\"\n        }));\n\n      case 'medium':\n        return React.createElement(\"div\", {\n          className: jsStyles.iconmedium()\n        }, React.createElement(MenuKebabIcon, {\n          size: \"18px\",\n          color: \"#757575\"\n        }));\n\n      case 'large':\n        return React.createElement(\"div\", {\n          className: jsStyles.iconlarge()\n        }, React.createElement(Icon20, {\n          name: \"kebab\",\n          color: \"#757575\"\n        }));\n\n      default:\n        throw new Error(\"Unexpected size '\" + this.props.size + \"'\");\n    }\n  };\n\n  return Kebab;\n}(React.Component);\nKebab.__KONTUR_REACT_UI__ = 'Kebab';\nKebab.propTypes = {};\nKebab.defaultProps = {\n  onOpen: function onOpen() {\n    return undefined;\n  },\n  onClose: function onClose() {\n    return undefined;\n  },\n  positions: ['bottom left', 'bottom right', 'top left', 'top right'],\n  size: 'small',\n  disableAnimations: Boolean(process.env.enableReactTesting)\n};\nKebab.propTypes = {\n  children: PropTypes.node,\n  disabled: PropTypes.bool,\n  menuMaxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\r\n                                                                             * Размер кебаба small 14px | large 20px\r\n                                                                             */\n  size: PropTypes.string,\n\n  /**\r\n                           * Коллбек, вызывающийся перед закрытием кебаба\r\n                           */\n  onClose: PropTypes.func,\n\n  /**\r\n                            * Коллбек, вызывающийся перед открытием кебаба\r\n                            */\n  onOpen: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/ravka/Desktop/react-typescript-task/node_modules/@skbkontur/react-ui/components/Kebab/Kebab/Kebab.js"],"names":["_inheritsLoose","React","PropTypes","cn","isKeyArrowVertical","isKeyEnter","isKeySpace","someKeys","Icon","Icon20","LayoutEvents","tabListener","PopupMenu","ThemeContext","MenuKebabIcon","jsStyles","Kebab","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","opened","focusedByTab","anchor","theme","listener","remove","undefined","renderCaption","captionProps","_cn","disabled","props","handleCaptionKeyDown","event","openMenu","handleCaptionClick","toggleMenu","createElement","tabIndex","onClick","onKeyDown","onFocus","handleFocus","onBlur","handleBlur","className","kebab","focused","renderIcon","e","preventDefault","handleChangeMenuState","isOpened","restoreFocus","setState","onOpen","onClose","process","nextTick","isTabPressed","_proto","prototype","componentDidMount","addListener","componentWillUnmount","render","_this2","Consumer","renderMain","_this$props","positions","popupMargin","popupPinOffset","popupHasPin","onChangeMenuState","caption","disableAnimations","children","size","iconsmall","color","iconmedium","iconlarge","name","Error","Component","__KONTUR_REACT_UI__","propTypes","defaultProps","Boolean","env","enableReactTesting","node","bool","menuMaxHeight","oneOfType","string","number","func"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { isKeyArrowVertical, isKeyEnter, isKeySpace, someKeys } from \"../../../lib/events/keyboard/identifiers\";\nimport { Icon as Icon20 } from \"../../../internal/icons/20px\";\nimport * as LayoutEvents from \"../../../lib/LayoutEvents\";\nimport { tabListener } from \"../../../lib/events/tabListener\";\nimport { PopupMenu } from \"../../../internal/PopupMenu\";\nimport { ThemeContext } from \"../../../lib/theming/ThemeContext\";\nimport { MenuKebabIcon } from \"../../../internal/icons/16px\";\nimport { jsStyles } from \"../Kebab.styles\";\nexport var Kebab =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Kebab, _React$Component);\n\n  function Kebab() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      opened: false,\n      focusedByTab: false,\n      anchor: null\n    };\n    _this.theme = void 0;\n    _this.listener = {\n      remove: function remove() {\n        return undefined;\n      }\n    };\n\n    _this.renderCaption = function (captionProps) {\n      var _cn;\n\n      var disabled = _this.props.disabled;\n\n      var handleCaptionKeyDown = function handleCaptionKeyDown(event) {\n        if (!disabled) {\n          _this.handleCaptionKeyDown(event, captionProps.openMenu);\n        }\n      };\n\n      var handleCaptionClick = function handleCaptionClick() {\n        if (!disabled) {\n          captionProps.toggleMenu();\n        }\n      };\n\n      return React.createElement(\"span\", {\n        tabIndex: disabled ? -1 : 0,\n        onClick: handleCaptionClick,\n        onKeyDown: handleCaptionKeyDown,\n        onFocus: _this.handleFocus,\n        onBlur: _this.handleBlur,\n        className: cn((_cn = {}, _cn[jsStyles.kebab()] = true, _cn[jsStyles.opened()] = captionProps.opened, _cn[jsStyles.disabled()] = disabled, _cn[jsStyles.focused(_this.theme)] = _this.state.focusedByTab, _cn))\n      }, _this.renderIcon());\n    };\n\n    _this.handleCaptionKeyDown = function (e, openMenu) {\n      if (someKeys(isKeyEnter, isKeySpace, isKeyArrowVertical)(e)) {\n        e.preventDefault();\n        openMenu(true);\n      }\n    };\n\n    _this.handleChangeMenuState = function (isOpened, restoreFocus) {\n      _this.setState({\n        opened: isOpened,\n        focusedByTab: !isOpened && restoreFocus\n      }, function () {\n        if (_this.props.disabled) {\n          return;\n        }\n\n        if (_this.state.opened) {\n          _this.props.onOpen();\n        } else {\n          _this.props.onClose();\n        }\n      });\n    };\n\n    _this.handleFocus = function () {\n      if (!_this.props.disabled) {\n        // focus event fires before keyDown eventlistener\n        // so we should check tabPressed in async way\n        process.nextTick(function () {\n          if (tabListener.isTabPressed) {\n            _this.setState({\n              focusedByTab: true\n            });\n          }\n        });\n      }\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        focusedByTab: false\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Kebab.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    /** addListener'у нужен колбэк в аргумент */\n    this.listener = LayoutEvents.addListener(function () {\n      return undefined;\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.listener.remove();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(ThemeContext.Consumer, null, function (theme) {\n      _this2.theme = theme;\n      return _this2.renderMain();\n    });\n  };\n\n  _proto.renderMain = function renderMain() {\n    var _this$props = this.props,\n        disabled = _this$props.disabled,\n        positions = _this$props.positions;\n    return React.createElement(PopupMenu, {\n      popupMargin: 5,\n      popupPinOffset: 15,\n      popupHasPin: true,\n      positions: positions,\n      onChangeMenuState: this.handleChangeMenuState,\n      caption: this.renderCaption,\n      disableAnimations: this.props.disableAnimations\n    }, !disabled && this.props.children);\n  };\n\n  _proto.renderIcon = function renderIcon() {\n    switch (this.props.size) {\n      case 'small':\n        return React.createElement(\"div\", {\n          className: jsStyles.iconsmall()\n        }, React.createElement(MenuKebabIcon, {\n          size: \"14px\",\n          color: \"#757575\"\n        }));\n\n      case 'medium':\n        return React.createElement(\"div\", {\n          className: jsStyles.iconmedium()\n        }, React.createElement(MenuKebabIcon, {\n          size: \"18px\",\n          color: \"#757575\"\n        }));\n\n      case 'large':\n        return React.createElement(\"div\", {\n          className: jsStyles.iconlarge()\n        }, React.createElement(Icon20, {\n          name: \"kebab\",\n          color: \"#757575\"\n        }));\n\n      default:\n        throw new Error(\"Unexpected size '\" + this.props.size + \"'\");\n    }\n  };\n\n  return Kebab;\n}(React.Component);\nKebab.__KONTUR_REACT_UI__ = 'Kebab';\nKebab.propTypes = {};\nKebab.defaultProps = {\n  onOpen: function onOpen() {\n    return undefined;\n  },\n  onClose: function onClose() {\n    return undefined;\n  },\n  positions: ['bottom left', 'bottom right', 'top left', 'top right'],\n  size: 'small',\n  disableAnimations: Boolean(process.env.enableReactTesting)\n};\nKebab.propTypes = {\n  children: PropTypes.node,\n  disabled: PropTypes.bool,\n  menuMaxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\r\n                                                                             * Размер кебаба small 14px | large 20px\r\n                                                                             */\n  size: PropTypes.string,\n\n  /**\r\n                           * Коллбек, вызывающийся перед закрытием кебаба\r\n                           */\n  onClose: PropTypes.func,\n\n  /**\r\n                            * Коллбек, вызывающийся перед открытием кебаба\r\n                            */\n  onOpen: PropTypes.func\n};"]},"metadata":{},"sourceType":"module"}